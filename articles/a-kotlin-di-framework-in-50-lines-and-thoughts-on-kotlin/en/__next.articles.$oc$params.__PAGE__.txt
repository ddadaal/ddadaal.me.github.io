1:"$Sreact.fragment"
2:I[28979,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"ArticleFrontmatter"]
c:I[21753,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"ArticleSummarization"]
d:I[79817,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"Gallery"]
44:I[23491,["/_next/static/chunks/2caa33a942c5f527.js","/_next/static/chunks/59983278a34fd25c.js"],"OutletBoundary"]
45:"$Sreact.suspense"
7d:I[14620,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"ArticleToc"]
7e:I[39182,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"RelatedArticles"]
7f:I[42449,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"CommentPanelWithCurrentLanguage"]
:HL["/_next/static/chunks/44d2e091595b3eca.css","style"]
:HL["/_next/static/chunks/5e55d74f3211c796.css","style"]
:HL["/_next/static/chunks/b59bad6ea4f112f2.css","style"]
3:T33c9,
# Why

If you have got used to using DI framework (like Spring) to manage and inject dependencies, and now you have to start a new, relatively simpler, but not so simple project, you have 2 options to work with in terms of dependency management:

- **introduce a full blown DI framework** and waste plenty of time in numerous and verbose configurations
- **use traditional object instantiation or simple factory pattern** and make the code clumsy and hard to modify

I encountered this sort of problem a week ago when I was writing [the demo project for architecture class](https://github.com/ddadaal/ClassroomAssistant), which was only a simple JavaFX project that had a simple dependency hierarchy. What was different in this project from other simple and less designed project was that instead of using class directly, it used **interface and implementation class pattern** in order to match the class diagram and meet the course requirement. Using interface decoupled the interface and implementation, which was a good practice, but also introduced complexity in using this code, since it would be impossible to **new** an interface.

As mentioned before, excluding DI framework option, two patterns could be applied: **object instantiation** and **factory pattern**. Kotlin also supports [singleton object declaration](https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html#object-declarations) which was also a good choice. All of them, however, made the code *less elegant*:


```kotlin
// interface and implementation
interface SomeService
class SomeServiceImpl: SomeService
```

Pattern 1: object instantiation

```kotlin
import xxx.SomeService

// highlight-start
// Problem 1: have to import the impl class
import xxx.SomeServiceImpl
// highlight-end


class User {
  // highlight-start
  // Problem 2: have to specify the interface type and the implementation type
  // Problem 3: not valid if we want singleton
  private val service: SomeService = SomeServiceImpl()
  // highlight-end

}
```

Pattern 2: simple **singleton** factory pattern

```kotlin
// in the same file where Service and ServiceImpl are defined

// highlight-start
// Problem1: manual object instantiation
val instance = SomeServiceImpl()
// highlight-end


// highlight-start
// Problem2: manually write a factory function
fun createSomeService(): SomeService {
  return instance
}
// highlight-end

```

```kotlin
// in another file
import xxx.SomeService

class User {
  // highlight-start
  // Problem 3: manual factory function call
  // Problem 4: implicit and extra dependency to factory function
  private val service = createSomeService()
  // highlight-end

}
```

Pattern 2.1: simple **singleton** factory pattern using [companion object](https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html#companion-objects)

```kotlin
// in the same file where Service and ServiceImpl are defined

interface SomeService {
  companion object {
    // highlight-start
    // Problem 1: interface relies on implementation??
    val service: SomeService = SomeServiceImpl()
    // highlight-end
  }
}

class SomeServiceImpl: SomeService
```

Pattern 2.2: **singleton** using [singleton object declaration](https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html#object-declarations)

```kotlin
// in the same file where Service and ServiceImpl are defined

interface SomeService

// highlight-next-line
object SomeServiceImpl: SomeService
```

```kotlin
import xxx.SomeService

// highlight-start
// Problem 1: have to import the impl class
import xxx.SomeServiceImpl
// highlight-end


class User {
  // highlight-start
  // Problem 2: have to specify the interface type and the implementation type
  private val service: SomeService = SomeServiceImpl
  // highlight-end
}
```

All of these problems were of little importance, but to an extent affected my coding experiences. What I would like was **minimal dependencies** and **minimal extra code**.

Luckily, with the help of [delegation](https://kotlinlang.org/docs/reference/delegation.html) and classpath scan capability provided by [classgraph](https://github.com/classgraph/classgraph), we could achieve the *minimality*, with the introduction of only three simple APIs:

- `Service` annotation to annotate service interface
- `ServiceImpl` annotation to annotate implementation
- `di` function for delegation

```kotlin
// annotate service interface with @Service
@Service
interface YourService {
  fun hello()
}

// annotate service implementation class with @ServiceImpl
@ServiceImpl
class YourServiceImpl: YourService {
  override fun hello() {
    println("Hello from YourServiceImpl")
  }
}
```

```kotlin
// in a random class that uses the service
import YourService

class AnotherClass {
  // declare a property with the interface type and delegate it with di(),
  // the function *where the magic is*
  private val yourService: YourService by di()

  fun hello() {
    // just call it
    yourService.hello();
  }
}

fun main() {
  // just new an instance as usual
  val obj = AnotherClass()

  obj.hello() // print out "Hello from YourServiceImpl"
}

```

# How It is Done?

Here is the code with some comments to help understanding.

Before getting started, install [classgraph](https://github.com/classgraph/classgraph) in your project with Maven or Gradle to have all the Services and ServiceImpls automatically scanned and configured like Spring Boot would do.

```kotlin
// imports
import io.github.classgraph.ClassGraph
import kotlin.reflect.KClass
import kotlin.properties.ReadOnlyProperty
import kotlin.reflect.KProperty

// annotations to annotate Service interface and Service implementation class
@Target(AnnotationTarget.CLASS)
@Retention(AnnotationRetention.RUNTIME)
annotation class ServiceImpl

@Target(AnnotationTarget.CLASS)
@Retention(AnnotationRetention.RUNTIME)
annotation class Service

// the exception when an implementation is not available
class NotProvidedException: Exception()

// the container class
// `scanBase` is the base package that would be scanned
@Suppress("UNCHECKED_CAST")
class CADiContainer(scanBase: String) {

  // key as the Java Class object and value as its corresponding singleton instance
  private val map = mutableMapOf<Class<*>, Any?>()

  init {
    // scan specified package
    ClassGraph()
      .enableAllInfo()
      .whitelistPackages(scanBase)
      .scan()
      .use { scanResult ->

        // find out all interfaces annotated with Service
        val services = scanResult.getClassesWithAnnotation(Service::class.qualifiedName).loadClasses()

        // find out all implementation classes annotated with ServiceImpl
        val impls = scanResult.getClassesWithAnnotation(ServiceImpl::class.qualifiedName)

        // fill the instance map with service and service implementation
        services.forEach { service ->
            map[service] = impls.find { it.implementsInterface(service.name) }?.loadClass()?.newInstance()
        }
      }
  }

  // just look up the map and try to get the instance
  fun <T : Any> getInstance(type: Class<T>): T {
    return map[type] as T? ?: throw NotProvidedException()
  }
}

// instantiate a DI Container
val container = CADiContainer(scanBase)

// Here is where magic is:
// define a inline function with reified type parameter
// and return an anonymous ReadOnlyProerty object to be used as a delegate
// which uses the reified type parameter
// to look up and return the instance in the container
inline fun <reified T : Any> di(): ReadOnlyProperty<Any, T> {
    return object : ReadOnlyProperty<Any, T> {
        override fun getValue(thisRef: Any, property: KProperty<*>): T {
            return container.getInstance(T::class.java)
        }
    }
}
```

# What's Good?

- **Singleton** injection

All injected instances are singleton, which is how DI is usually used.

- **new** support

You can also simply **new** an object (which should not be annotated with @ServiceImpl) if singleton injection is not enough, or context parameters are required when using a service. **New-ed** object can still use its dependencies. No extra learning needed.

- **Circular** and **hierarchy** Dependency

Unlike commonly used **constructor injection** and **setter injection**, dependent object are fetched **dynamically** from the container **when the property is being accessed**. Nothing will be injected during the instantiation of objects. So there would be no problem to have circular and hierarchy dependency structure at all.

- **Structure** your project as you wish

With other DI frameworks (like [autofac](https://autofac.readthedocs.io/en/latest/getting-started/index.html#structuring-the-application) and Spring), the whole application must be structured **from the ground up** and configured in guidance of the DI framework of your choice , which is time-wasting and totally a overkill if a simple application is all what you need.

# Limitations

- Can not use dependency in `init` block

All services are instantiated **randomly** (to be more precise, in the order of time when it is scanned), regardless of **their dependency relationships**. For example, **if A uses B, it is possible that B is instantiated earier than A**, in which case access to B inside A's `init` block would cause `NotProvidedException` since at that time A instance has not been in the container. This problem can be solved with **prior dependency relationship analysis** or **custom after-instantiation hook**.

- No advanced features like object lifetime control, scope, test...

It should be emphasized that our 50 lines of code only targets to **small application** and **is not for production**, so advanced features are never considered. Use full blown DI framework if your application is serious.

# My Thoughts on Kotlin

My first impression to Kotlin was a mixed bag:

It had lots of features that C# and Java did't, which does improve coding experience a lot: **strict nullity check**, **pattern matching**(which C# is introducing), **delegation**, **function type** (`(Int, String) -> String{:kotlin}`, which is more intuitive than `Action` delegations in C#, and various and differently named built-in functional interfaces (like `Consumer`, `Producer`) in Java which are hard to remember), **inline functons** and more;

Some parts of language seemed confusing at first, but later was proved to be excellent. For example **[lambda](https://kotlinlang.org/docs/reference/lambdas.html#lambda-expressions-and-anonymous-functions)** in Kotlin needs to be wrapped with a brace(`{}`) pair  (like `func(arr, {a, b ->  a < b}){:kotlin}` (just an example)), where Java doesn't (`func(arr, (a, b) -> a < b){:java}`). However with the ability to [write the last lambda parameter outside of parentheses](https://kotlinlang.org/docs/reference/lambdas.html#lambda-expressions-and-anonymous-functions) (`func(arr) {a, b -> x a < b}{:kotlin}`), the extra abilities it brings overweigh the disadvantages.

For example, with the help of [TornadoFX](https://tornadofx.io/), an excellent JavaFX framework for Kotlin, building JavaFX views can be done **directly in Kotlin** elegantly, which is even better than FXML, since *strongly-typed-ness* makes coding way less error-prone, verbose and intuitive than XML.

```kotlin
// define a vbox
vbox {
	// define a button as a child component, with "Button" as text, and an onAction function
	button("Button") {
		action {
			replaceWith<StudentCheckinView>(sizeToScene = true)
		}
	}
	// a list view whose data source is aList
	listview(aList)
}
```

Gradle also [supports Kotlin as its DSL](https://docs.gradle.org/current/userguide/kotlin_dsl.html) alongside Groovy, which also proves the benefits of this grammar are phenomenal.

Of course Kotlin has some problems, like the grammar of anonymous object is more verbose than Java's (where just a lambda would be enough) and some type system related problems thanks to the type erasure of JVM.

But the defects cannot obscure the virtues.

The features (including *grammar sugars*) Kotlin has have opened my eyes, showing me how a programming language that is modern, well-designed and has no history burdens can be like, how these features and grammar sugars can make coding much more productive and enjoyful, and most importantly, **how our ways of thinking a problem can be different**.

Everyone knows that programming languages are just tools: that's true, but **tools can also influence how we look at problems**.

A programmer who only knew procedural programming language would try to solve every problems procedurally, quickly being overwhelmed by exponentially growing complexity; A OOP only programmer would wrap everything into objects, resulting in piles of useless boilerplate codes and a class hierarchy so complicated that only god could understand it; A FP originalist would try to use FP on everything, ignoring the nature of the problem, the communities of selected technologies and his/her teammates, all leading to the failure of the project.

Learning different languages can bring different angles to view a problem and different tools to solve a problem, and that is valuable for any programmers.








0:{"buildId":"x-o6oom0-eYUQFwPypfzU","rsc":["$","$1","c",{"children":[["$","article",null,{"children":[["$","div",null,{"className":"bg-neutral px-4 py-8","children":["$","div",null,{"className":"max-w-7xl mx-auto min-h-[256px] flex justify-center text-center text-neutral-content","children":["$","div",null,{"className":"flex flex-col justify-center animate-slide-up","children":[["$","h1",null,{"className":"text-4xl my-2","children":"A Kotlin DI Framework in 50 Lines and Thoughts on Kotlin"}],["$","$L2",null,{"className":"justify-center","articleId":"a-kotlin-di-framework-in-50-lines-and-thoughts-on-kotlin","info":{"content":"$3","title":"A Kotlin DI Framework in 50 Lines and Thoughts on Kotlin","date":"2019-04-06 15:48","id":"a-kotlin-di-framework-in-50-lines-and-thoughts-on-kotlin","lang":"en","tags":["Kotlin","code-trick","thoughts"],"wordCount":1765,"readingTime":8.825,"filePath":"contents/20190406-a-kotlin-di-framework-in-50-lines-and-thoughts-on-kotlin/en.md","summary":{"articleId":"a-kotlin-di-framework-in-50-lines-and-thoughts-on-kotlin","lang":"en","hash":"a2a93eea3931b29d4bf0f00093b574d737f7bfff4b6cf92e6db787a6f904f306","summaries":[{"metadata":{"summarizer":"azure-ai","model":"DeepSeek-R1"},"summaries":["The article discusses choosing dependency injection (DI) for small projects, comparing full DI frameworks (verbose) versus factory patterns (clumsy). The author developed a lightweight DI solution using Kotlin’s delegation and classgraph for scanning. Annotations (@Service, @ServiceImpl) mark interfaces and implementations, while a `di()` function delegates dependency resolution, enabling singleton injection with minimal code. Benefits include simplicity, circular dependency support, and dynamic resolution, though limitations include no `init` block usage and lack of advanced features. The author praises Kotlin’s modern features (null checks, lambdas) and how diverse programming paradigms expand problem-solving approaches, emphasizing tools’ influence on design thinking."],"startTime":"2025-02-14T13:28:20.958Z","endTime":"2025-02-14T13:28:49.221Z"},{"metadata":{"summarizer":"ollama","model":"deepseek-r1:8b"},"summaries":["在100字中总结对Kotlin的看法，强调其优点如严格nullity、模式匹配等，同时提到局限性，如init块依赖问题，并反思语言对解决问题方式的影响。整体上，作者认为Kotlin提升了编程效率和可读性，但需权衡其局限性。"]}]}},"langVersions":["en"]}]]}]}]}],"$L4"]}],["$L5","$L6","$L7","$L8","$L9","$La"],"$Lb"]}],"loading":null,"isPartial":false}
e:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z4:["$","div",null,{"className":"animate-slide-up","children":[["$","div",null,{"className":"max-w-7xl mx-auto p-4","children":["$","div",null,{"className":"flex flex-row space-x-4","children":[["$","div",null,{"className":"prose max-w-full lg:w-[75%]","children":[["$","$Lc",null,{"summaries":[{"metadata":{"summarizer":"azure-ai","model":"DeepSeek-R1"},"children":[["$","p","p-0",{"children":["The article discusses choosing dependency injection (DI) for small projects, comparing full DI frameworks (verbose) versus factory patterns (clumsy). The author developed a lightweight DI solution using Kotlin’s delegation and classgraph for scanning. Annotations (@Service, @ServiceImpl) mark interfaces and implementations, while a ",["$","code","code-0",{"children":"di()"}]," function delegates dependency resolution, enabling singleton injection with minimal code. Benefits include simplicity, circular dependency support, and dynamic resolution, though limitations include no ",["$","code","code-1",{"children":"init"}]," block usage and lack of advanced features. The author praises Kotlin’s modern features (null checks, lambdas) and how diverse programming paradigms expand problem-solving approaches, emphasizing tools’ influence on design thinking."]}]]},{"metadata":{"summarizer":"ollama","model":"deepseek-r1:8b"},"children":[["$","p","p-0",{"children":"在100字中总结对Kotlin的看法，强调其优点如严格nullity、模式匹配等，同时提到局限性，如init块依赖问题，并反思语言对解决问题方式的影响。整体上，作者认为Kotlin提升了编程效率和可读性，但需权衡其局限性。"}]]}]}],["$","$Ld",null,{"withCaption":true,"id":"a-kotlin-di-framework-in-50-lines-and-thoughts-on-kotlin","children":[["$","h1","h1-0",{"id":"why","children":[["$","a","why",{"href":"#why","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$e","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"Why"]}],"\n",["$","p","p-0",{"children":"If you have got used to using DI framework (like Spring) to manage and inject dependencies, and now you have to start a new, relatively simpler, but not so simple project, you have 2 options to work with in terms of dependency management:"}],"\n",["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":[["$","strong","strong-0",{"children":"introduce a full blown DI framework"}]," and waste plenty of time in numerous and verbose configurations"]}],"\n","$Lf","\n"]}],"\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22","\n","$L23","\n","$L24","\n","$L25","\n","$L26","\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b","\n","$L2c","\n","$L2d","\n","$L2e","\n","$L2f","\n","$L30","\n","$L31","\n","$L32","\n","$L33","\n","$L34","\n","$L35","\n","$L36","\n","$L37","\n","$L38","\n","$L39","\n","$L3a","\n","$L3b","\n","$L3c","\n","$L3d","\n","$L3e","\n","$L3f","\n","$L40"]}]]}],"$L41"]}]}],"$L42","$L43"]}]
5:["$","link","0",{"rel":"stylesheet","href":"/_next/static/chunks/44d2e091595b3eca.css","precedence":"next"}]
6:["$","link","1",{"rel":"stylesheet","href":"/_next/static/chunks/5e55d74f3211c796.css","precedence":"next"}]
7:["$","link","2",{"rel":"stylesheet","href":"/_next/static/chunks/b59bad6ea4f112f2.css","precedence":"next"}]
8:["$","script","script-0",{"src":"/_next/static/chunks/0a1497ca0a1721ad.js","async":true}]
9:["$","script","script-1",{"src":"/_next/static/chunks/4ec1bf7a32b70f87.js","async":true}]
a:["$","script","script-2",{"src":"/_next/static/chunks/276b22541034e0ea.js","async":true}]
b:["$","$L44",null,{"children":["$","$45",null,{"name":"Next.MetadataOutlet","children":"$@46"}]}]
f:["$","li","li-1",{"children":[["$","strong","strong-0",{"children":"use traditional object instantiation or simple factory pattern"}]," and make the code clumsy and hard to modify"]}]
10:["$","p","p-1",{"children":["I encountered this sort of problem a week ago when I was writing ",["$","a","a-0",{"href":"https://github.com/ddadaal/ClassroomAssistant","children":"the demo project for architecture class"}],", which was only a simple JavaFX project that had a simple dependency hierarchy. What was different in this project from other simple and less designed project was that instead of using class directly, it used ",["$","strong","strong-0",{"children":"interface and implementation class pattern"}]," in order to match the class diagram and meet the course requirement. Using interface decoupled the interface and implementation, which was a good practice, but also introduced complexity in using this code, since it would be impossible to ",["$","strong","strong-1",{"children":"new"}]," an interface."]}]
11:["$","p","p-2",{"children":["As mentioned before, excluding DI framework option, two patterns could be applied: ",["$","strong","strong-0",{"children":"object instantiation"}]," and ",["$","strong","strong-1",{"children":"factory pattern"}],". Kotlin also supports ",["$","a","a-0",{"href":"https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html#object-declarations","children":"singleton object declaration"}]," which was also a good choice. All of them, however, made the code ",["$","em","em-0",{"children":"less elegant"}],":"]}]
12:["$","figure","figure-0",{"data-rehype-pretty-code-figure":"","children":["$","pre","pre-0",{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":0,"data-language":"kotlin","data-theme":"one-dark-pro","children":["$","code","code-0",{"data-language":"kotlin","data-theme":"one-dark-pro","style":{"display":"grid"},"children":[["$","span","span-0",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// interface and implementation"}]}],"\n",["$","span","span-1",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"interface"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" SomeService"}]]}],"\n",["$","span","span-2",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"class"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" SomeServiceImpl"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"SomeService"}]]}]]}]}]}]
13:["$","p","p-3",{"children":"Pattern 1: object instantiation"}]
14:["$","figure","figure-1",{"data-rehype-pretty-code-figure":"","children":["$","pre","pre-0",{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":0,"data-language":"kotlin","data-theme":"one-dark-pro","children":["$","code","code-0",{"data-language":"kotlin","data-theme":"one-dark-pro","style":{"display":"grid"},"children":[["$","span","span-0",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"import"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" xxx.SomeService"}]]}],"\n",["$","span","span-1",{"data-line":"","children":" "}],"\n",["$","span","span-2",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// highlight-start"}]}],"\n",["$","span","span-3",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// Problem 1: have to import the impl class"}]}],"\n",["$","span","span-4",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"import"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" xxx.SomeServiceImpl"}]]}],"\n",["$","span","span-5",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// highlight-end"}]}],"\n",["$","span","span-6",{"data-line":"","children":" "}],"\n",["$","span","span-7",{"data-line":"","children":" "}],"\n",["$","span","span-8",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"class"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" User"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" {"}]]}],"\n",["$","span","span-9",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // highlight-start"}]}],"\n",["$","span","span-10",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // Problem 2: have to specify the interface type and the implementation type"}]}],"\n",["$","span","span-11",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // Problem 3: not valid if we want singleton"}]}],"\n",["$","span","span-12",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  private"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" val"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" service: "}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"SomeService"}],["$","span","span-4",{"style":{"color":"#56B6C2"},"children":" ="}],["$","span","span-5",{"style":{"color":"#61AFEF"},"children":" SomeServiceImpl"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"()"}]]}],"\n",["$","span","span-13",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // highlight-end"}]}],"\n",["$","span","span-14",{"data-line":"","children":" "}],"\n",["$","span","span-15",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}]]}]}]}]
15:["$","p","p-4",{"children":["Pattern 2: simple ",["$","strong","strong-0",{"children":"singleton"}]," factory pattern"]}]
16:["$","figure","figure-2",{"data-rehype-pretty-code-figure":"","children":["$","pre","pre-0",{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":0,"data-language":"kotlin","data-theme":"one-dark-pro","children":["$","code","code-0",{"data-language":"kotlin","data-theme":"one-dark-pro","style":{"display":"grid"},"children":[["$","span","span-0",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// in the same file where Service and ServiceImpl are defined"}]}],"\n",["$","span","span-1",{"data-line":"","children":" "}],"\n",["$","span","span-2",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// highlight-start"}]}],"\n",["$","span","span-3",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// Problem1: manual object instantiation"}]}],"\n",["$","span","span-4",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"val"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" instance "}],["$","span","span-2",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-3",{"style":{"color":"#61AFEF"},"children":" SomeServiceImpl"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":"()"}]]}],"\n",["$","span","span-5",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// highlight-end"}]}],"\n",["$","span","span-6",{"data-line":"","children":" "}],"\n",["$","span","span-7",{"data-line":"","children":" "}],"\n",["$","span","span-8",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// highlight-start"}]}],"\n",["$","span","span-9",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// Problem2: manually write a factory function"}]}],"\n",["$","span","span-10",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"fun"}],["$","span","span-1",{"style":{"color":"#61AFEF"},"children":" createSomeService"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"(): "}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"SomeService"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":" {"}]]}],"\n",["$","span","span-11",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  return"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" instance"}]]}],"\n",["$","span","span-12",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}],"\n",["$","span","span-13",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// highlight-end"}]}],"\n",["$","span","span-14",{"data-line":"","children":" "}]]}]}]}]
17:["$","figure","figure-3",{"data-rehype-pretty-code-figure":"","children":["$","pre","pre-0",{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":0,"data-language":"kotlin","data-theme":"one-dark-pro","children":["$","code","code-0",{"data-language":"kotlin","data-theme":"one-dark-pro","style":{"display":"grid"},"children":[["$","span","span-0",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// in another file"}]}],"\n",["$","span","span-1",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"import"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" xxx.SomeService"}]]}],"\n",["$","span","span-2",{"data-line":"","children":" "}],"\n",["$","span","span-3",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"class"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" User"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" {"}]]}],"\n",["$","span","span-4",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // highlight-start"}]}],"\n",["$","span","span-5",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // Problem 3: manual factory function call"}]}],"\n",["$","span","span-6",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // Problem 4: implicit and extra dependency to factory function"}]}],"\n",["$","span","span-7",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  private"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" val"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" service "}],["$","span","span-3",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-4",{"style":{"color":"#61AFEF"},"children":" createSomeService"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":"()"}]]}],"\n",["$","span","span-8",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // highlight-end"}]}],"\n",["$","span","span-9",{"data-line":"","children":" "}],"\n",["$","span","span-10",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}]]}]}]}]
18:["$","p","p-5",{"children":["Pattern 2.1: simple ",["$","strong","strong-0",{"children":"singleton"}]," factory pattern using ",["$","a","a-0",{"href":"https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html#companion-objects","children":"companion object"}]]}]
19:["$","figure","figure-4",{"data-rehype-pretty-code-figure":"","children":["$","pre","pre-0",{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":0,"data-language":"kotlin","data-theme":"one-dark-pro","children":["$","code","code-0",{"data-language":"kotlin","data-theme":"one-dark-pro","style":{"display":"grid"},"children":[["$","span","span-0",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// in the same file where Service and ServiceImpl are defined"}]}],"\n",["$","span","span-1",{"data-line":"","children":" "}],"\n",["$","span","span-2",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"interface"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" SomeService"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" {"}]]}],"\n",["$","span","span-3",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  companion"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" object"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" {"}]]}],"\n",["$","span","span-4",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"    // highlight-start"}]}],"\n",["$","span","span-5",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"    // Problem 1: interface relies on implementation??"}]}],"\n",["$","span","span-6",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"    val"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" service: "}],["$","span","span-2",{"style":{"color":"#E5C07B"},"children":"SomeService"}],["$","span","span-3",{"style":{"color":"#56B6C2"},"children":" ="}],["$","span","span-4",{"style":{"color":"#61AFEF"},"children":" SomeServiceImpl"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":"()"}]]}],"\n",["$","span","span-7",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"    // highlight-end"}]}],"\n",["$","span","span-8",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"  }"}]}],"\n",["$","span","span-9",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}],"\n",["$","span","span-10",{"data-line":"","children":" "}],"\n",["$","span","span-11",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"class"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" SomeServiceImpl"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"SomeService"}]]}]]}]}]}]
1a:["$","p","p-6",{"children":["Pattern 2.2: ",["$","strong","strong-0",{"children":"singleton"}]," using ",["$","a","a-0",{"href":"https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html#object-declarations","children":"singleton object declaration"}]]}]
1b:["$","figure","figure-5",{"data-rehype-pretty-code-figure":"","children":["$","pre","pre-0",{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":0,"data-language":"kotlin","data-theme":"one-dark-pro","children":["$","code","code-0",{"data-language":"kotlin","data-theme":"one-dark-pro","style":{"display":"grid"},"children":[["$","span","span-0",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// in the same file where Service and ServiceImpl are defined"}]}],"\n",["$","span","span-1",{"data-line":"","children":" "}],"\n",["$","span","span-2",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"interface"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" SomeService"}]]}],"\n",["$","span","span-3",{"data-line":"","children":" "}],"\n",["$","span","span-4",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// highlight-next-line"}]}],"\n",["$","span","span-5",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"object"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" SomeServiceImpl"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"SomeService"}]]}]]}]}]}]
1c:["$","figure","figure-6",{"data-rehype-pretty-code-figure":"","children":["$","pre","pre-0",{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":0,"data-language":"kotlin","data-theme":"one-dark-pro","children":["$","code","code-0",{"data-language":"kotlin","data-theme":"one-dark-pro","style":{"display":"grid"},"children":[["$","span","span-0",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"import"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" xxx.SomeService"}]]}],"\n",["$","span","span-1",{"data-line":"","children":" "}],"\n",["$","span","span-2",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// highlight-start"}]}],"\n",["$","span","span-3",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// Problem 1: have to import the impl class"}]}],"\n",["$","span","span-4",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"import"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" xxx.SomeServiceImpl"}]]}],"\n",["$","span","span-5",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// highlight-end"}]}],"\n",["$","span","span-6",{"data-line":"","children":" "}],"\n",["$","span","span-7",{"data-line":"","children":" "}],"\n",["$","span","span-8",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"class"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" User"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" {"}]]}],"\n",["$","span","span-9",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // highlight-start"}]}],"\n",["$","span","span-10",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // Problem 2: have to specify the interface type and the implementation type"}]}],"\n",["$","span","span-11",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  private"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" val"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" service: "}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"SomeService"}],["$","span","span-4",{"style":{"color":"#56B6C2"},"children":" ="}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":" SomeServiceImpl"}]]}],"\n",["$","span","span-12",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // highlight-end"}]}],"\n",["$","span","span-13",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}]]}]}]}]
1d:["$","p","p-7",{"children":["All of these problems were of little importance, but to an extent affected my coding experiences. What I would like was ",["$","strong","strong-0",{"children":"minimal dependencies"}]," and ",["$","strong","strong-1",{"children":"minimal extra code"}],"."]}]
1e:["$","p","p-8",{"children":["Luckily, with the help of ",["$","a","a-0",{"href":"https://kotlinlang.org/docs/reference/delegation.html","children":"delegation"}]," and classpath scan capability provided by ",["$","a","a-1",{"href":"https://github.com/classgraph/classgraph","children":"classgraph"}],", we could achieve the ",["$","em","em-0",{"children":"minimality"}],", with the introduction of only three simple APIs:"]}]
1f:["$","ul","ul-1",{"children":["\n",["$","li","li-0",{"children":[["$","code","code-0",{"children":"Service"}]," annotation to annotate service interface"]}],"\n",["$","li","li-1",{"children":[["$","code","code-0",{"children":"ServiceImpl"}]," annotation to annotate implementation"]}],"\n",["$","li","li-2",{"children":[["$","code","code-0",{"children":"di"}]," function for delegation"]}],"\n"]}]
20:["$","figure","figure-7",{"data-rehype-pretty-code-figure":"","children":["$","pre","pre-0",{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":0,"data-language":"kotlin","data-theme":"one-dark-pro","children":["$","code","code-0",{"data-language":"kotlin","data-theme":"one-dark-pro","style":{"display":"grid"},"children":[["$","span","span-0",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// annotate service interface with @Service"}]}],"\n",["$","span","span-1",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#E5C07B"},"children":"@Service"}]}],"\n",["$","span","span-2",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"interface"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" YourService"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" {"}]]}],"\n",["$","span","span-3",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  fun"}],["$","span","span-1",{"style":{"color":"#61AFEF"},"children":" hello"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"()"}]]}],"\n",["$","span","span-4",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}],"\n",["$","span","span-5",{"data-line":"","children":" "}],"\n",["$","span","span-6",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// annotate service implementation class with @ServiceImpl"}]}],"\n",["$","span","span-7",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#E5C07B"},"children":"@ServiceImpl"}]}],"\n",["$","span","span-8",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"class"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" YourServiceImpl"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"YourService"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":" {"}]]}],"\n",["$","span","span-9",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  override"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" fun"}],["$","span","span-2",{"style":{"color":"#61AFEF"},"children":" hello"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"() {"}]]}],"\n",["$","span","span-10",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#61AFEF"},"children":"    println"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-2",{"style":{"color":"#98C379"},"children":"\"Hello from YourServiceImpl\""}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":")"}]]}],"\n",["$","span","span-11",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"  }"}]}],"\n",["$","span","span-12",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}]]}]}]}]
21:["$","figure","figure-8",{"data-rehype-pretty-code-figure":"","children":["$","pre","pre-0",{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":0,"data-language":"kotlin","data-theme":"one-dark-pro","children":["$","code","code-0",{"data-language":"kotlin","data-theme":"one-dark-pro","style":{"display":"grid"},"children":[["$","span","span-0",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// in a random class that uses the service"}]}],"\n",["$","span","span-1",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"import"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" YourService"}]]}],"\n",["$","span","span-2",{"data-line":"","children":" "}],"\n",["$","span","span-3",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"class"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" AnotherClass"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" {"}]]}],"\n",["$","span","span-4",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // declare a property with the interface type and delegate it with di(),"}]}],"\n",["$","span","span-5",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // the function *where the magic is*"}]}],"\n",["$","span","span-6",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  private"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" val"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" yourService: "}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"YourService"}],["$","span","span-4",{"style":{"color":"#E5C07B"},"children":" by"}],["$","span","span-5",{"style":{"color":"#E5C07B"},"children":" di"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"()"}]]}],"\n",["$","span","span-7",{"data-line":"","children":" "}],"\n",["$","span","span-8",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  fun"}],["$","span","span-1",{"style":{"color":"#61AFEF"},"children":" hello"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"() {"}]]}],"\n",["$","span","span-9",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"    // just call it"}]}],"\n",["$","span","span-10",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"    yourService."}],["$","span","span-1",{"style":{"color":"#61AFEF"},"children":"hello"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"();"}]]}],"\n",["$","span","span-11",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"  }"}]}],"\n",["$","span","span-12",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}],"\n",["$","span","span-13",{"data-line":"","children":" "}],"\n",["$","span","span-14",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"fun"}],["$","span","span-1",{"style":{"color":"#61AFEF"},"children":" main"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"() {"}]]}],"\n",["$","span","span-15",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // just new an instance as usual"}]}],"\n",["$","span","span-16",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  val"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" obj "}],["$","span","span-2",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-3",{"style":{"color":"#61AFEF"},"children":" AnotherClass"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":"()"}]]}],"\n",["$","span","span-17",{"data-line":"","children":" "}],"\n",["$","span","span-18",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"  obj."}],["$","span","span-1",{"style":{"color":"#61AFEF"},"children":"hello"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"() "}],["$","span","span-3",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// print out \"Hello from YourServiceImpl\""}]]}],"\n",["$","span","span-19",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}],"\n",["$","span","span-20",{"data-line":"","children":" "}]]}]}]}]
47:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z22:["$","h1","h1-1",{"id":"how-it-is-done","children":[["$","a","how-it-is-done",{"href":"#how-it-is-done","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$47","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"How It is Done?"]}]
23:["$","p","p-9",{"children":"Here is the code with some comments to help understanding."}]
24:["$","p","p-10",{"children":["Before getting started, install ",["$","a","a-0",{"href":"https://github.com/classgraph/classgraph","children":"classgraph"}]," in your project with Maven or Gradle to have all the Services and ServiceImpls automatically scanned and configured like Spring Boot would do."]}]
25:["$","figure","figure-9",{"data-rehype-pretty-code-figure":"","children":["$","pre","pre-0",{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":0,"data-language":"kotlin","data-theme":"one-dark-pro","children":["$","code","code-0",{"data-language":"kotlin","data-theme":"one-dark-pro","style":{"display":"grid"},"children":[["$","span","span-0",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// imports"}]}],"\n",["$","span","span-1",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"import"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" io.github.classgraph.ClassGraph"}]]}],"\n",["$","span","span-2",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"import"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" kotlin.reflect.KClass"}]]}],"\n",["$","span","span-3",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"import"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" kotlin.properties.ReadOnlyProperty"}]]}],"\n",["$","span","span-4",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"import"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" kotlin.reflect.KProperty"}]]}],"\n",["$","span","span-5",{"data-line":"","children":" "}],"\n",["$","span","span-6",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// annotations to annotate Service interface and Service implementation class"}]}],"\n",["$","span","span-7",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E5C07B"},"children":"@Target"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"(AnnotationTarget.CLASS)"}]]}],"\n",["$","span","span-8",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E5C07B"},"children":"@Retention"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"(AnnotationRetention.RUNTIME)"}]]}],"\n",["$","span","span-9",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"annotation"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" class"}],["$","span","span-2",{"style":{"color":"#E5C07B"},"children":" ServiceImpl"}]]}],"\n",["$","span","span-10",{"data-line":"","children":" "}],"\n",["$","span","span-11",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E5C07B"},"children":"@Target"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"(AnnotationTarget.CLASS)"}]]}],"\n",["$","span","span-12",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E5C07B"},"children":"@Retention"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"(AnnotationRetention.RUNTIME)"}]]}],"\n",["$","span","span-13",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"annotation"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" class"}],["$","span","span-2",{"style":{"color":"#E5C07B"},"children":" Service"}]]}],"\n",["$","span","span-14",{"data-line":"","children":" "}],"\n",["$","span","span-15",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// the exception when an implementation is not available"}]}],"\n",["$","span","span-16",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"class"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" NotProvidedException"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"Exception"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":"()"}]]}],"\n",["$","span","span-17",{"data-line":"","children":" "}],"\n",["$","span","span-18",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// the container class"}]}],"\n",["$","span","span-19",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// `scanBase` is the base package that would be scanned"}]}],"\n",["$","span","span-20",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E5C07B"},"children":"@Suppress"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-2",{"style":{"color":"#98C379"},"children":"\"UNCHECKED_CAST\""}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":")"}]]}],"\n",["$","span","span-21",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"class"}],"$L48","$L49","$L4a","$L4b"]}],"\n","$L4c","\n","$L4d","\n","$L4e","\n","$L4f","\n","$L50","\n","$L51","\n","$L52","\n","$L53","\n","$L54","\n","$L55","\n","$L56","\n","$L57","\n","$L58","\n","$L59","\n","$L5a","\n","$L5b","\n","$L5c","\n","$L5d","\n","$L5e","\n","$L5f","\n","$L60","\n","$L61","\n","$L62","\n","$L63","\n","$L64","\n","$L65","\n","$L66","\n","$L67","\n","$L68","\n","$L69","\n","$L6a","\n","$L6b","\n","$L6c","\n","$L6d","\n","$L6e","\n","$L6f","\n","$L70","\n","$L71","\n","$L72","\n","$L73","\n","$L74","\n","$L75","\n","$L76","\n","$L77","\n","$L78","\n","$L79"]}]}]}]
7a:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z26:["$","h1","h1-2",{"id":"whats-good","children":[["$","a","whats-good",{"href":"#whats-good","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$7a","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"What's Good?"]}]
27:["$","ul","ul-2",{"children":["\n",["$","li","li-0",{"children":[["$","strong","strong-0",{"children":"Singleton"}]," injection"]}],"\n"]}]
28:["$","p","p-11",{"children":"All injected instances are singleton, which is how DI is usually used."}]
29:["$","ul","ul-3",{"children":["\n",["$","li","li-0",{"children":[["$","strong","strong-0",{"children":"new"}]," support"]}],"\n"]}]
2a:["$","p","p-12",{"children":["You can also simply ",["$","strong","strong-0",{"children":"new"}]," an object (which should not be annotated with @ServiceImpl) if singleton injection is not enough, or context parameters are required when using a service. ",["$","strong","strong-1",{"children":"New-ed"}]," object can still use its dependencies. No extra learning needed."]}]
2b:["$","ul","ul-4",{"children":["\n",["$","li","li-0",{"children":[["$","strong","strong-0",{"children":"Circular"}]," and ",["$","strong","strong-1",{"children":"hierarchy"}]," Dependency"]}],"\n"]}]
2c:["$","p","p-13",{"children":["Unlike commonly used ",["$","strong","strong-0",{"children":"constructor injection"}]," and ",["$","strong","strong-1",{"children":"setter injection"}],", dependent object are fetched ",["$","strong","strong-2",{"children":"dynamically"}]," from the container ",["$","strong","strong-3",{"children":"when the property is being accessed"}],". Nothing will be injected during the instantiation of objects. So there would be no problem to have circular and hierarchy dependency structure at all."]}]
2d:["$","ul","ul-5",{"children":["\n",["$","li","li-0",{"children":[["$","strong","strong-0",{"children":"Structure"}]," your project as you wish"]}],"\n"]}]
2e:["$","p","p-14",{"children":["With other DI frameworks (like ",["$","a","a-0",{"href":"https://autofac.readthedocs.io/en/latest/getting-started/index.html#structuring-the-application","children":"autofac"}]," and Spring), the whole application must be structured ",["$","strong","strong-0",{"children":"from the ground up"}]," and configured in guidance of the DI framework of your choice , which is time-wasting and totally a overkill if a simple application is all what you need."]}]
7b:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z2f:["$","h1","h1-3",{"id":"limitations","children":[["$","a","limitations",{"href":"#limitations","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$7b","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"Limitations"]}]
30:["$","ul","ul-6",{"children":["\n",["$","li","li-0",{"children":["Can not use dependency in ",["$","code","code-0",{"children":"init"}]," block"]}],"\n"]}]
31:["$","p","p-15",{"children":["All services are instantiated ",["$","strong","strong-0",{"children":"randomly"}]," (to be more precise, in the order of time when it is scanned), regardless of ",["$","strong","strong-1",{"children":"their dependency relationships"}],". For example, ",["$","strong","strong-2",{"children":"if A uses B, it is possible that B is instantiated earier than A"}],", in which case access to B inside A's ",["$","code","code-0",{"children":"init"}]," block would cause ",["$","code","code-1",{"children":"NotProvidedException"}]," since at that time A instance has not been in the container. This problem can be solved with ",["$","strong","strong-3",{"children":"prior dependency relationship analysis"}]," or ",["$","strong","strong-4",{"children":"custom after-instantiation hook"}],"."]}]
32:["$","ul","ul-7",{"children":["\n",["$","li","li-0",{"children":"No advanced features like object lifetime control, scope, test..."}],"\n"]}]
33:["$","p","p-16",{"children":["It should be emphasized that our 50 lines of code only targets to ",["$","strong","strong-0",{"children":"small application"}]," and ",["$","strong","strong-1",{"children":"is not for production"}],", so advanced features are never considered. Use full blown DI framework if your application is serious."]}]
7c:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z34:["$","h1","h1-4",{"id":"my-thoughts-on-kotlin","children":[["$","a","my-thoughts-on-kotlin",{"href":"#my-thoughts-on-kotlin","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$7c","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"My Thoughts on Kotlin"]}]
35:["$","p","p-17",{"children":"My first impression to Kotlin was a mixed bag:"}]
36:["$","p","p-18",{"children":["It had lots of features that C# and Java did't, which does improve coding experience a lot: ",["$","strong","strong-0",{"children":"strict nullity check"}],", ",["$","strong","strong-1",{"children":"pattern matching"}],"(which C# is introducing), ",["$","strong","strong-2",{"children":"delegation"}],", ",["$","strong","strong-3",{"children":"function type"}]," (",["$","span","span-0",{"data-rehype-pretty-code-figure":"","children":["$","code","code-0",{"data-language":"kotlin","data-theme":"one-dark-pro","style":{"backgroundColor":"#282c34","color":"#abb2bf"},"children":["$","span","span-0",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"(Int, String) "}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":"->"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" String"}]]}]}]}],", which is more intuitive than ",["$","code","code-0",{"children":"Action"}]," delegations in C#, and various and differently named built-in functional interfaces (like ",["$","code","code-1",{"children":"Consumer"}],", ",["$","code","code-2",{"children":"Producer"}],") in Java which are hard to remember), ",["$","strong","strong-4",{"children":"inline functons"}]," and more;"]}]
37:["$","p","p-19",{"children":["Some parts of language seemed confusing at first, but later was proved to be excellent. For example ",["$","strong","strong-0",{"children":["$","a","a-0",{"href":"https://kotlinlang.org/docs/reference/lambdas.html#lambda-expressions-and-anonymous-functions","children":"lambda"}]}]," in Kotlin needs to be wrapped with a brace(",["$","code","code-0",{"children":"{}"}],") pair  (like ",["$","span","span-0",{"data-rehype-pretty-code-figure":"","children":["$","code","code-0",{"data-language":"kotlin","data-theme":"one-dark-pro","style":{"backgroundColor":"#282c34","color":"#abb2bf"},"children":["$","span","span-0",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#61AFEF"},"children":"func"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"(arr, {a, b "}],["$","span","span-2",{"style":{"color":"#C678DD"},"children":"->"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"  a "}],["$","span","span-4",{"style":{"color":"#56B6C2"},"children":"<"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":" b})"}]]}]}]}]," (just an example)), where Java doesn't (",["$","span","span-1",{"data-rehype-pretty-code-figure":"","children":["$","code","code-0",{"data-language":"java","data-theme":"one-dark-pro","style":{"backgroundColor":"#282c34","color":"#abb2bf"},"children":["$","span","span-0",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#61AFEF"},"children":"func"}],["$","span","span-1",{"style":{"color":"#E06C75"},"children":"(arr"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":","}],["$","span","span-3",{"style":{"color":"#E06C75"},"children":" (a"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":","}],["$","span","span-5",{"style":{"color":"#E06C75"},"children":" b) "}],["$","span","span-6",{"style":{"color":"#C678DD"},"children":"->"}],["$","span","span-7",{"style":{"color":"#E06C75"},"children":" a "}],["$","span","span-8",{"style":{"color":"#56B6C2"},"children":"<"}],["$","span","span-9",{"style":{"color":"#E06C75"},"children":" b)"}]]}]}]}],"). However with the ability to ",["$","a","a-0",{"href":"https://kotlinlang.org/docs/reference/lambdas.html#lambda-expressions-and-anonymous-functions","children":"write the last lambda parameter outside of parentheses"}]," (",["$","span","span-2",{"data-rehype-pretty-code-figure":"","children":["$","code","code-0",{"data-language":"kotlin","data-theme":"one-dark-pro","style":{"backgroundColor":"#282c34","color":"#abb2bf"},"children":["$","span","span-0",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#61AFEF"},"children":"func"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"(arr) {a, b "}],["$","span","span-2",{"style":{"color":"#C678DD"},"children":"->"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":" x a "}],["$","span","span-4",{"style":{"color":"#56B6C2"},"children":"<"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":" b}"}]]}]}]}],"), the extra abilities it brings overweigh the disadvantages."]}]
38:["$","p","p-20",{"children":["For example, with the help of ",["$","a","a-0",{"href":"https://tornadofx.io/","children":"TornadoFX"}],", an excellent JavaFX framework for Kotlin, building JavaFX views can be done ",["$","strong","strong-0",{"children":"directly in Kotlin"}]," elegantly, which is even better than FXML, since ",["$","em","em-0",{"children":"strongly-typed-ness"}]," makes coding way less error-prone, verbose and intuitive than XML."]}]
39:["$","figure","figure-10",{"data-rehype-pretty-code-figure":"","children":["$","pre","pre-0",{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":0,"data-language":"kotlin","data-theme":"one-dark-pro","children":["$","code","code-0",{"data-language":"kotlin","data-theme":"one-dark-pro","style":{"display":"grid"},"children":[["$","span","span-0",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// define a vbox"}]}],"\n",["$","span","span-1",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#61AFEF"},"children":"vbox"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" {"}]]}],"\n",["$","span","span-2",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"\t// define a button as a child component, with \"Button\" as text, and an onAction function"}]}],"\n",["$","span","span-3",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#61AFEF"},"children":"\tbutton"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-2",{"style":{"color":"#98C379"},"children":"\"Button\""}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":") {"}]]}],"\n",["$","span","span-4",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#61AFEF"},"children":"\t\taction"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" {"}]]}],"\n",["$","span","span-5",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#61AFEF"},"children":"\t\t\treplaceWith"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-2",{"style":{"color":"#E5C07B"},"children":"StudentCheckinView"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":">(sizeToScene "}],["$","span","span-4",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-5",{"style":{"color":"#D19A66"},"children":" true"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":")"}]]}],"\n",["$","span","span-6",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"\t\t}"}]}],"\n",["$","span","span-7",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"\t}"}]}],"\n",["$","span","span-8",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"\t// a list view whose data source is aList"}]}],"\n",["$","span","span-9",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#61AFEF"},"children":"\tlistview"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"(aList)"}]]}],"\n",["$","span","span-10",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}]]}]}]}]
3a:["$","p","p-21",{"children":["Gradle also ",["$","a","a-0",{"href":"https://docs.gradle.org/current/userguide/kotlin_dsl.html","children":"supports Kotlin as its DSL"}]," alongside Groovy, which also proves the benefits of this grammar are phenomenal."]}]
3b:["$","p","p-22",{"children":"Of course Kotlin has some problems, like the grammar of anonymous object is more verbose than Java's (where just a lambda would be enough) and some type system related problems thanks to the type erasure of JVM."}]
3c:["$","p","p-23",{"children":"But the defects cannot obscure the virtues."}]
3d:["$","p","p-24",{"children":["The features (including ",["$","em","em-0",{"children":"grammar sugars"}],") Kotlin has have opened my eyes, showing me how a programming language that is modern, well-designed and has no history burdens can be like, how these features and grammar sugars can make coding much more productive and enjoyful, and most importantly, ",["$","strong","strong-0",{"children":"how our ways of thinking a problem can be different"}],"."]}]
3e:["$","p","p-25",{"children":["Everyone knows that programming languages are just tools: that's true, but ",["$","strong","strong-0",{"children":"tools can also influence how we look at problems"}],"."]}]
3f:["$","p","p-26",{"children":"A programmer who only knew procedural programming language would try to solve every problems procedurally, quickly being overwhelmed by exponentially growing complexity; A OOP only programmer would wrap everything into objects, resulting in piles of useless boilerplate codes and a class hierarchy so complicated that only god could understand it; A FP originalist would try to use FP on everything, ignoring the nature of the problem, the communities of selected technologies and his/her teammates, all leading to the failure of the project."}]
40:["$","p","p-27",{"children":"Learning different languages can bring different angles to view a problem and different tools to solve a problem, and that is valuable for any programmers."}]
41:["$","div",null,{"className":"hidden lg:block lg:w-[25%]","children":["$","$L7d",null,{"toc":[{"depth":1,"value":"Why","id":"why"},{"depth":1,"value":"How It is Done?","id":"how-it-is-done"},{"depth":1,"value":"What's Good?","id":"whats-good"},{"depth":1,"value":"Limitations","id":"limitations"},{"depth":1,"value":"My Thoughts on Kotlin","id":"my-thoughts-on-kotlin"}],"hasSummary":true}]}]
42:["$","div",null,{"className":"max-w-7xl mx-auto p-4","children":["$","$L7e",null,{"relatedArticles":[]}]}]
43:["$","div",null,{"className":"max-w-7xl mx-auto p-4","children":["$","$L7f",null,{"articleId":"a-kotlin-di-framework-in-50-lines-and-thoughts-on-kotlin","articleTitle":"A Kotlin DI Framework in 50 Lines and Thoughts on Kotlin"}]}]
46:null
48:["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" CADiContainer"}]
49:["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"(scanBase: "}]
4a:["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"String"}]
4b:["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":") {"}]
4c:["$","span","span-22",{"data-line":"","children":" "}]
4d:["$","span","span-23",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // key as the Java Class object and value as its corresponding singleton instance"}]}]
4e:["$","span","span-24",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  private"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" val"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" map "}],["$","span","span-3",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-4",{"style":{"color":"#61AFEF"},"children":" mutableMapOf"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-6",{"style":{"color":"#E5C07B"},"children":"Class"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":"<*>, "}],["$","span","span-8",{"style":{"color":"#E5C07B"},"children":"Any"}],["$","span","span-9",{"style":{"color":"#ABB2BF"},"children":"?>()"}]]}]
4f:["$","span","span-25",{"data-line":"","children":" "}]
50:["$","span","span-26",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  init"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" {"}]]}]
51:["$","span","span-27",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"    // scan specified package"}]}]
52:["$","span","span-28",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#61AFEF"},"children":"    ClassGraph"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"()"}]]}]
53:["$","span","span-29",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"      ."}],["$","span","span-1",{"style":{"color":"#61AFEF"},"children":"enableAllInfo"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"()"}]]}]
54:["$","span","span-30",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"      ."}],["$","span","span-1",{"style":{"color":"#61AFEF"},"children":"whitelistPackages"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"(scanBase)"}]]}]
55:["$","span","span-31",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"      ."}],["$","span","span-1",{"style":{"color":"#61AFEF"},"children":"scan"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"()"}]]}]
56:["$","span","span-32",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"      ."}],["$","span","span-1",{"style":{"color":"#61AFEF"},"children":"use"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" { scanResult "}],["$","span","span-3",{"style":{"color":"#C678DD"},"children":"->"}]]}]
57:["$","span","span-33",{"data-line":"","children":" "}]
58:["$","span","span-34",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"        // find out all interfaces annotated with Service"}]}]
59:["$","span","span-35",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"        val"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" services "}],["$","span","span-2",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":" scanResult."}],["$","span","span-4",{"style":{"color":"#61AFEF"},"children":"getClassesWithAnnotation"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":"(Service::"}],["$","span","span-6",{"style":{"color":"#61AFEF"},"children":"class"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":".qualifiedName)."}],["$","span","span-8",{"style":{"color":"#61AFEF"},"children":"loadClasses"}],["$","span","span-9",{"style":{"color":"#ABB2BF"},"children":"()"}]]}]
5a:["$","span","span-36",{"data-line":"","children":" "}]
5b:["$","span","span-37",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"        // find out all implementation classes annotated with ServiceImpl"}]}]
5c:["$","span","span-38",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"        val"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" impls "}],["$","span","span-2",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":" scanResult."}],["$","span","span-4",{"style":{"color":"#61AFEF"},"children":"getClassesWithAnnotation"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":"(ServiceImpl::"}],["$","span","span-6",{"style":{"color":"#61AFEF"},"children":"class"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":".qualifiedName)"}]]}]
5d:["$","span","span-39",{"data-line":"","children":" "}]
5e:["$","span","span-40",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"        // fill the instance map with service and service implementation"}]}]
5f:["$","span","span-41",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"        services."}],["$","span","span-1",{"style":{"color":"#61AFEF"},"children":"forEach"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" { service "}],["$","span","span-3",{"style":{"color":"#C678DD"},"children":"->"}]]}]
60:["$","span","span-42",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"            map[service] "}],["$","span","span-1",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" impls."}],["$","span","span-3",{"style":{"color":"#61AFEF"},"children":"find"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":" { it."}],["$","span","span-5",{"style":{"color":"#61AFEF"},"children":"implementsInterface"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"(service.name) }?."}],["$","span","span-7",{"style":{"color":"#61AFEF"},"children":"loadClass"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":"()?."}],["$","span","span-9",{"style":{"color":"#61AFEF"},"children":"newInstance"}],["$","span","span-10",{"style":{"color":"#ABB2BF"},"children":"()"}]]}]
61:["$","span","span-43",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"        }"}]}]
62:["$","span","span-44",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"      }"}]}]
63:["$","span","span-45",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"  }"}]}]
64:["$","span","span-46",{"data-line":"","children":" "}]
65:["$","span","span-47",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // just look up the map and try to get the instance"}]}]
66:["$","span","span-48",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  fun"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" <"}],["$","span","span-2",{"style":{"color":"#E5C07B"},"children":"T"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":" : "}],["$","span","span-4",{"style":{"color":"#E5C07B"},"children":"Any"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":"> "}],["$","span","span-6",{"style":{"color":"#61AFEF"},"children":"getInstance"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":"(type: "}],["$","span","span-8",{"style":{"color":"#E5C07B"},"children":"Class"}],["$","span","span-9",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-10",{"style":{"color":"#E5C07B"},"children":"T"}],["$","span","span-11",{"style":{"color":"#ABB2BF"},"children":">): "}],["$","span","span-12",{"style":{"color":"#E5C07B"},"children":"T"}],["$","span","span-13",{"style":{"color":"#ABB2BF"},"children":" {"}]]}]
67:["$","span","span-49",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"    return"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" map[type] "}],["$","span","span-2",{"style":{"color":"#C678DD"},"children":"as"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":" T? ?: "}],["$","span","span-4",{"style":{"color":"#C678DD"},"children":"throw"}],["$","span","span-5",{"style":{"color":"#61AFEF"},"children":" NotProvidedException"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"()"}]]}]
68:["$","span","span-50",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"  }"}]}]
69:["$","span","span-51",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}]
6a:["$","span","span-52",{"data-line":"","children":" "}]
6b:["$","span","span-53",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// instantiate a DI Container"}]}]
6c:["$","span","span-54",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"val"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" container "}],["$","span","span-2",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-3",{"style":{"color":"#61AFEF"},"children":" CADiContainer"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":"(scanBase)"}]]}]
6d:["$","span","span-55",{"data-line":"","children":" "}]
6e:["$","span","span-56",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// Here is where magic is:"}]}]
6f:["$","span","span-57",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// define a inline function with reified type parameter"}]}]
70:["$","span","span-58",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// and return an anonymous ReadOnlyProerty object to be used as a delegate"}]}]
71:["$","span","span-59",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// which uses the reified type parameter"}]}]
72:["$","span","span-60",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// to look up and return the instance in the container"}]}]
73:["$","span","span-61",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"inline"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" fun"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" <"}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"reified"}],["$","span","span-4",{"style":{"color":"#E5C07B"},"children":" T"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":" : "}],["$","span","span-6",{"style":{"color":"#E5C07B"},"children":"Any"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":"> "}],["$","span","span-8",{"style":{"color":"#61AFEF"},"children":"di"}],["$","span","span-9",{"style":{"color":"#ABB2BF"},"children":"(): "}],["$","span","span-10",{"style":{"color":"#E5C07B"},"children":"ReadOnlyProperty"}],["$","span","span-11",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-12",{"style":{"color":"#E5C07B"},"children":"Any"}],["$","span","span-13",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-14",{"style":{"color":"#E5C07B"},"children":"T"}],["$","span","span-15",{"style":{"color":"#ABB2BF"},"children":"> {"}]]}]
74:["$","span","span-62",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"    return"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" object"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" : "}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"ReadOnlyProperty"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-5",{"style":{"color":"#E5C07B"},"children":"Any"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-7",{"style":{"color":"#E5C07B"},"children":"T"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":"> {"}]]}]
75:["$","span","span-63",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"        override"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" fun"}],["$","span","span-2",{"style":{"color":"#61AFEF"},"children":" getValue"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"(thisRef: "}],["$","span","span-4",{"style":{"color":"#E5C07B"},"children":"Any"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":", property: "}],["$","span","span-6",{"style":{"color":"#E5C07B"},"children":"KProperty"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":"<*>): "}],["$","span","span-8",{"style":{"color":"#E5C07B"},"children":"T"}],["$","span","span-9",{"style":{"color":"#ABB2BF"},"children":" {"}]]}]
76:["$","span","span-64",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"            return"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" container."}],["$","span","span-2",{"style":{"color":"#61AFEF"},"children":"getInstance"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"(T::"}],["$","span","span-4",{"style":{"color":"#61AFEF"},"children":"class"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":".java)"}]]}]
77:["$","span","span-65",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"        }"}]}]
78:["$","span","span-66",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"    }"}]}]
79:["$","span","span-67",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}]
