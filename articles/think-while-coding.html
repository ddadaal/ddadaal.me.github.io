<!DOCTYPE html><html lang="zh-CN" class="scroll-smooth"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/54c4c90f0e4aaa79.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/fe1e54f11bde7158.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/0e452e629ebb050b.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/550cc6711c036586.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/84af3e6cc7365e2a.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-1304466d85e75d46.js"/><script src="/_next/static/chunks/79b3e8d8-3ee8badaaf61aebc.js" async=""></script><script src="/_next/static/chunks/919-686fd648ee068a73.js" async=""></script><script src="/_next/static/chunks/main-app-1f8d22ea4bb2d2c3.js" async=""></script><script src="/_next/static/chunks/c556396d-6bde9789d0a41114.js" async=""></script><script src="/_next/static/chunks/845-a0203995fac91684.js" async=""></script><script src="/_next/static/chunks/57-3951d65188499c8f.js" async=""></script><script src="/_next/static/chunks/325-924239ad7bda233c.js" async=""></script><script src="/_next/static/chunks/app/layout-7026065b75b2b00f.js" async=""></script><script src="/_next/static/chunks/app/page-6cd03741a79daf91.js" async=""></script><script src="/_next/static/chunks/7a1bdfe6-8f7609c25899d936.js" async=""></script><script src="/_next/static/chunks/c4aeae87-2a85323a0275cbf9.js" async=""></script><script src="/_next/static/chunks/1b3e99d6-50521588821d44ca.js" async=""></script><script src="/_next/static/chunks/826-c44bffd752ec02cd.js" async=""></script><script src="/_next/static/chunks/467-ff6f7f0e9f0462a7.js" async=""></script><script src="/_next/static/chunks/app/articles/%5B%5B...params%5D%5D/page-59c8401fd7fff2e0.js" async=""></script><link rel="preload" href="https://services.ddadaal.me/monitor/script.js" as="script"/><title>写代码要动脑子！ - ddadaal.me</title><meta name="description" content="ddadaal&#x27;s personal website"/><link rel="manifest" href="/site.webmanifest"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><link rel="icon" href="/icon.svg?35be8e76be1c3618" type="image/svg+xml" sizes="any"/><link rel="apple-touch-icon" href="/apple-icon.png?5334a64f42000bb0" type="image/png" sizes="180x180"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="w-full"><div class="items-center sticky z-50 w-full h-13 transition -top-[1px] bg-base-200 text-base-content"><div class="flex justify-between items-center max-w-7xl mx-auto px-4"><a class="flex items-center justify-center space-x-1" href="/"><img alt="logo" loading="lazy" width="42" height="42" decoding="async" data-nimg="1" style="color:transparent" src="/_next/static/media/logo.8f2bd5ec.svg"/><h1 class="text-sm font-bold">ddadaal.me</h1></a><div class="flex items-center gap-1"><div class="hidden lg:flex"><ul class="menu menu-horizontal"><li><a class="" href="/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg>主页</a></li><li><a class="active" href="/articles"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"></path></svg>文章</a></li><li><details><summary class=""><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 384 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"></path></svg>简历</summary><ul class="shadow bg-base-200 text-base-content min-w-max"><li><a class="" href="/resume/cn">🇨🇳 <!-- -->简体中文</a></li><li><a class="" href="/resume/en">🇺🇸 <!-- -->English</a></li></ul></details></li><li><a class="" href="/slides"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M187.7 153.7c-34 0-61.7 25.7-61.7 57.7 0 31.7 27.7 57.7 61.7 57.7s61.7-26 61.7-57.7c0-32-27.7-57.7-61.7-57.7zm143.4 0c-34 0-61.7 25.7-61.7 57.7 0 31.7 27.7 57.7 61.7 57.7 34.3 0 61.7-26 61.7-57.7.1-32-27.4-57.7-61.7-57.7zm156.6 90l-6 4.3V49.7c0-27.4-20.6-49.7-46-49.7H76.6c-25.4 0-46 22.3-46 49.7V248c-2-1.4-4.3-2.9-6.3-4.3-15.1-10.6-25.1 4-16 17.7 18.3 22.6 53.1 50.3 106.3 72C58.3 525.1 252 555.7 248.9 457.5c0-.7.3-56.6.3-96.6 5.1 1.1 9.4 2.3 13.7 3.1 0 39.7.3 92.8.3 93.5-3.1 98.3 190.6 67.7 134.3-124 53.1-21.7 88-49.4 106.3-72 9.1-13.8-.9-28.3-16.1-17.8zm-30.5 19.2c-68.9 37.4-128.3 31.1-160.6 29.7-23.7-.9-32.6 9.1-33.7 24.9-10.3-7.7-18.6-15.5-20.3-17.1-5.1-5.4-13.7-8-27.1-7.7-31.7 1.1-89.7 7.4-157.4-28V72.3c0-34.9 8.9-45.7 40.6-45.7h317.7c30.3 0 40.9 12.9 40.9 45.7v190.6z"></path></svg>幻灯片</a></li><li><details><summary class=""><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 192 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"></path></svg>关于</summary><ul class="shadow bg-base-200 text-base-content min-w-max"><li><a class="" href="/about/odyssey"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"></path></svg>一个个人博客的史诗</a></li><li><a class="" href="/about/project"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"></path></svg>关于网站</a></li><li><a class="" href="/about/me"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 192 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M96 0c35.346 0 64 28.654 64 64s-28.654 64-64 64-64-28.654-64-64S60.654 0 96 0m48 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H48c-26.51 0-48 21.49-48 48v136c0 13.255 10.745 24 24 24h16v136c0 13.255 10.745 24 24 24h64c13.255 0 24-10.745 24-24V352h16c13.255 0 24-10.745 24-24V192c0-26.51-21.49-48-48-48z"></path></svg>关于我</a></li></ul></details></li></ul></div><div class="dropdown dropdown-end"><label tabindex="0" class="btn"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705 0 184 82.311 184 184 0 101.705-82.311 184-184 184z"></path></svg><span class="hidden sm:block">自动</span></label><ul tabindex="0" class="dropdown-content menu p-2 bg-base-200 text-base-content shadow rounded-box min-w-max"><li><a class="justify-between">自动</a></li><li><a class="justify-between">明亮</a></li><li><a class="justify-between">暗色</a></li><li><a class="justify-between">杯子蛋糕</a></li><li><a class="justify-between">大黄蜂</a></li><li><a class="justify-between">白色商务</a></li><li><a class="justify-between">黑色商务</a></li><li><a class="justify-between">金色奢华</a></li><li><a class="justify-between">夏日柠檬</a></li><li><a class="justify-between">绿野仙踪</a></li><li><a class="justify-between">复古</a></li><li><a class="justify-between">粉色浪漫</a></li><li><a class="justify-between">赛博朋克</a></li></ul></div><div class="dropdown dropdown-end"><label tabindex="0" class="btn">🇨🇳 <span class="hidden sm:block">简体中文</span></label><ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-200 rounded-box min-w-max text-base-content"><li><a class="justify-between">🇨🇳 <!-- -->简体中文</a></li><li><a class="justify-between">🇺🇸 <!-- -->English</a></li></ul></div><div class="dropdown dropdown-end lg:hidden"><label tabindex="0" class="btn btn-ghost"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"></path></svg></label><ul tabindex="0" class="menu menu-compact dropdown-content min-w-max mt-3 p-2 shadow rounded-box bg-base-200 text-base-content"><li><a class="" href="/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg>主页</a></li><li><a class="active" href="/articles"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"></path></svg>文章</a></li><li><a><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 384 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"></path></svg>简历</a><ul><li><a class="" href="/resume/cn">🇨🇳 <!-- -->简体中文</a></li><li><a class="" href="/resume/en">🇺🇸 <!-- -->English</a></li></ul></li><li><a class="" href="/slides"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M187.7 153.7c-34 0-61.7 25.7-61.7 57.7 0 31.7 27.7 57.7 61.7 57.7s61.7-26 61.7-57.7c0-32-27.7-57.7-61.7-57.7zm143.4 0c-34 0-61.7 25.7-61.7 57.7 0 31.7 27.7 57.7 61.7 57.7 34.3 0 61.7-26 61.7-57.7.1-32-27.4-57.7-61.7-57.7zm156.6 90l-6 4.3V49.7c0-27.4-20.6-49.7-46-49.7H76.6c-25.4 0-46 22.3-46 49.7V248c-2-1.4-4.3-2.9-6.3-4.3-15.1-10.6-25.1 4-16 17.7 18.3 22.6 53.1 50.3 106.3 72C58.3 525.1 252 555.7 248.9 457.5c0-.7.3-56.6.3-96.6 5.1 1.1 9.4 2.3 13.7 3.1 0 39.7.3 92.8.3 93.5-3.1 98.3 190.6 67.7 134.3-124 53.1-21.7 88-49.4 106.3-72 9.1-13.8-.9-28.3-16.1-17.8zm-30.5 19.2c-68.9 37.4-128.3 31.1-160.6 29.7-23.7-.9-32.6 9.1-33.7 24.9-10.3-7.7-18.6-15.5-20.3-17.1-5.1-5.4-13.7-8-27.1-7.7-31.7 1.1-89.7 7.4-157.4-28V72.3c0-34.9 8.9-45.7 40.6-45.7h317.7c30.3 0 40.9 12.9 40.9 45.7v190.6z"></path></svg>幻灯片</a></li><li><a><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 192 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"></path></svg>关于</a><ul><li><a class="" href="/about/odyssey"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"></path></svg>一个个人博客的史诗</a></li><li><a class="" href="/about/project"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"></path></svg>关于网站</a></li><li><a class="" href="/about/me"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 192 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M96 0c35.346 0 64 28.654 64 64s-28.654 64-64 64-64-28.654-64-64S60.654 0 96 0m48 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H48c-26.51 0-48 21.49-48 48v136c0 13.255 10.745 24 24 24h16v136c0 13.255 10.745 24 24 24h64c13.255 0 24-10.745 24-24V352h16c13.255 0 24-10.745 24-24V192c0-26.51-21.49-48-48-48z"></path></svg>关于我</a></li></ul></li></ul></div></div></div></div><div><article><div class="bg-neutral px-4 py-8"><div class="max-w-7xl mx-auto min-h-[256px] flex justify-center text-center text-neutral-content"><div class="flex flex-col justify-center animate-slide-up"><h1 class="text-4xl my-2">写代码要动脑子！</h1><div class="flex flex-wrap gap-3 my-2 text-sm justify-center"><div class="flex flex-wrap gap-1 items-center"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"></path></svg><a class="badge badge-accent mx-0.5 text-accent-content" href="/articles/search?query=thoughts">看法</a></div><div class="flex items-center" title="发表时间"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"></path></svg><span class="mx-0.5">2018-07-31 14:12:00 UTC+8</span></div><div class="flex items-center"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 384 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"></path></svg><span class="mx-0.5">2426<!-- --> 字</span></div><div class="flex items-center"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"></path></svg><span class="mx-0.5">13<!-- --> 分钟阅读</span></div><div class="flex items-center"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"></path></svg><span class="mx-0.5 space-x-1"><a class="link link-hover" href="/articles/think-while-coding/cn">简体中文</a></span></div></div></div></div></div><div class="animate-slide-up"><div class="max-w-7xl mx-auto p-4"><div class="flex flex-row space-x-4"><div class="prose max-w-full lg:w-[75%]"><div class="p-4 my-4 bg-neutral rounded shadow"><h1 id="summary" class="text-neutral-content mb-3"><a href="#summary" class="mr-1 text-neutral-content"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="inline-block opacity-20 hover:opacity-60" height="16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>✨AI全文摘要</h1><div><div role="tablist" class="tabs-boxed"><a role="tab" class="tab no-underline tab-active">DeepSeek R1</a><a role="tab" class="tab no-underline">DeepSeek R1 8B</a><div role="tabpanel" class="p-3"><div class="prose max-h-80 overflow-auto max-w-full prose-p:m-0 prose-li:m-0 prose-ul:m-0 prose-ol:m-0"><p>文章批评开发中无脑复制粘贴代码的现象，指出重复switch、冗余方法、无脑try-catch等问题导致维护困难，建议采用多态、策略模式、泛型及框架特性优化代码，并以登录验证为例展示装饰器与Spring Filter的解决方案，强调注重代码质量可提升可维护性，避免低效代码增加调试成本。</p></div><p class="text-sm justify-end flex m-2 italic">由<a target="_blank" href="https://ai.azure.com">Azure AI</a>部署的DeepSeek-R1模型推理</p></div></div></div></div><p>在开发过程中，不要无脑复制粘贴照着示例写，而应边写边想有什么可优化的，并大胆地通过查资料、自己动手做实验等方法验证自己的优化可不可行，如果可行，请大胆地提交代码，并给所有人讲解你的做法。</p>
<h1 id="错误示范"><a href="#错误示范" class="mr-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="inline-block opacity-20 hover:opacity-60" height="16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>错误示范</h1>
<p>陈振宇说得好，重复3次以上的操作都要应该写程序来做。但是，事实上，很多人写代码根本不动脑子，看到示例怎么写，自己就复制一下，改改变量名，能用就行，不管复制多少次也不嫌烦。</p>
<p>这里举几个例子，全是大作业里的代码。大家都不需要知道每个变量具体是什么意思，单看代码就知道这种代码就是典型的不动脑子的代码：</p>
<p>重复switch（解决方法：多态，策略模式）</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="java" data-theme="one-dark-pro"><code data-language="java" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#ABB2BF">@</span><span style="color:#E5C07B">Override</span></span>
<span data-line=""><span style="color:#C678DD">public</span><span style="color:#C678DD"> void</span><span style="color:#61AFEF"> updateMission</span><span style="color:#E06C75">(</span><span style="color:#E5C07B">String</span><span style="color:#E06C75"> missionId</span><span style="color:#ABB2BF">,</span><span style="color:#C678DD"> int</span><span style="color:#E06C75"> credits</span><span style="color:#ABB2BF">,</span><span style="color:#E5C07B"> MissionType</span><span style="color:#E06C75"> missionType) throws SystemException</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75"> IOException</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75"> MissionIdDoesNotExistException</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75"> ClassNotFoundException {</span></span>
<span data-line=""><span style="color:#E5C07B">    Mission</span><span style="color:#E06C75"> mission </span><span style="color:#56B6C2">=</span><span style="color:#D19A66"> null</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">    // highlight-start</span></span>
<span data-line=""><span style="color:#C678DD">    switch</span><span style="color:#E06C75"> (missionType) {</span></span>
<span data-line=""><span style="color:#C678DD">        case</span><span style="color:#E06C75"> IMAGE</span><span style="color:#C678DD">:</span></span>
<span data-line=""><span style="color:#E06C75">            mission </span><span style="color:#56B6C2">=</span><span style="color:#E5C07B"> imageMissionDao</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">findImageMissionByMissionId</span><span style="color:#ABB2BF">(missionId);</span></span>
<span data-line=""><span style="color:#C678DD">            break</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#C678DD">        case</span><span style="color:#E06C75"> TEXT</span><span style="color:#C678DD">:</span></span>
<span data-line=""><span style="color:#E06C75">            mission </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> getMissionByMissionId</span><span style="color:#E06C75">(missionId)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#C678DD">            break</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#C678DD">        case</span><span style="color:#E06C75"> AUDIO</span><span style="color:#C678DD">:</span></span>
<span data-line=""><span style="color:#E06C75">            mission </span><span style="color:#56B6C2">=</span><span style="color:#E5C07B"> audioMissionDao</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">findAudioMissionByMissionId</span><span style="color:#ABB2BF">(missionId);</span></span>
<span data-line=""><span style="color:#C678DD">            break</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#C678DD">        case</span><span style="color:#E06C75"> VIDEO</span><span style="color:#C678DD">:</span></span>
<span data-line=""><span style="color:#E06C75">            mission </span><span style="color:#56B6C2">=</span><span style="color:#E5C07B"> videoMissionDao</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">findVideoMissionByMissionId</span><span style="color:#ABB2BF">(missionId);</span></span>
<span data-line=""><span style="color:#C678DD">            break</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#C678DD">        case</span><span style="color:#E06C75"> THREE_DIMENSION</span><span style="color:#C678DD">:</span></span>
<span data-line=""><span style="color:#E06C75">            mission </span><span style="color:#56B6C2">=</span><span style="color:#E5C07B"> threeDimensionMissionDao</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">findTHreeDimensionMissionByMissionId</span><span style="color:#ABB2BF">(missionId);</span></span>
<span data-line=""><span style="color:#C678DD">            break</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E06C75">    }</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">    // highlight-end</span></span>
<span data-line=""><span style="color:#E5C07B">    mission</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">setCredits</span><span style="color:#ABB2BF">(</span><span style="color:#E5C07B">mission</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">getCredits</span><span style="color:#ABB2BF">() </span><span style="color:#56B6C2">+</span><span style="color:#ABB2BF"> credits);</span></span>
<span data-line=""><span style="color:#61AFEF">    updateMission</span><span style="color:#E06C75">(mission)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E06C75">}</span></span></code></pre></figure>
<p>不可忍受的重复switch（解决方法：多态，策略模式）</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="java" data-theme="one-dark-pro"><code data-language="java" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#ABB2BF">@</span><span style="color:#E5C07B">Override</span></span>
<span data-line=""><span style="color:#C678DD">public</span><span style="color:#E5C07B"> String</span><span style="color:#61AFEF"> updateInstanceDetailVo</span><span style="color:#E06C75">(</span><span style="color:#E5C07B">InstanceDetailVo</span><span style="color:#E06C75"> instanceDetailVo) throws SystemException</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75"> IOException {</span></span>
<span data-line=""><span style="color:#E5C07B">    MissionType</span><span style="color:#E06C75"> missionType </span><span style="color:#56B6C2">=</span><span style="color:#E5C07B"> instanceDetailVo</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">getMissionType</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#E5C07B">    InstanceVo</span><span style="color:#E06C75"> instanceVo </span><span style="color:#56B6C2">=</span><span style="color:#E5C07B"> instanceDetailVo</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">getInstance</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#E5C07B">    Instance</span><span style="color:#E06C75"> result </span><span style="color:#56B6C2">=</span><span style="color:#D19A66"> null</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">    // highlight-start</span></span>
<span data-line=""><span style="color:#C678DD">    switch</span><span style="color:#E06C75"> (missionType) {</span></span>
<span data-line=""><span style="color:#C678DD">        case</span><span style="color:#E06C75"> IMAGE</span><span style="color:#C678DD">:</span></span>
<span data-line=""><span style="color:#E5C07B">            ImageInstanceDetailVo</span><span style="color:#E06C75"> imageInstanceDetailVo </span><span style="color:#56B6C2">=</span><span style="color:#E06C75"> (ImageInstanceDetailVo) instanceDetailVo</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E5C07B">            ImageInstance</span><span style="color:#E06C75"> imageInstance </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> generateImageInstance</span><span style="color:#E06C75">(instanceVo</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75"> imageInstanceDetailVo)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E06C75">            result </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> saveImageInstance</span><span style="color:#E06C75">(imageInstance)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#C678DD">            break</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#C678DD">        case</span><span style="color:#E06C75"> TEXT</span><span style="color:#C678DD">:</span></span>
<span data-line=""><span style="color:#E5C07B">            TextInstanceDetailVo</span><span style="color:#E06C75"> textInstanceDetailVo </span><span style="color:#56B6C2">=</span><span style="color:#E06C75"> (TextInstanceDetailVo) instanceDetailVo</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E5C07B">            TextInstance</span><span style="color:#E06C75"> textInstance </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> generateTextInstance</span><span style="color:#E06C75">(instanceVo</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75"> textInstanceDetailVo)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E06C75">            result </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> saveTextInstance</span><span style="color:#E06C75">(textInstance)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#C678DD">            break</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#C678DD">        case</span><span style="color:#E06C75"> THREE_DIMENSION</span><span style="color:#C678DD">:</span></span>
<span data-line=""><span style="color:#E5C07B">            ThreeDimensionInstanceDetailVo</span><span style="color:#E06C75"> threeDimensionInstanceDetailVo </span><span style="color:#56B6C2">=</span><span style="color:#E06C75"> (ThreeDimensionInstanceDetailVo) instanceDetailVo</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E5C07B">            ThreeDimensionInstance</span><span style="color:#E06C75"> threeDimensionInstance </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> generateThreeDimensionInstance</span><span style="color:#E06C75">(instanceVo</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75"> threeDimensionInstanceDetailVo)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E06C75">            result </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> saveThreeDimensionInstance</span><span style="color:#E06C75">(threeDimensionInstance)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#C678DD">            break</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#C678DD">        case</span><span style="color:#E06C75"> VIDEO</span><span style="color:#C678DD">:</span></span>
<span data-line=""><span style="color:#E5C07B">            VideoInstanceDetailVo</span><span style="color:#E06C75"> videoInstanceDetailVo </span><span style="color:#56B6C2">=</span><span style="color:#E06C75"> (VideoInstanceDetailVo) instanceDetailVo</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E5C07B">            VideoInstance</span><span style="color:#E06C75"> videoInstance </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> generateVideoInstance</span><span style="color:#E06C75">(instanceVo</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75"> videoInstanceDetailVo)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E06C75">            result </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> saveVideoInstance</span><span style="color:#E06C75">(videoInstance)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#C678DD">            break</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#C678DD">        case</span><span style="color:#E06C75"> AUDIO</span><span style="color:#C678DD">:</span></span>
<span data-line=""><span style="color:#E5C07B">            AudioInstanceDetailVo</span><span style="color:#E06C75"> audioInstanceDetailVo </span><span style="color:#56B6C2">=</span><span style="color:#E06C75"> (AudioInstanceDetailVo) instanceDetailVo</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E5C07B">            AudioInstance</span><span style="color:#E06C75"> audioInstance </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> generateAudioInstance</span><span style="color:#E06C75">(instanceVo</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75"> audioInstanceDetailVo)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E06C75">            result </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> saveAudioInstance</span><span style="color:#E06C75">(audioInstance)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#C678DD">            break</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E06C75">    }</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">    // highlight-end</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">    if</span><span style="color:#E06C75"> (result </span><span style="color:#56B6C2">==</span><span style="color:#D19A66"> null</span><span style="color:#E06C75">)</span></span>
<span data-line=""><span style="color:#C678DD">        throw</span><span style="color:#C678DD"> new</span><span style="color:#61AFEF"> SystemException</span><span style="color:#E06C75">()</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#C678DD">    return</span><span style="color:#E5C07B"> result</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">getInstanceId</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#E06C75">}</span></span>
<span data-line=""> </span></code></pre></figure>
<p>逻辑几乎相同的多个方法（解决方法：泛型，策略模式）</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="java" data-theme="one-dark-pro"><code data-language="java" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#C678DD">public</span><span style="color:#E5C07B"> VideoInstance</span><span style="color:#61AFEF"> getVideoInstance</span><span style="color:#E06C75">(</span><span style="color:#E5C07B">String</span><span style="color:#E06C75"> instanceId)  {</span></span>
<span data-line=""><span style="color:#E5C07B">    VideoInstance</span><span style="color:#E06C75"> videoInstance </span><span style="color:#56B6C2">=</span><span style="color:#E5C07B"> videoInstanceDao</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">findVideoInstanceByInstanceId</span><span style="color:#ABB2BF">(instanceId);</span></span>
<span data-line=""><span style="color:#C678DD">    try</span><span style="color:#E06C75"> {</span></span>
<span data-line=""><span style="color:#E5C07B">        FileInputStream</span><span style="color:#E06C75"> fileIn </span><span style="color:#56B6C2">=</span><span style="color:#C678DD"> new</span><span style="color:#61AFEF"> FileInputStream</span><span style="color:#E06C75">(</span><span style="color:#E5C07B">PathUtil</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">getSerPath</span><span style="color:#ABB2BF">()</span><span style="color:#56B6C2"> +</span><span style="color:#98C379"> &quot;video_instance&quot;</span><span style="color:#56B6C2"> +</span><span style="color:#98C379"> &quot;_&quot;</span><span style="color:#56B6C2"> +</span><span style="color:#E06C75"> instanceId)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E5C07B">        ObjectInputStream</span><span style="color:#E06C75"> in </span><span style="color:#56B6C2">=</span><span style="color:#C678DD"> new</span><span style="color:#61AFEF"> ObjectInputStream</span><span style="color:#E06C75">(fileIn)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E5C07B">        List</span><span style="color:#ABB2BF">&lt;</span><span style="color:#E5C07B">VideoResult</span><span style="color:#ABB2BF">&gt;</span><span style="color:#E06C75"> videoResults </span><span style="color:#56B6C2">=</span><span style="color:#E06C75"> (</span><span style="color:#E5C07B">List</span><span style="color:#56B6C2">&lt;</span><span style="color:#E06C75">VideoResult</span><span style="color:#56B6C2">&gt;</span><span style="color:#E06C75">) </span><span style="color:#E5C07B">in</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">readObject</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#E5C07B">        in</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">close</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#E5C07B">        fileIn</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">close</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#E5C07B">        videoInstance</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">setVideoResults</span><span style="color:#ABB2BF">(videoResults);</span></span>
<span data-line=""><span style="color:#E06C75">    } </span><span style="color:#C678DD">catch</span><span style="color:#E06C75"> (</span><span style="color:#E5C07B">IOException</span><span style="color:#E06C75;font-style:italic"> e</span><span style="color:#E06C75">) {</span></span>
<span data-line=""><span style="color:#E5C07B">        System</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">out</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">println</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;Results for &quot;</span><span style="color:#56B6C2"> +</span><span style="color:#ABB2BF"> instanceId </span><span style="color:#56B6C2">+</span><span style="color:#98C379"> &quot;not found. Returns empty list.&quot;</span><span style="color:#ABB2BF">);</span></span>
<span data-line=""><span style="color:#E5C07B">        videoInstance</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">setVideoResults</span><span style="color:#ABB2BF">(</span><span style="color:#C678DD">new</span><span style="color:#E5C07B"> ArrayList</span><span style="color:#ABB2BF">&lt;&gt;());</span></span>
<span data-line=""><span style="color:#E06C75">    } </span><span style="color:#C678DD">catch</span><span style="color:#E06C75"> (</span><span style="color:#E5C07B">ClassNotFoundException</span><span style="color:#E06C75;font-style:italic"> e</span><span style="color:#E06C75">) {</span></span>
<span data-line=""><span style="color:#E5C07B">        e</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">printStackTrace</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#E06C75">    }</span></span>
<span data-line=""><span style="color:#C678DD">    return</span><span style="color:#E06C75"> videoInstance</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E06C75">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">public</span><span style="color:#E5C07B"> AudioInstance</span><span style="color:#61AFEF"> getAudioInstance</span><span style="color:#E06C75">(</span><span style="color:#E5C07B">String</span><span style="color:#E06C75"> instanceId) {</span></span>
<span data-line=""><span style="color:#E5C07B">    AudioInstance</span><span style="color:#E06C75"> audioInstance </span><span style="color:#56B6C2">=</span><span style="color:#E5C07B"> audioInstanceDao</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">findAudioInstanceByInstanceId</span><span style="color:#ABB2BF">(instanceId);</span></span>
<span data-line=""><span style="color:#C678DD">    try</span><span style="color:#E06C75"> {</span></span>
<span data-line=""><span style="color:#E5C07B">        FileInputStream</span><span style="color:#E06C75"> fileIn </span><span style="color:#56B6C2">=</span><span style="color:#C678DD"> new</span><span style="color:#61AFEF"> FileInputStream</span><span style="color:#E06C75">(</span><span style="color:#E5C07B">PathUtil</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">getSerPath</span><span style="color:#ABB2BF">()</span><span style="color:#56B6C2"> +</span><span style="color:#98C379"> &quot;audio_instance&quot;</span><span style="color:#56B6C2"> +</span><span style="color:#98C379"> &quot;_&quot;</span><span style="color:#56B6C2"> +</span><span style="color:#E06C75"> instanceId)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E5C07B">        ObjectInputStream</span><span style="color:#E06C75"> in </span><span style="color:#56B6C2">=</span><span style="color:#C678DD"> new</span><span style="color:#61AFEF"> ObjectInputStream</span><span style="color:#E06C75">(fileIn)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E5C07B">        List</span><span style="color:#ABB2BF">&lt;</span><span style="color:#E5C07B">AudioResult</span><span style="color:#ABB2BF">&gt;</span><span style="color:#E06C75"> audioResults </span><span style="color:#56B6C2">=</span><span style="color:#E06C75"> (</span><span style="color:#E5C07B">List</span><span style="color:#56B6C2">&lt;</span><span style="color:#E06C75">AudioResult</span><span style="color:#56B6C2">&gt;</span><span style="color:#E06C75">) </span><span style="color:#E5C07B">in</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">readObject</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#E5C07B">        in</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">close</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#E5C07B">        fileIn</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">close</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#E5C07B">        audioInstance</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">setAudioResults</span><span style="color:#ABB2BF">(audioResults);</span></span>
<span data-line=""><span style="color:#E06C75">    } </span><span style="color:#C678DD">catch</span><span style="color:#E06C75"> (</span><span style="color:#E5C07B">IOException</span><span style="color:#E06C75;font-style:italic"> e</span><span style="color:#E06C75">) {</span></span>
<span data-line=""><span style="color:#E5C07B">        System</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">out</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">println</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;Results for &quot;</span><span style="color:#56B6C2"> +</span><span style="color:#ABB2BF"> instanceId </span><span style="color:#56B6C2">+</span><span style="color:#98C379"> &quot;not found. Returns empty list.&quot;</span><span style="color:#ABB2BF">);</span></span>
<span data-line=""><span style="color:#E5C07B">        audioInstance</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">setAudioResults</span><span style="color:#ABB2BF">(</span><span style="color:#C678DD">new</span><span style="color:#E5C07B"> ArrayList</span><span style="color:#ABB2BF">&lt;&gt;());</span></span>
<span data-line=""><span style="color:#E06C75">    } </span><span style="color:#C678DD">catch</span><span style="color:#E06C75"> (</span><span style="color:#E5C07B">ClassNotFoundException</span><span style="color:#E06C75;font-style:italic"> e</span><span style="color:#E06C75">) {</span></span>
<span data-line=""><span style="color:#E5C07B">        e</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">printStackTrace</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#E06C75">    }</span></span>
<span data-line=""><span style="color:#C678DD">    return</span><span style="color:#E06C75"> audioInstance</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E06C75">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">public</span><span style="color:#E5C07B"> ThreeDimensionInstance</span><span style="color:#61AFEF"> getThreeDimensionInstance</span><span style="color:#E06C75">(</span><span style="color:#E5C07B">String</span><span style="color:#E06C75"> instanceId) {</span></span>
<span data-line=""><span style="color:#E5C07B">    ThreeDimensionInstance</span><span style="color:#E06C75"> threeDimensionInstance </span><span style="color:#56B6C2">=</span><span style="color:#E5C07B"> threeDimensionInstanceDao</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">findThreeDimensionInstanceByInstanceId</span><span style="color:#ABB2BF">(instanceId);</span></span>
<span data-line=""><span style="color:#C678DD">    try</span><span style="color:#E06C75"> {</span></span>
<span data-line=""><span style="color:#E5C07B">        FileInputStream</span><span style="color:#E06C75"> fileIn </span><span style="color:#56B6C2">=</span><span style="color:#C678DD"> new</span><span style="color:#61AFEF"> FileInputStream</span><span style="color:#E06C75">(</span><span style="color:#E5C07B">PathUtil</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">getSerPath</span><span style="color:#ABB2BF">()</span><span style="color:#56B6C2"> +</span><span style="color:#98C379"> &quot;threeDimension_instance&quot;</span><span style="color:#56B6C2"> +</span><span style="color:#98C379"> &quot;_&quot;</span><span style="color:#56B6C2"> +</span><span style="color:#E06C75">    instanceId)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E5C07B">        ObjectInputStream</span><span style="color:#E06C75"> in </span><span style="color:#56B6C2">=</span><span style="color:#C678DD"> new</span><span style="color:#61AFEF"> ObjectInputStream</span><span style="color:#E06C75">(fileIn)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E5C07B">        List</span><span style="color:#ABB2BF">&lt;</span><span style="color:#E5C07B">ThreeDimensionResult</span><span style="color:#ABB2BF">&gt;</span><span style="color:#E06C75"> threeDimensionResults </span><span style="color:#56B6C2">=</span><span style="color:#E06C75"> (</span><span style="color:#E5C07B">List</span><span style="color:#56B6C2">&lt;</span><span style="color:#E06C75">ThreeDimensionResult</span><span style="color:#56B6C2">&gt;</span><span style="color:#E06C75">) </span><span style="color:#E5C07B">in</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">readObject</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#E5C07B">        in</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">close</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#E5C07B">        fileIn</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">close</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#E5C07B">        threeDimensionInstance</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">setThreeDimensionResults</span><span style="color:#ABB2BF">(threeDimensionResults);</span></span>
<span data-line=""><span style="color:#E06C75">    } </span><span style="color:#C678DD">catch</span><span style="color:#E06C75"> (</span><span style="color:#E5C07B">IOException</span><span style="color:#E06C75;font-style:italic"> e</span><span style="color:#E06C75">) {</span></span>
<span data-line=""><span style="color:#E5C07B">        System</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">out</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">println</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;Results for &quot;</span><span style="color:#56B6C2"> +</span><span style="color:#ABB2BF"> instanceId </span><span style="color:#56B6C2">+</span><span style="color:#98C379"> &quot;not found. Returns empty list.&quot;</span><span style="color:#ABB2BF">);</span></span>
<span data-line=""><span style="color:#E5C07B">        threeDimensionInstance</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">setThreeDimensionResults</span><span style="color:#ABB2BF">(</span><span style="color:#C678DD">new</span><span style="color:#E5C07B"> ArrayList</span><span style="color:#ABB2BF">&lt;&gt;());</span></span>
<span data-line=""><span style="color:#E06C75">    } </span><span style="color:#C678DD">catch</span><span style="color:#E06C75"> (</span><span style="color:#E5C07B">ClassNotFoundException</span><span style="color:#E06C75;font-style:italic"> e</span><span style="color:#E06C75">) {</span></span>
<span data-line=""><span style="color:#E5C07B">        e</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">printStackTrace</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#E06C75">    }</span></span>
<span data-line=""><span style="color:#C678DD">    return</span><span style="color:#E06C75"> threeDimensionInstance</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E06C75">}</span></span></code></pre></figure>
<p>无脑try catch，几乎相同的处理逻辑（解决方法：让Spring boot处理错误）</p>
<p>无脑转发BL层（问题：BL层和Controller完全使用同样的函数签名和Po/Vo/返回值类型，这样的分层毫无意义）（解决方法：可直接将BL的代码写到controller中。）</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="java" data-theme="one-dark-pro"><code data-language="java" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#C678DD">public</span><span style="color:#E5C07B"> ResponseEntity</span><span style="color:#56B6C2">&lt;</span><span style="color:#E06C75">Response</span><span style="color:#56B6C2">&gt;</span><span style="color:#61AFEF"> queryInstance</span><span style="color:#E06C75">(</span><span style="color:#ABB2BF">@</span><span style="color:#E5C07B">PathVariable</span><span style="color:#E06C75">(</span><span style="color:#98C379">&quot;instanceId&quot;</span><span style="color:#E06C75">) </span><span style="color:#E5C07B">String</span><span style="color:#E06C75"> instanceId) {</span></span>
<span data-line=""><span style="color:#C678DD">    try</span><span style="color:#E06C75"> {</span></span>
<span data-line=""><span style="color:#C678DD">        return</span><span style="color:#C678DD"> new</span><span style="color:#E5C07B"> ResponseEntity</span><span style="color:#ABB2BF">&lt;&gt;</span><span style="color:#E06C75">(</span><span style="color:#E5C07B">requesterMissionBlService</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">queryInstance</span><span style="color:#ABB2BF">(instanceId),</span><span style="color:#E5C07B"> HttpStatus</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">OK</span><span style="color:#E06C75">)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E06C75">    } </span><span style="color:#C678DD">catch</span><span style="color:#E06C75"> (</span><span style="color:#E5C07B">InstanceNotExistException</span><span style="color:#E06C75;font-style:italic"> e</span><span style="color:#E06C75">) {</span></span>
<span data-line=""><span style="color:#E5C07B">        e</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">printStackTrace</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#C678DD">        return</span><span style="color:#C678DD"> new</span><span style="color:#E5C07B"> ResponseEntity</span><span style="color:#ABB2BF">&lt;&gt;</span><span style="color:#E06C75">(</span><span style="color:#E5C07B">e</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">getResponse</span><span style="color:#ABB2BF">(),</span><span style="color:#E5C07B"> HttpStatus</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">NOT_FOUND</span><span style="color:#E06C75">)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E06C75">    }</span></span>
<span data-line=""><span style="color:#E06C75">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">public</span><span style="color:#E5C07B"> ResponseEntity</span><span style="color:#56B6C2">&lt;</span><span style="color:#E06C75">Response</span><span style="color:#56B6C2">&gt;</span><span style="color:#61AFEF"> finalize</span><span style="color:#E06C75">(</span><span style="color:#ABB2BF">@</span><span style="color:#E5C07B">PathVariable</span><span style="color:#E06C75">(</span><span style="color:#98C379">&quot;instanceId&quot;</span><span style="color:#E06C75">) </span><span style="color:#E5C07B">String</span><span style="color:#E06C75"> instanceId</span><span style="color:#ABB2BF">,</span><span style="color:#ABB2BF"> @</span><span style="color:#E5C07B">RequestBody</span><span style="color:#E5C07B"> MissionFinalizeVo</span><span style="color:#E06C75"> missionFinalizeVo) {</span></span>
<span data-line=""><span style="color:#C678DD">    try</span><span style="color:#E06C75"> {</span></span>
<span data-line=""><span style="color:#C678DD">        return</span><span style="color:#C678DD"> new</span><span style="color:#E5C07B"> ResponseEntity</span><span style="color:#ABB2BF">&lt;&gt;</span><span style="color:#E06C75">(</span><span style="color:#E5C07B">requesterMissionBlService</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">finalize</span><span style="color:#ABB2BF">(instanceId, missionFinalizeVo),</span><span style="color:#E5C07B"> HttpStatus</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">OK</span><span style="color:#E06C75">)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E06C75">    } </span><span style="color:#C678DD">catch</span><span style="color:#E06C75"> (</span><span style="color:#E5C07B">InstanceNotExistException</span><span style="color:#E06C75;font-style:italic"> e</span><span style="color:#E06C75">) {</span></span>
<span data-line=""><span style="color:#E5C07B">        e</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">printStackTrace</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#C678DD">        return</span><span style="color:#C678DD"> new</span><span style="color:#E5C07B"> ResponseEntity</span><span style="color:#ABB2BF">&lt;&gt;</span><span style="color:#E06C75">(</span><span style="color:#E5C07B">e</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">getResponse</span><span style="color:#ABB2BF">(),</span><span style="color:#E5C07B"> HttpStatus</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">NOT_FOUND</span><span style="color:#E06C75">)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E06C75">    } </span><span style="color:#C678DD">catch</span><span style="color:#E06C75"> (</span><span style="color:#E5C07B">SystemException</span><span style="color:#E06C75;font-style:italic"> e</span><span style="color:#E06C75">) {</span></span>
<span data-line=""><span style="color:#E5C07B">        e</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">printStackTrace</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#C678DD">        return</span><span style="color:#C678DD"> new</span><span style="color:#E5C07B"> ResponseEntity</span><span style="color:#ABB2BF">&lt;&gt;</span><span style="color:#E06C75">(</span><span style="color:#E5C07B">e</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">getResponse</span><span style="color:#ABB2BF">(),</span><span style="color:#E5C07B"> HttpStatus</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">SERVICE_UNAVAILABLE</span><span style="color:#E06C75">)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E06C75">    } </span><span style="color:#C678DD">catch</span><span style="color:#E06C75"> (</span><span style="color:#E5C07B">MissionIdDoesNotExistException</span><span style="color:#E06C75;font-style:italic"> e</span><span style="color:#E06C75">) {</span></span>
<span data-line=""><span style="color:#E5C07B">        e</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">printStackTrace</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#C678DD">        return</span><span style="color:#C678DD"> new</span><span style="color:#E5C07B"> ResponseEntity</span><span style="color:#ABB2BF">&lt;&gt;</span><span style="color:#E06C75">(</span><span style="color:#E5C07B">e</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">getResponse</span><span style="color:#ABB2BF">(),</span><span style="color:#E5C07B"> HttpStatus</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">NOT_FOUND</span><span style="color:#E06C75">)</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""><span style="color:#E06C75">    }</span></span>
<span data-line=""><span style="color:#E06C75">}</span></span></code></pre></figure>
<h1 id="错误示范带来的问题"><a href="#错误示范带来的问题" class="mr-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="inline-block opacity-20 hover:opacity-60" height="16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>错误示范带来的问题</h1>
<p>以上代码给我们的错误调试带来了巨大的难度，耗费了很多的时间和精力：</p>
<ol>
<li>新增一个分支，需要复制粘贴很多现有代码；</li>
<li>修改一处逻辑，需要在多个switch分支、多个方法甚至多个文件里修改同样的逻辑，漏改几乎是肯定的；</li>
<li>代码量爆炸，同样的逻辑无意义地重复多次，使得代码不美观；</li>
<li>逻辑不清晰，需要看懂整个重复代码才能知道这是做什么；</li>
<li>很多复制粘贴出来的代码其实根本不能运行，发现后浪费更多的时间在调试和重写上。</li>
</ol>
<h1 id="常见优化方法"><a href="#常见优化方法" class="mr-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="inline-block opacity-20 hover:opacity-60" height="16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>常见优化方法</h1>
<ol>
<li>将共用代码提成一个函数/类（谁都知道）</li>
<li>使用高级语言特性</li>
</ol>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="python" data-theme="one-dark-pro"><code data-language="python" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#ABB2BF">actual_value </span><span style="color:#56B6C2">=</span><span style="color:#D19A66"> 1</span></span>
<span data-line=""><span style="color:#ABB2BF">expected_values </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> [{value: </span><span style="color:#D19A66">1</span><span style="color:#ABB2BF">}, {value: </span><span style="color:#D19A66">2</span><span style="color:#ABB2BF">}, {value: </span><span style="color:#D19A66">3</span><span style="color:#ABB2BF">}]</span></span></code></pre></figure>
<p>不好的</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="python" data-theme="one-dark-pro"><code data-language="python" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#C678DD">for</span><span style="color:#ABB2BF"> i </span><span style="color:#C678DD">in</span><span style="color:#56B6C2"> range</span><span style="color:#ABB2BF">(expected_values.</span><span style="color:#56B6C2">__len__</span><span style="color:#ABB2BF">()):</span></span>
<span data-line=""><span style="color:#C678DD">    if</span><span style="color:#ABB2BF"> actual_value </span><span style="color:#56B6C2">==</span><span style="color:#ABB2BF"> expected_values[i][</span><span style="color:#98C379">&quot;value&quot;</span><span style="color:#ABB2BF">]:</span></span>
<span data-line=""><span style="color:#C678DD">        return</span><span style="color:#D19A66"> True</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">return</span><span style="color:#D19A66"> False</span></span></code></pre></figure>
<p>好的</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="python" data-theme="one-dark-pro"><code data-language="python" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#C678DD">return</span><span style="color:#ABB2BF"> actual_value </span><span style="color:#C678DD">in</span><span style="color:#ABB2BF"> [ i[</span><span style="color:#98C379">&quot;value&quot;</span><span style="color:#ABB2BF">] </span><span style="color:#C678DD">for</span><span style="color:#ABB2BF"> i </span><span style="color:#C678DD">in</span><span style="color:#ABB2BF"> expected_values ]</span></span></code></pre></figure>
<ol start="3">
<li>使用框架提供的工具，结构</li>
</ol>
<p>大佬写的、全球这么多人都用的东西，肯定有其可取之处。我们不用自己想、自己实现一个框架那么牛逼的结构，但是总是该会用的。多看看开源代码，遇到问题多搜索，往往能够看到一个精妙的解决方案。</p>
<h1 id="优化实例"><a href="#优化实例" class="mr-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="inline-block opacity-20 hover:opacity-60" height="16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>优化实例</h1>
<p>下面通过一个例子来解释如何动脑子提高代码质量。</p>
<p>需求：我们正在做一个RESTful接口，其中一些路径在执行前需要验证是否登录，如果没有登录，直接返回401，并保存下当前用户；若已经登录，则继续执行。</p>
<p>最简单的方法如下：</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="python" data-theme="one-dark-pro"><code data-language="python" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#C678DD">def</span><span style="color:#61AFEF"> path1</span><span style="color:#ABB2BF">():</span></span>
<span data-line=""><span style="color:#ABB2BF">    user</span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF">UserDao.</span><span style="color:#61AFEF">get_user_by_username</span><span style="color:#ABB2BF">(request.</span><span style="color:#61AFEF">args</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;username&quot;</span><span style="color:#ABB2BF">)):</span></span>
<span data-line=""><span style="color:#C678DD">    if</span><span style="color:#C678DD"> not</span><span style="color:#ABB2BF"> user:</span></span>
<span data-line=""><span style="color:#C678DD">        return</span><span style="color:#ABB2BF"> {</span><span style="color:#98C379">&quot;error&quot;</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">&quot;not login&quot;</span><span style="color:#ABB2BF">}, </span><span style="color:#D19A66">403</span></span>
<span data-line=""><span style="color:#C678DD">    pass</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">def</span><span style="color:#61AFEF"> path2</span><span style="color:#ABB2BF">():</span></span>
<span data-line=""><span style="color:#ABB2BF">    user</span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF">UserDao.</span><span style="color:#61AFEF">get_user_by_username</span><span style="color:#ABB2BF">(request.</span><span style="color:#61AFEF">args</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;username&quot;</span><span style="color:#ABB2BF">)):</span></span>
<span data-line=""><span style="color:#C678DD">    if</span><span style="color:#C678DD"> not</span><span style="color:#ABB2BF"> user:</span></span>
<span data-line=""><span style="color:#C678DD">        return</span><span style="color:#ABB2BF"> {</span><span style="color:#98C379">&quot;error&quot;</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">&quot;not login&quot;</span><span style="color:#ABB2BF">}, </span><span style="color:#D19A66">403</span></span>
<span data-line=""><span style="color:#C678DD">    pass</span></span>
<span data-line=""> </span></code></pre></figure>
<p>以上代码中出现了重复的代码（if else）。这个写法带来了以下的问题：</p>
<ol>
<li>每新增一个路径，都要复制同样的代码</li>
<li>一旦逻辑有变（获得用户的方法）或者返回值有变（return语句），每个地方都要重新修改，很容易造成修改不完全</li>
<li>代码膨胀，不够清晰，需要看懂整个代码才能知道这段代码的作用，并且会影响真正逻辑的阅读</li>
</ol>
<p>于是，根据<strong>方法1：提取公共方法</strong>，上述代码可以优化成以下代码。</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="python" data-theme="one-dark-pro"><code data-language="python" data-theme="one-dark-pro" style="display:grid"><span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">def</span><span style="color:#61AFEF"> get_user</span><span style="color:#ABB2BF">():</span></span>
<span data-line=""><span style="color:#C678DD">    return</span><span style="color:#ABB2BF"> UserDao.</span><span style="color:#61AFEF">get_user_by_username</span><span style="color:#ABB2BF">(request.</span><span style="color:#61AFEF">args</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;username&quot;</span><span style="color:#ABB2BF">)):</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#ABB2BF">not_login_error </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> ({</span><span style="color:#98C379">&quot;error&quot;</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">&quot;not login&quot;</span><span style="color:#ABB2BF">}, </span><span style="color:#D19A66">403</span><span style="color:#ABB2BF">)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">def</span><span style="color:#61AFEF"> path1</span><span style="color:#ABB2BF">():</span></span>
<span data-line=""><span style="color:#ABB2BF">    user</span><span style="color:#56B6C2">=</span><span style="color:#61AFEF">get_user</span><span style="color:#ABB2BF">()</span></span>
<span data-line=""><span style="color:#C678DD">    if</span><span style="color:#C678DD"> not</span><span style="color:#ABB2BF"> user:</span></span>
<span data-line=""><span style="color:#C678DD">        return</span><span style="color:#ABB2BF"> {</span><span style="color:#98C379">&quot;error&quot;</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">&quot;not login&quot;</span><span style="color:#ABB2BF">}, </span><span style="color:#D19A66">403</span></span>
<span data-line=""><span style="color:#C678DD">    pass</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">def</span><span style="color:#61AFEF"> path2</span><span style="color:#ABB2BF">():</span></span>
<span data-line=""><span style="color:#ABB2BF">    user</span><span style="color:#56B6C2">=</span><span style="color:#61AFEF">get_user</span><span style="color:#ABB2BF">()</span></span>
<span data-line=""><span style="color:#C678DD">    if</span><span style="color:#C678DD"> not</span><span style="color:#ABB2BF"> user:</span></span>
<span data-line=""><span style="color:#C678DD">        return</span><span style="color:#ABB2BF"> not_login_error</span></span>
<span data-line=""><span style="color:#C678DD">    pass</span></span>
<span data-line=""> </span></code></pre></figure>
<p>这个解决方法能够部分解决以上提到的三个问题。</p>
<p>大部分人都能把上述代码优化成如下的代码，并且他们内心中都会觉得这样已经是最简了，即使这个做法仍然要多次重复写if return语句，他们也会觉得这是没有办法的事。</p>
<p>其实，还有更好的方法。</p>
<p>根据以上的<strong>方法2：使用高级语言特性</strong>，这里是decorator，以上代码还能继续优化成以下代码：</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="python" data-theme="one-dark-pro"><code data-language="python" data-theme="one-dark-pro" style="display:grid"><span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">def</span><span style="color:#61AFEF"> need_login</span><span style="color:#ABB2BF">(</span><span style="color:#D19A66;font-style:italic">func</span><span style="color:#ABB2BF">):</span></span>
<span data-line=""><span style="color:#C678DD">    def</span><span style="color:#61AFEF"> wrapped</span><span style="color:#ABB2BF">(*</span><span style="color:#D19A66;font-style:italic">args</span><span style="color:#ABB2BF">, **</span><span style="color:#D19A66;font-style:italic">kwargs</span><span style="color:#ABB2BF">):</span></span>
<span data-line=""><span style="color:#ABB2BF">        user</span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF">UserDao.</span><span style="color:#61AFEF">get_user_by_username</span><span style="color:#ABB2BF">(request.</span><span style="color:#61AFEF">args</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;username&quot;</span><span style="color:#ABB2BF">)):</span></span>
<span data-line=""><span style="color:#C678DD">        if</span><span style="color:#C678DD"> not</span><span style="color:#ABB2BF"> user:</span></span>
<span data-line=""><span style="color:#C678DD">            return</span><span style="color:#ABB2BF"> {</span><span style="color:#98C379">&quot;error&quot;</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">&quot;not login&quot;</span><span style="color:#ABB2BF">}, </span><span style="color:#D19A66">403</span></span>
<span data-line=""><span style="color:#C678DD">        return</span><span style="color:#61AFEF"> func</span><span style="color:#ABB2BF">(*args, </span><span style="color:#E06C75;font-style:italic">user</span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF">user, **kws)</span></span>
<span data-line=""><span style="color:#C678DD">    return</span><span style="color:#ABB2BF"> wrapped</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#61AFEF">@need_login</span></span>
<span data-line=""><span style="color:#C678DD">def</span><span style="color:#61AFEF"> path1</span><span style="color:#ABB2BF">(</span><span style="color:#D19A66;font-style:italic">user</span><span style="color:#ABB2BF">: User):</span></span>
<span data-line=""><span style="color:#C678DD">    pass</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#61AFEF">@need_login</span></span>
<span data-line=""><span style="color:#C678DD">def</span><span style="color:#61AFEF"> path2</span><span style="color:#ABB2BF">(</span><span style="color:#D19A66;font-style:italic">user</span><span style="color:#ABB2BF">: User):</span></span>
<span data-line=""><span style="color:#C678DD">    pass</span></span></code></pre></figure>
<p>请对比以上代码和之前两段代码，就能很明显的发现这段代码有以下的好处：</p>
<ol>
<li>逻辑清晰</li>
</ol>
<p>看到@need_login就知道，原来这个path需要登录才能进入，并且还能知道这个方法运行的时候还需要使用用户作为参数。当path更多的时候，这样做也能显著降低代码量，并减少阅读时无关代码的数量。</p>
<ol start="2">
<li>便于测试</li>
</ol>
<p>要只想测试path的逻辑，不需要真正去运行获得用户（<code>UserDao.get_user_by_username</code>）的代码，测试代码只需要传入一个Mock User，就可以测试这段代码的逻辑是否正确。当然，前两个代码也可以做到这点，但是不得不引入多余的方法。</p>
<ol start="3">
<li>修改灵活</li>
</ol>
<p>need_login中可以随意修改逻辑，甚至可以完全取消这个验证，完全不影响业务代码。</p>
<p>这种方法有个缺陷，就是只适合于动态类型的语言（JS也有类似的），对于写Spring Boot的Java，应该怎么办呢？</p>
<p>根据<strong>方法3：使用框架提供的工具，结构</strong>，我们只需要搜索一下，就能知道Spring Boot提供了Filter机制，特别适合用来完成这种工作。（这里黑一波Spring和Java：在网上搜Spring和Java，出来的东西很多都是过时的和重复的，用英文搜索稍微好一些。所以Java和Spring在网上热度高不是没有道理：毕竟你得花很长的时间才能找到你想要的东西，反观CSharp和ASP.NET Core，没有什么是MSDN不能解决的，如果有，就用英文Google一下很快就能找到）</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="java" data-theme="one-dark-pro"><code data-language="java" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#7F848E;font-style:italic">// 定义Filter</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#ABB2BF">@</span><span style="color:#E5C07B">Component</span></span>
<span data-line=""><span style="color:#C678DD">public</span><span style="color:#C678DD"> class</span><span style="color:#E5C07B"> JwtAuthenticationTokenFilter</span><span style="color:#C678DD"> extends</span><span style="color:#E5C07B"> OncePerRequestFilter</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#ABB2BF">    @</span><span style="color:#E5C07B">Qualifier</span><span style="color:#E06C75">(</span><span style="color:#98C379">&quot;jwtUserDetailsServiceImpl&quot;</span><span style="color:#E06C75">)</span></span>
<span data-line=""><span style="color:#ABB2BF">    @</span><span style="color:#E5C07B">Autowired</span></span>
<span data-line=""><span style="color:#C678DD">    private</span><span style="color:#E5C07B"> UserDetailsService</span><span style="color:#E06C75"> userDetailsService</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#ABB2BF">    @</span><span style="color:#E5C07B">Value</span><span style="color:#E06C75">(</span><span style="color:#98C379">&quot;${jwt.header}&quot;</span><span style="color:#E06C75">)</span></span>
<span data-line=""><span style="color:#C678DD">    private</span><span style="color:#E5C07B"> String</span><span style="color:#E06C75"> tokenHeader</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#ABB2BF">    @</span><span style="color:#E5C07B">Value</span><span style="color:#E06C75">(</span><span style="color:#98C379">&quot;${jwt.tokenHead}&quot;</span><span style="color:#E06C75">)</span></span>
<span data-line=""><span style="color:#C678DD">    private</span><span style="color:#E5C07B"> String</span><span style="color:#E06C75"> tokenHead</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#ABB2BF">    @</span><span style="color:#E5C07B">Autowired</span></span>
<span data-line=""><span style="color:#C678DD">    private</span><span style="color:#E5C07B"> JwtService</span><span style="color:#E06C75"> jwtService</span><span style="color:#ABB2BF">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#ABB2BF">    @</span><span style="color:#E5C07B">Autowired</span></span>
<span data-line=""><span style="color:#C678DD">    public</span><span style="color:#61AFEF"> JwtAuthenticationTokenFilter</span><span style="color:#ABB2BF">()</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#ABB2BF">    }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#ABB2BF">    @</span><span style="color:#E5C07B">Override</span></span>
<span data-line=""><span style="color:#C678DD">    protected</span><span style="color:#C678DD"> void</span><span style="color:#61AFEF"> doFilterInternal</span><span style="color:#ABB2BF">(</span></span>
<span data-line=""><span style="color:#E5C07B">            HttpServletRequest</span><span style="color:#E06C75;font-style:italic"> request</span><span style="color:#ABB2BF">,</span></span>
<span data-line=""><span style="color:#E5C07B">            HttpServletResponse</span><span style="color:#E06C75;font-style:italic"> response</span><span style="color:#ABB2BF">,</span></span>
<span data-line=""><span style="color:#E5C07B">            FilterChain</span><span style="color:#E06C75;font-style:italic"> chain</span><span style="color:#ABB2BF">)</span><span style="color:#C678DD"> throws</span><span style="color:#E5C07B"> ServletException</span><span style="color:#ABB2BF">,</span><span style="color:#E5C07B"> IOException</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#E5C07B">        String</span><span style="color:#E06C75"> authHeader</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> request</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">getHeader</span><span style="color:#ABB2BF">(</span><span style="color:#E5C07B">this</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">tokenHeader</span><span style="color:#ABB2BF">);</span></span>
<span data-line=""><span style="color:#C678DD">        if</span><span style="color:#ABB2BF"> (authHeader </span><span style="color:#56B6C2">!=</span><span style="color:#D19A66"> null</span><span style="color:#56B6C2"> &amp;&amp;</span><span style="color:#E5C07B"> authHeader</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">startsWith</span><span style="color:#ABB2BF">(tokenHead)) {</span></span>
<span data-line=""><span style="color:#C678DD">            final</span><span style="color:#E5C07B"> String</span><span style="color:#E06C75"> authToken</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> authHeader</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">substring</span><span style="color:#ABB2BF">(</span><span style="color:#E5C07B">tokenHead</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">length</span><span style="color:#ABB2BF">());</span></span>
<span data-line=""><span style="color:#E5C07B">            String</span><span style="color:#E06C75"> username</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> jwtService</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">getUsernameFromToken</span><span style="color:#ABB2BF">(authToken);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">            if</span><span style="color:#ABB2BF"> (</span><span style="color:#E5C07B">authToken</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">length</span><span style="color:#ABB2BF">() </span><span style="color:#56B6C2">&gt;</span><span style="color:#D19A66"> 0</span><span style="color:#ABB2BF">) {</span></span>
<span data-line=""><span style="color:#C678DD">                try</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#E5C07B">                    UserDetails</span><span style="color:#E06C75"> userDetails</span><span style="color:#56B6C2"> =</span><span style="color:#E5C07B"> userDetailsService</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">loadUserByUsername</span><span style="color:#ABB2BF">(username);</span></span>
<span data-line=""><span style="color:#C678DD">                    if</span><span style="color:#ABB2BF"> (</span><span style="color:#E5C07B">jwtService</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">validateToken</span><span style="color:#ABB2BF">(authToken)) {</span></span>
<span data-line=""><span style="color:#E5C07B">                        UsernamePasswordAuthenticationToken</span><span style="color:#E06C75"> authentication</span><span style="color:#56B6C2"> =</span><span style="color:#C678DD"> new</span><span style="color:#61AFEF"> UsernamePasswordAuthenticationToken</span><span style="color:#ABB2BF">(</span></span>
<span data-line=""><span style="color:#ABB2BF">                            userDetails, </span><span style="color:#D19A66">null</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">userDetails</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">getAuthorities</span><span style="color:#ABB2BF">());</span></span>
<span data-line=""><span style="color:#E5C07B">                        authentication</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">setDetails</span><span style="color:#ABB2BF">(</span><span style="color:#C678DD">new</span><span style="color:#61AFEF"> WebAuthenticationDetailsSource</span><span style="color:#ABB2BF">().</span><span style="color:#61AFEF">buildDetails</span><span style="color:#ABB2BF">(</span></span>
<span data-line=""><span style="color:#ABB2BF">                            request));</span></span>
<span data-line=""><span style="color:#E5C07B">                        SecurityContextHolder</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">getContext</span><span style="color:#ABB2BF">().</span><span style="color:#61AFEF">setAuthentication</span><span style="color:#ABB2BF">(authentication);</span></span>
<span data-line=""><span style="color:#ABB2BF">                    }</span></span>
<span data-line=""><span style="color:#ABB2BF">                } </span><span style="color:#C678DD">catch</span><span style="color:#ABB2BF"> (</span><span style="color:#E5C07B">Exception</span><span style="color:#E06C75;font-style:italic"> e</span><span style="color:#ABB2BF">) {</span></span>
<span data-line=""><span style="color:#E5C07B">                    e</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">printStackTrace</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#ABB2BF">                }</span></span>
<span data-line=""><span style="color:#ABB2BF">            }</span></span>
<span data-line=""><span style="color:#ABB2BF">        }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E5C07B">        chain</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">doFilter</span><span style="color:#ABB2BF">(request, response);</span></span>
<span data-line=""><span style="color:#ABB2BF">    }</span></span>
<span data-line=""><span style="color:#ABB2BF">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// 使用。这样，整个Controller在执行以前，都会经过Filter验证，如果没有，就直接返回Response。</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#ABB2BF">@</span><span style="color:#E5C07B">PreAuthorize</span><span style="color:#E06C75">(</span><span style="color:#D19A66">value</span><span style="color:#56B6C2"> =</span><span style="color:#98C379"> &quot;hasRole(&#x27;&quot;</span><span style="color:#56B6C2"> +</span><span style="color:#E5C07B"> Role</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">REQUESTER_NAME</span><span style="color:#56B6C2"> +</span><span style="color:#98C379"> &quot;&#x27;)&quot;</span><span style="color:#E06C75">)</span></span>
<span data-line=""><span style="color:#ABB2BF">@</span><span style="color:#E5C07B">RestController</span></span>
<span data-line=""><span style="color:#C678DD">public</span><span style="color:#C678DD"> class</span><span style="color:#E5C07B"> RequesterInfoController</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">    //...</span></span>
<span data-line=""><span style="color:#ABB2BF">}</span></span></code></pre></figure>
<p>其实，之前decorator的做法在flask文档中都有提到，以上代码就几乎等同于这个<a href="http://flask.pocoo.org/docs/1.0/patterns/viewdecorators/">官方示例</a>。</p>
<h1 id="总结"><a href="#总结" class="mr-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="inline-block opacity-20 hover:opacity-60" height="16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>总结</h1>
<p>很多同学写代码只图早点做完，只图能跑，这固然可以理解：学习任务重，DDL紧，检查也只看效果不看代码更别说质量了。可是，只图快不动脑的代码会极大地浪费自己或者组内大佬的调试时间，破坏心情和组内的关系（我看到这种代码的第一反应就是骂人），当代码量上去后，这种代码也只会让开发的时间和难度指数型上升，最终害人害己。</p>
<p>所以，我想呼吁所有人，为了自己和他们的时间，写代码时请带上脑子！</p></div><div class="hidden lg:block lg:w-[25%]"><div class="px-1 sticky top-24 max-h-[60vh] overflow-auto"><div class="flex space-x-1 items-center py-2"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0z"></path><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"></path></svg><span>目录</span></div><ul class="pl-2 border-l border-neutral"><li class="w-full text-sm"><a class="transition hover:bg-base-300 rounded w-full flex p-1" data-tocid="summary" href="#summary"><span class="font-bold">✨AI全文摘要</span></a></li><li class="w-full text-sm"><a class="transition hover:bg-base-300 rounded w-full flex p-1" data-tocid="错误示范" href="#错误示范">错误示范</a></li><li class="w-full text-sm"><a class="transition hover:bg-base-300 rounded w-full flex p-1" data-tocid="错误示范带来的问题" href="#错误示范带来的问题">错误示范带来的问题</a></li><li class="w-full text-sm"><a class="transition hover:bg-base-300 rounded w-full flex p-1" data-tocid="常见优化方法" href="#常见优化方法">常见优化方法</a></li><li class="w-full text-sm"><a class="transition hover:bg-base-300 rounded w-full flex p-1" data-tocid="优化实例" href="#优化实例">优化实例</a></li><li class="w-full text-sm"><a class="transition hover:bg-base-300 rounded w-full flex p-1" data-tocid="总结" href="#总结">总结</a></li></ul></div></div></div></div><div class="max-w-7xl mx-auto p-4"></div><div class="max-w-7xl mx-auto p-4"><div><h2 class="text-2xl font-bold mb-2 flex items-center"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"></path></svg><span class="mx-2"> 评论</span></h2></div></div></div></article></div><footer class="bg-base-200 text-base-content"><div class="footer py-6 max-w-7xl mx-auto px-4"><div class="space-y-1"><p>👨🏼‍💻 <!-- -->本网站由<a class="link link-hover" href="/about/me/cn">ddadaal</a>自豪地编写</p><p>📝<!-- -->本站文章在<a rel="licene noreferrer" target="_blank" class="link" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>协议下授权</p><div class="tooltip" data-tip="2018-11-17 06:51:00 UTC+0"><p>📅<!-- --> <!-- -->博客已经运行 <span class="countdown"><span style="--value:6"></span></span> 年 <span class="countdown"><span style="--value:9"></span></span> 月 <span class="countdown"><span style="--value:13"></span></span> 天 <span class="countdown"><span style="--value:5"></span></span> 时 <span class="countdown"><span style="--value:5"></span></span> 分 <span class="countdown"><span style="--value:35"></span></span> 秒</p></div><p>⏲️<!-- --> <!-- -->最后更新<!-- -->:  <!-- -->2025-07-26 11:56:35 UTC+0</p><div><p>📲<!-- --> <!-- -->联系我</p><div class="flex py-2 gap-2"><span><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=540232834&amp;site=qq&amp;menu=yes" title="QQ: 540232834" target="_blank" class="block transition hover:scale-125" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="22.400000000000002" width="22.400000000000002" xmlns="http://www.w3.org/2000/svg"><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704z"></path></svg></a></span><span><a href="mailto://ddadaal.me@outlook.com" title="E-mail: ddadaal@outlook.com" target="_blank" class="block transition hover:scale-125" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="22.400000000000002" width="22.400000000000002" xmlns="http://www.w3.org/2000/svg"><path d="M160 448c-25.6 0-51.2-22.4-64-32-64-44.8-83.2-60.8-96-70.4V480c0 17.67 14.33 32 32 32h256c17.67 0 32-14.33 32-32V345.6c-12.8 9.6-32 25.6-96 70.4-12.8 9.6-38.4 32-64 32zm128-192H32c-17.67 0-32 14.33-32 32v16c25.6 19.2 22.4 19.2 115.2 86.4 9.6 6.4 28.8 25.6 44.8 25.6s35.2-19.2 44.8-22.4c92.8-67.2 89.6-67.2 115.2-86.4V288c0-17.67-14.33-32-32-32zm256-96H224c-17.67 0-32 14.33-32 32v32h96c33.21 0 60.59 25.42 63.71 57.82l.29-.22V416h192c17.67 0 32-14.33 32-32V192c0-17.67-14.33-32-32-32zm-32 128h-64v-64h64v64zm-352-96c0-35.29 28.71-64 64-64h224V32c0-17.67-14.33-32-32-32H96C78.33 0 64 14.33 64 32v192h96v-32z"></path></svg></a></span><span><a href="https://www.linkedin.com/in/chenjunda/" title="LinkedIn: 陈俊达" target="_blank" class="block transition hover:scale-125" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="22.400000000000002" width="22.400000000000002" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></span><span><a href="https://github.com/ddadaal" title="GitHub: ddadaal" target="_blank" class="block transition hover:scale-125" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="22.400000000000002" width="22.400000000000002" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></span><span><a href="https://steamcommunity.com/profiles/76561198104889782" title="Steam: Victor Crubs" target="_blank" class="block transition hover:scale-125" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="22.400000000000002" width="22.400000000000002" xmlns="http://www.w3.org/2000/svg"><path d="M496 256c0 137-111.2 248-248.4 248-113.8 0-209.6-76.3-239-180.4l95.2 39.3c6.4 32.1 34.9 56.4 68.9 56.4 39.2 0 71.9-32.4 70.2-73.5l84.5-60.2c52.1 1.3 95.8-40.9 95.8-93.5 0-51.6-42-93.5-93.7-93.5s-93.7 42-93.7 93.5v1.2L176.6 279c-15.5-.9-30.7 3.4-43.5 12.1L0 236.1C10.2 108.4 117.1 8 247.6 8 384.8 8 496 119 496 256zM155.7 384.3l-30.5-12.6a52.79 52.79 0 0 0 27.2 25.8c26.9 11.2 57.8-1.6 69-28.4 5.4-13 5.5-27.3.1-40.3-5.4-13-15.5-23.2-28.5-28.6-12.9-5.4-26.7-5.2-38.9-.6l31.5 13c19.8 8.2 29.2 30.9 20.9 50.7-8.3 19.9-31 29.2-50.8 21zm173.8-129.9c-34.4 0-62.4-28-62.4-62.3s28-62.3 62.4-62.3 62.4 28 62.4 62.3-27.9 62.3-62.4 62.3zm.1-15.6c25.9 0 46.9-21 46.9-46.8 0-25.9-21-46.8-46.9-46.8s-46.9 21-46.9 46.8c.1 25.8 21.1 46.8 46.9 46.8z"></path></svg></a></span><span><a href="https://zhihu.com/people/VicCrubs" title="知乎：陈俊达" target="_blank" class="block transition hover:scale-125" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" height="22.400000000000002" width="22.400000000000002" xmlns="http://www.w3.org/2000/svg"><path d="M170.54 148.13v217.54l23.43.01 7.71 26.37 42.01-26.37h49.53V148.13H170.54zm97.75 193.93h-27.94l-27.9 17.51-5.08-17.47-11.9-.04V171.75h72.82v170.31zm-118.46-94.39H97.5c1.74-27.1 2.2-51.59 2.2-73.46h51.16s1.97-22.56-8.58-22.31h-88.5c3.49-13.12 7.87-26.66 13.12-40.67 0 0-24.07 0-32.27 21.57-3.39 8.9-13.21 43.14-30.7 78.12 5.89-.64 25.37-1.18 36.84-22.21 2.11-5.89 2.51-6.66 5.14-14.53h28.87c0 10.5-1.2 66.88-1.68 73.44H20.83c-11.74 0-15.56 23.62-15.56 23.62h65.58C66.45 321.1 42.83 363.12 0 396.34c20.49 5.85 40.91-.93 51-9.9 0 0 22.98-20.9 35.59-69.25l53.96 64.94s7.91-26.89-1.24-39.99c-7.58-8.92-28.06-33.06-36.79-41.81L87.9 311.95c4.36-13.98 6.99-27.55 7.87-40.67h61.65s-.09-23.62-7.59-23.62v.01zm412.02-1.6c20.83-25.64 44.98-58.57 44.98-58.57s-18.65-14.8-27.38-4.06c-6 8.15-36.83 48.2-36.83 48.2l19.23 14.43zm-150.09-59.09c-9.01-8.25-25.91 2.13-25.91 2.13s39.52 55.04 41.12 57.45l19.46-13.73s-25.67-37.61-34.66-45.86h-.01zM640 258.35c-19.78 0-130.91.93-131.06.93v-101c4.81 0 12.42-.4 22.85-1.2 40.88-2.41 70.13-4 87.77-4.81 0 0 12.22-27.19-.59-33.44-3.07-1.18-23.17 4.58-23.17 4.58s-165.22 16.49-232.36 18.05c1.6 8.82 7.62 17.08 15.78 19.55 13.31 3.48 22.69 1.7 49.15.89 24.83-1.6 43.68-2.43 56.51-2.43v99.81H351.41s2.82 22.31 25.51 22.85h107.94v70.92c0 13.97-11.19 21.99-24.48 21.12-14.08.11-26.08-1.15-41.69-1.81 1.99 3.97 6.33 14.39 19.31 21.84 9.88 4.81 16.17 6.57 26.02 6.57 29.56 0 45.67-17.28 44.89-45.31v-73.32h122.36c9.68 0 8.7-23.78 8.7-23.78l.03-.01z"></path></svg></a></span><span><a href="https://www.douban.com/people/183064260/" title="豆瓣: ddadaal" target="_blank" class="block transition hover:scale-125" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" height="22.400000000000002" width="22.400000000000002" xmlns="http://www.w3.org/2000/svg"><path d="M.51 3.06h22.98V.755H.51V3.06Zm20.976 2.537v9.608h-2.137l-1.669 5.76H24v2.28H0v-2.28h6.32l-1.67-5.76H2.515V5.597h18.972Zm-5.066 9.608H7.58l1.67 5.76h5.501l1.67-5.76ZM18.367 7.9H5.634v5.025h12.733V7.9Z"></path></svg></a></span></div></div><p class="text-center">©<!-- --> <!-- -->2025<!-- --> <!-- -->|<!-- --> <!-- -->用 ❤ 制作</p></div><div><span class="footer-title">🚀<!-- --> <!-- -->强力驱动</span><a class="link link-hover" target="_blank" href="https://reactjs.org/" rel="noreferrer">React</a><a class="link link-hover" target="_blank" href="https://nextjs.org/" rel="noreferrer">Next.js</a><a class="link link-hover" target="_blank" href="https://pages.github.com/" rel="noreferrer">GitHub Pages</a><a class="link link-hover" target="_blank" href="https://www.typescriptlang.org/" rel="noreferrer">TypeScript</a></div><div><span class="footer-title">🎨<!-- --> <!-- -->描绘主题</span><a class="link link-hover" target="_blank" href="https://daisyui.com/" rel="noreferrer">daisyui</a><a class="link link-hover" target="_blank" href="https://tailwindcss.com/" rel="noreferrer">tailwind</a></div><div><span class="footer-title">🎓<!-- --> <!-- -->联系我</span><a class="link link-hover" target="_blank" href="https://idealclover.top" rel="noreferrer">idealclover - 翠翠酱的个人网站</a><a class="link link-hover" target="_blank" href="https://sephidator.xyz" rel="noreferrer">Sephidator - Sephidator的个人博客</a><a class="link link-hover" target="_blank" href="https://iznauy.github.io/" rel="noreferrer">iznauy - 个人博客</a><a class="link link-hover" target="_blank" href="https://aironoria.github.io" rel="noreferrer">Aironoria - 陈俊宇的个人博客</a><a class="link link-hover" target="_blank" href="https://jbesu.com/" rel="noreferrer">forewing - 个人主页</a><a class="link link-hover" target="_blank" href="https://weiser.fun" rel="noreferrer">Weiser - 个人主页</a></div></div></footer><button class="fixed animate-slide-up bottom-8 right-8 z-50 p-3 rounded-full bg-base-300 text-base-content shadow" title="To top"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="w-6 h-6" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"></path></svg></button><script src="/_next/static/chunks/webpack-1304466d85e75d46.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n3:I[6221,[],\"\"]\n4:I[5657,[],\"\"]\n6:I[8002,[],\"OutletBoundary\"]\n8:I[8002,[],\"MetadataBoundary\"]\na:I[8002,[],\"ViewportBoundary\"]\nc:I[4404,[],\"\"]\n:HL[\"/_next/static/css/54c4c90f0e4aaa79.css\",\"style\"]\n:HL[\"/_next/static/css/fe1e54f11bde7158.css\",\"style\"]\n:HL[\"/_next/static/css/0e452e629ebb050b.css\",\"style\"]\n:HL[\"/_next/static/css/550cc6711c036586.css\",\"style\"]\n:HL[\"/_next/static/css/84af3e6cc7365e2a.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"uWHwsu0GrSMYwwuz4nIEB\",\"p\":\"\",\"c\":[\"\",\"articles\",\"think-while-coding\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"articles\",{\"children\":[[\"params\",\"think-while-coding\",\"oc\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/54c4c90f0e4aaa79.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],\"$L2\"]}],{\"children\":[\"articles\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"articles\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"params\",\"think-while-coding\",\"oc\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"articles\",\"children\",\"$0:f:0:1:2:children:2:children:0\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/fe1e54f11bde7158.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/0e452e629ebb050b.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"2\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/550cc6711c036586.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"3\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/84af3e6cc7365e2a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L6\",null,{\"children\":\"$L7\"}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"hpHpTjvj1y6UA1HluWwto\",{\"children\":[[\"$\",\"$L8\",null,{\"children\":\"$L9\"}],[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],null]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$c\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"d:I[1574,[\"116\",\"static/chunks/c556396d-6bde9789d0a41114.js\",\"845\",\"static/chunks/845-a0203995fac91684.js\",\"57\",\"static/chunks/57-3951d65188499c8f.js\",\"325\",\"static/chunks/325-924239ad7bda233c.js\",\"177\",\"static/chunks/app/layout-7026065b75b2b00f.js\"],\"RootLayout\"]\ne:I[2061,[\"116\",\"static/chunks/c556396d-6bde9789d0a41114.js\",\"845\",\"static/chunks/845-a0203995fac91684.js\",\"57\",\"static/chunks/57-3951d65188499c8f.js\",\"325\",\"static/chunks/325-924239ad7bda233c.js\",\"177\",\"static/chunks/app/layout-7026065b75b2b00f.js\"],\"\"]\nf:I[2725,[\"116\",\"static/chunks/c556396d-6bde9789d0a41114.js\",\"845\",\"static/chunks/845-a0203995fac91684.js\",\"57\",\"static/chunks/57-3951d65188499c8f.js\",\"325\",\"static/chunks/325-924239ad7bda233c.js\",\"177\",\"static/chunks/app/layout-7026065b75b2b00f.js\"],\"Header\"]\n10:I[7583,[\"845\",\"static/chunks/845-a0203995fac91684.js\",\"57\",\"static/chunks/57-3951d65188499c8f.js\",\"974\",\"static/chunks/app/page-6cd03741a79daf91.js\"],\"Localized\"]\n11:I[1453,[\"845\",\"static/chunks/845-a0203995fac91684.js\",\"57\",\"static/chunks/57-3951d65188499c8f.js\",\"974\",\"static/chunks/app/page-6cd03741a79daf91.js\"],\"LocalizedArticleLink\"]\n12:I[8077,[\"116\",\"static/chunks/c556396d-6bde9789d0a41114.js\",\"845\",\"static/chunks/845-a0203995fac91684.js\",\"57\",\"static/chunks/57-3951d65188499c8f.js\",\"325\",\"static/chunks/325-924239ad7bda233c.js\",\"177\",\"static/chunks/app/layout-7026065b75b2b00f.js\"],\"RunningTime\"]\n13:I[665,[\"845\",\"static/chunks/845-a0203995fac91684.js\",\"57\",\"static/chunks/57-3951d65188499c8f.js\",\"974\",\"static/chunks/app/page-6cd03741a79daf91.js\"],\"LastUpdateTime\"]\n16:I[7365,[\"116\",\"static/chunks/c556396d-6bde9789d0a41114.js\",\"845\",\"static/chunks/845-a0203995fac91684.js\",\"57\",\"static/chunks/57-3951d65188499c8f.js\",\"325\",\"static/chunks/325-924239ad7bda233c.js\",\"177\",\"static/chunks/app/layout-7026065b75b2b00f.js\"],\"ToTop\"]\n14:T518,M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9"])</script><script>self.__next_f.push([1,".3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z15:T5b8,M170.54 148.13v217.54l23.43.01 7.71 26.37 42.01-26.37h49.53V148.13H170.54zm97.75 193.93h-27.94l-27.9 17.51-5.08-17.47-11.9-.04V171.75h72.82v170.31zm-118.46-94.39H97.5c1.74-27.1 2.2-51.59 2.2-73.46h51.16s1.97-22.56-8.58-22.31h-88.5c3.49-13.12 7.87-26.66 13.12-40.67 0 0-24.07 0-32.27 21.57-3.39 8.9-13.21 43.14-30.7 78.12 5.89-.64 25.37-1.18 36.84-22.21 2.11-5.89 2.51-6.66 5.14-14.53h28.87c0 10.5-1.2 66.88-1.68 73.44H20.83c-11.74 0-15.56 23.62-15.56 23.62h65.58C66.45 321.1 42.83 363.12 0 396.34c20.49 5.85 40.91-.93 51-9.9 0 0 22.98-20.9 35.59-69.25l53.96 64.94s7.91-26.89-1.24-39.99c-7.58-8.92-28.06-33.06-36.79-41.81L87.9 311.95c4.36-13.98 6.99-27.55 7.87-40.67h61.65s-.09-23.62-7.59-23.62v.01zm412.02-1.6c20.83-25.64 44.98-58.57 44.98-58.57s-18.65-14.8-27.38-4.06c-6 8.15-36.83 48.2-36.83 48.2l19.23 14.43zm-150.09-59.09c-9.01-8.25-25.91 2.13-25.91 2.13s39.52 55.04 41.12 57.45l19.46-13.73s-25.67-37.61-34.66-45.86h-.01zM640 258.35c-19.78 0-130.91.9"])</script><script>self.__next_f.push([1,"3-131.06.93v-101c4.81 0 12.42-.4 22.85-1.2 40.88-2.41 70.13-4 87.77-4.81 0 0 12.22-27.19-.59-33.44-3.07-1.18-23.17 4.58-23.17 4.58s-165.22 16.49-232.36 18.05c1.6 8.82 7.62 17.08 15.78 19.55 13.31 3.48 22.69 1.7 49.15.89 24.83-1.6 43.68-2.43 56.51-2.43v99.81H351.41s2.82 22.31 25.51 22.85h107.94v70.92c0 13.97-11.19 21.99-24.48 21.12-14.08.11-26.08-1.15-41.69-1.81 1.99 3.97 6.33 14.39 19.31 21.84 9.88 4.81 16.17 6.57 26.02 6.57 29.56 0 45.67-17.28 44.89-45.31v-73.32h122.36c9.68 0 8.7-23.78 8.7-23.78l.03-.01z"])</script><script>self.__next_f.push([1,"2:[\"$\",\"$Ld\",null,{\"children\":[[\"$\",\"$Le\",null,{\"data-host\":\"https://services.ddadaal.me\",\"data-dnt\":\"false\",\"src\":\"https://services.ddadaal.me/monitor/script.js\",\"id\":\"ZwSg9rf6GA\",\"async\":true,\"defer\":true}],[\"$\",\"$Lf\",null,{\"resumeLangs\":[\"cn\",\"en\"]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[],[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"footer\",null,{\"className\":\"bg-base-200 text-base-content\",\"children\":[\"$\",\"div\",null,{\"className\":\"footer py-6 max-w-7xl mx-auto px-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"p\",null,{\"children\":[\"👨🏼‍💻 \",[\"$\",\"$L10\",null,{\"id\":\"footer.codeBy\",\"args\":[[\"$\",\"$L11\",\"about/me\",{\"className\":\"link link-hover\",\"basePath\":\"/about/me\",\"children\":\"ddadaal\"}]]}]]}],[\"$\",\"p\",null,{\"children\":[\"📝\",[\"$\",\"$L10\",null,{\"id\":\"footer.license\",\"args\":[[\"$\",\"a\",\"license\",{\"rel\":\"licene noreferrer\",\"target\":\"_blank\",\"className\":\"link\",\"href\":\"https://creativecommons.org/licenses/by-sa/4.0/\",\"children\":\"CC BY-SA 4.0\"}]]}]]}],[\"$\",\"$L12\",null,{\"serverStartTime\":\"2025-07-26T11:56:35.007+00:00\"}],[\"$\",\"$L13\",null,{\"time\":\"2025-07-26T11:56:35.007+00:00\"}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"📲\",\" \",[\"$\",\"$L10\",null,{\"id\":\"footer.contacts\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex py-2 gap-2\",\"children\":[[\"$\",\"span\",\"http://wpa.qq.com/msgrd?v=3\u0026uin=540232834\u0026site=qq\u0026menu=yes\",{\"children\":[\"$\",\"a\",null,{\"href\":\"http://wpa.qq.com/msgrd?v=3\u0026uin=540232834\u0026site=qq\u0026menu=yes\",\"title\":\"QQ: 540232834\",\"target\":\"_blank\",\"className\":\"block transition hover:scale-125\",\"rel\":\"noreferrer\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 448 512\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704z\",\"children\":[]}]]],\"className\":\"$undefined\",\"style\":{\"color\":\"$undefined\"},\"height\":22.400000000000002,\"width\":22.400000000000002,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}]}],[\"$\",\"span\",\"mailto://ddadaal.me@outlook.com\",{\"children\":[\"$\",\"a\",null,{\"href\":\"mailto://ddadaal.me@outlook.com\",\"title\":\"E-mail: ddadaal@outlook.com\",\"target\":\"_blank\",\"className\":\"block transition hover:scale-125\",\"rel\":\"noreferrer\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 576 512\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M160 448c-25.6 0-51.2-22.4-64-32-64-44.8-83.2-60.8-96-70.4V480c0 17.67 14.33 32 32 32h256c17.67 0 32-14.33 32-32V345.6c-12.8 9.6-32 25.6-96 70.4-12.8 9.6-38.4 32-64 32zm128-192H32c-17.67 0-32 14.33-32 32v16c25.6 19.2 22.4 19.2 115.2 86.4 9.6 6.4 28.8 25.6 44.8 25.6s35.2-19.2 44.8-22.4c92.8-67.2 89.6-67.2 115.2-86.4V288c0-17.67-14.33-32-32-32zm256-96H224c-17.67 0-32 14.33-32 32v32h96c33.21 0 60.59 25.42 63.71 57.82l.29-.22V416h192c17.67 0 32-14.33 32-32V192c0-17.67-14.33-32-32-32zm-32 128h-64v-64h64v64zm-352-96c0-35.29 28.71-64 64-64h224V32c0-17.67-14.33-32-32-32H96C78.33 0 64 14.33 64 32v192h96v-32z\",\"children\":[]}]]],\"className\":\"$undefined\",\"style\":{\"color\":\"$undefined\"},\"height\":22.400000000000002,\"width\":22.400000000000002,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}]}],[\"$\",\"span\",\"https://www.linkedin.com/in/chenjunda/\",{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.linkedin.com/in/chenjunda/\",\"title\":\"LinkedIn: 陈俊达\",\"target\":\"_blank\",\"className\":\"block transition hover:scale-125\",\"rel\":\"noreferrer\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 448 512\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z\",\"children\":[]}]]],\"className\":\"$undefined\",\"style\":{\"color\":\"$undefined\"},\"height\":22.400000000000002,\"width\":22.400000000000002,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}]}],[\"$\",\"span\",\"https://github.com/ddadaal\",{\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/ddadaal\",\"title\":\"GitHub: ddadaal\",\"target\":\"_blank\",\"className\":\"block transition hover:scale-125\",\"rel\":\"noreferrer\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 496 512\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"$14\",\"children\":[]}]]],\"className\":\"$undefined\",\"style\":{\"color\":\"$undefined\"},\"height\":22.400000000000002,\"width\":22.400000000000002,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}]}],[\"$\",\"span\",\"https://steamcommunity.com/profiles/76561198104889782\",{\"children\":[\"$\",\"a\",null,{\"href\":\"https://steamcommunity.com/profiles/76561198104889782\",\"title\":\"Steam: Victor Crubs\",\"target\":\"_blank\",\"className\":\"block transition hover:scale-125\",\"rel\":\"noreferrer\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 496 512\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M496 256c0 137-111.2 248-248.4 248-113.8 0-209.6-76.3-239-180.4l95.2 39.3c6.4 32.1 34.9 56.4 68.9 56.4 39.2 0 71.9-32.4 70.2-73.5l84.5-60.2c52.1 1.3 95.8-40.9 95.8-93.5 0-51.6-42-93.5-93.7-93.5s-93.7 42-93.7 93.5v1.2L176.6 279c-15.5-.9-30.7 3.4-43.5 12.1L0 236.1C10.2 108.4 117.1 8 247.6 8 384.8 8 496 119 496 256zM155.7 384.3l-30.5-12.6a52.79 52.79 0 0 0 27.2 25.8c26.9 11.2 57.8-1.6 69-28.4 5.4-13 5.5-27.3.1-40.3-5.4-13-15.5-23.2-28.5-28.6-12.9-5.4-26.7-5.2-38.9-.6l31.5 13c19.8 8.2 29.2 30.9 20.9 50.7-8.3 19.9-31 29.2-50.8 21zm173.8-129.9c-34.4 0-62.4-28-62.4-62.3s28-62.3 62.4-62.3 62.4 28 62.4 62.3-27.9 62.3-62.4 62.3zm.1-15.6c25.9 0 46.9-21 46.9-46.8 0-25.9-21-46.8-46.9-46.8s-46.9 21-46.9 46.8c.1 25.8 21.1 46.8 46.9 46.8z\",\"children\":[]}]]],\"className\":\"$undefined\",\"style\":{\"color\":\"$undefined\"},\"height\":22.400000000000002,\"width\":22.400000000000002,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}]}],[\"$\",\"span\",\"https://zhihu.com/people/VicCrubs\",{\"children\":[\"$\",\"a\",null,{\"href\":\"https://zhihu.com/people/VicCrubs\",\"title\":\"知乎：陈俊达\",\"target\":\"_blank\",\"className\":\"block transition hover:scale-125\",\"rel\":\"noreferrer\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 640 512\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"$15\",\"children\":[]}]]],\"className\":\"$undefined\",\"style\":{\"color\":\"$undefined\"},\"height\":22.400000000000002,\"width\":22.400000000000002,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}]}],[\"$\",\"span\",\"https://www.douban.com/people/183064260/\",{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.douban.com/people/183064260/\",\"title\":\"豆瓣: ddadaal\",\"target\":\"_blank\",\"className\":\"block transition hover:scale-125\",\"rel\":\"noreferrer\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"role\":\"img\",\"viewBox\":\"0 0 24 24\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M.51 3.06h22.98V.755H.51V3.06Zm20.976 2.537v9.608h-2.137l-1.669 5.76H24v2.28H0v-2.28h6.32l-1.67-5.76H2.515V5.597h18.972Zm-5.066 9.608H7.58l1.67 5.76h5.501l1.67-5.76ZM18.367 7.9H5.634v5.025h12.733V7.9Z\",\"children\":[]}]]],\"className\":\"$undefined\",\"style\":{\"color\":\"$undefined\"},\"height\":22.400000000000002,\"width\":22.400000000000002,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}]}]]}]]}],[\"$\",\"p\",null,{\"className\":\"text-center\",\"children\":[\"©\",\" \",2025,\" \",\"|\",\" \",[\"$\",\"$L10\",null,{\"id\":\"footer.madeWithLove\"}]]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"footer-title\",\"children\":[\"🚀\",\" \",[\"$\",\"$L10\",null,{\"id\":\"footer.poweredBy\"}]]}],[[\"$\",\"a\",\"React\",{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://reactjs.org/\",\"rel\":\"noreferrer\",\"children\":\"React\"}],[\"$\",\"a\",\"Next.js\",{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://nextjs.org/\",\"rel\":\"noreferrer\",\"children\":\"Next.js\"}],[\"$\",\"a\",\"GitHub Pages\",{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://pages.github.com/\",\"rel\":\"noreferrer\",\"children\":\"GitHub Pages\"}],[\"$\",\"a\",\"TypeScript\",{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://www.typescriptlang.org/\",\"rel\":\"noreferrer\",\"children\":\"TypeScript\"}]]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"footer-title\",\"children\":[\"🎨\",\" \",[\"$\",\"$L10\",null,{\"id\":\"footer.themedWith\"}]]}],[[\"$\",\"a\",\"daisyui\",{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://daisyui.com/\",\"rel\":\"noreferrer\",\"children\":\"daisyui\"}],[\"$\",\"a\",\"tailwind\",{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://tailwindcss.com/\",\"rel\":\"noreferrer\",\"children\":\"tailwind\"}]]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"footer-title\",\"children\":[\"🎓\",\" \",[\"$\",\"$L10\",null,{\"id\":\"footer.contacts\"}]]}],[[\"$\",\"a\",\"idealclover - 翠翠酱的个人网站\",{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://idealclover.top\",\"rel\":\"noreferrer\",\"children\":\"idealclover - 翠翠酱的个人网站\"}],[\"$\",\"a\",\"Sephidator - Sephidator的个人博客\",{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://sephidator.xyz\",\"rel\":\"noreferrer\",\"children\":\"Sephidator - Sephidator的个人博客\"}],[\"$\",\"a\",\"iznauy - 个人博客\",{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://iznauy.github.io/\",\"rel\":\"noreferrer\",\"children\":\"iznauy - 个人博客\"}],[\"$\",\"a\",\"Aironoria - 陈俊宇的个人博客\",{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://aironoria.github.io\",\"rel\":\"noreferrer\",\"children\":\"Aironoria - 陈俊宇的个人博客\"}],[\"$\",\"a\",\"forewing - 个人主页\",{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://jbesu.com/\",\"rel\":\"noreferrer\",\"children\":\"forewing - 个人主页\"}],[\"$\",\"a\",\"Weiser - 个人主页\",{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://weiser.fun\",\"rel\":\"noreferrer\",\"children\":\"Weiser - 个人主页\"}]]]}]]}]}],[\"$\",\"$L16\",null,{}]]}]\n"])</script><script>self.__next_f.push([1,"17:I[4378,[\"116\",\"static/chunks/c556396d-6bde9789d0a41114.js\",\"413\",\"static/chunks/7a1bdfe6-8f7609c25899d936.js\",\"994\",\"static/chunks/c4aeae87-2a85323a0275cbf9.js\",\"786\",\"static/chunks/1b3e99d6-50521588821d44ca.js\",\"845\",\"static/chunks/845-a0203995fac91684.js\",\"57\",\"static/chunks/57-3951d65188499c8f.js\",\"826\",\"static/chunks/826-c44bffd752ec02cd.js\",\"467\",\"static/chunks/467-ff6f7f0e9f0462a7.js\",\"971\",\"static/chunks/app/articles/%5B%5B...params%5D%5D/page-59c8401fd7fff2e0.js\"],\"ArticleFrontmatter\"]\n1b:I[4674,[\"116\",\"static/chunks/c556396d-6bde9789d0a41114.js\",\"413\",\"static/chunks/7a1bdfe6-8f7609c25899d936.js\",\"994\",\"static/chunks/c4aeae87-2a85323a0275cbf9.js\",\"786\",\"static/chunks/1b3e99d6-50521588821d44ca.js\",\"845\",\"static/chunks/845-a0203995fac91684.js\",\"57\",\"static/chunks/57-3951d65188499c8f.js\",\"826\",\"static/chunks/826-c44bffd752ec02cd.js\",\"467\",\"static/chunks/467-ff6f7f0e9f0462a7.js\",\"971\",\"static/chunks/app/articles/%5B%5B...params%5D%5D/page-59c8401fd7fff2e0.js\"],\"RelatedArticles\"]\n1c:I[3373,[\"116\",\"static/chunks/c556396d-6bde9789d0a41114.js\",\"413\",\"static/chunks/7a1bdfe6-8f7609c25899d936.js\",\"994\",\"static/chunks/c4aeae87-2a85323a0275cbf9.js\",\"786\",\"static/chunks/1b3e99d6-50521588821d44ca.js\",\"845\",\"static/chunks/845-a0203995fac91684.js\",\"57\",\"static/chunks/57-3951d65188499c8f.js\",\"826\",\"static/chunks/826-c44bffd752ec02cd.js\",\"467\",\"static/chunks/467-ff6f7f0e9f0462a7.js\",\"971\",\"static/chunks/app/articles/%5B%5B...params%5D%5D/page-59c8401fd7fff2e0.js\"],\"CommentPanelWithCurrentLanguage\"]\n18:T3e5a,"])</script><script>self.__next_f.push([1,"\n在开发过程中，不要无脑复制粘贴照着示例写，而应边写边想有什么可优化的，并大胆地通过查资料、自己动手做实验等方法验证自己的优化可不可行，如果可行，请大胆地提交代码，并给所有人讲解你的做法。\n\n# 错误示范\n\n陈振宇说得好，重复3次以上的操作都要应该写程序来做。但是，事实上，很多人写代码根本不动脑子，看到示例怎么写，自己就复制一下，改改变量名，能用就行，不管复制多少次也不嫌烦。\n\n这里举几个例子，全是大作业里的代码。大家都不需要知道每个变量具体是什么意思，单看代码就知道这种代码就是典型的不动脑子的代码：\n\n重复switch（解决方法：多态，策略模式）\n```java\n@Override\npublic void updateMission(String missionId, int credits, MissionType missionType) throws SystemException, IOException, MissionIdDoesNotExistException, ClassNotFoundException {\n    Mission mission = null;\n\n    // highlight-start\n    switch (missionType) {\n        case IMAGE:\n            mission = imageMissionDao.findImageMissionByMissionId(missionId);\n            break;\n        case TEXT:\n            mission = getMissionByMissionId(missionId);\n            break;\n        case AUDIO:\n            mission = audioMissionDao.findAudioMissionByMissionId(missionId);\n            break;\n        case VIDEO:\n            mission = videoMissionDao.findVideoMissionByMissionId(missionId);\n            break;\n        case THREE_DIMENSION:\n            mission = threeDimensionMissionDao.findTHreeDimensionMissionByMissionId(missionId);\n            break;\n\n    }\n    // highlight-end\n    mission.setCredits(mission.getCredits() + credits);\n    updateMission(mission);\n}\n```\n\n不可忍受的重复switch（解决方法：多态，策略模式）\n```java\n@Override\npublic String updateInstanceDetailVo(InstanceDetailVo instanceDetailVo) throws SystemException, IOException {\n    MissionType missionType = instanceDetailVo.getMissionType();\n    InstanceVo instanceVo = instanceDetailVo.getInstance();\n    Instance result = null;\n\n    // highlight-start\n    switch (missionType) {\n        case IMAGE:\n            ImageInstanceDetailVo imageInstanceDetailVo = (ImageInstanceDetailVo) instanceDetailVo;\n            ImageInstance imageInstance = generateImageInstance(instanceVo, imageInstanceDetailVo);\n            result = saveImageInstance(imageInstance);\n            break;\n        case TEXT:\n            TextInstanceDetailVo textInstanceDetailVo = (TextInstanceDetailVo) instanceDetailVo;\n            TextInstance textInstance = generateTextInstance(instanceVo, textInstanceDetailVo);\n            result = saveTextInstance(textInstance);\n            break;\n        case THREE_DIMENSION:\n            ThreeDimensionInstanceDetailVo threeDimensionInstanceDetailVo = (ThreeDimensionInstanceDetailVo) instanceDetailVo;\n            ThreeDimensionInstance threeDimensionInstance = generateThreeDimensionInstance(instanceVo, threeDimensionInstanceDetailVo);\n            result = saveThreeDimensionInstance(threeDimensionInstance);\n            break;\n        case VIDEO:\n            VideoInstanceDetailVo videoInstanceDetailVo = (VideoInstanceDetailVo) instanceDetailVo;\n            VideoInstance videoInstance = generateVideoInstance(instanceVo, videoInstanceDetailVo);\n            result = saveVideoInstance(videoInstance);\n            break;\n        case AUDIO:\n            AudioInstanceDetailVo audioInstanceDetailVo = (AudioInstanceDetailVo) instanceDetailVo;\n            AudioInstance audioInstance = generateAudioInstance(instanceVo, audioInstanceDetailVo);\n            result = saveAudioInstance(audioInstance);\n            break;\n    }\n    // highlight-end\n\n    if (result == null)\n        throw new SystemException();\n    return result.getInstanceId();\n}\n\n```\n\n逻辑几乎相同的多个方法（解决方法：泛型，策略模式）\n\n```java\npublic VideoInstance getVideoInstance(String instanceId)  {\n    VideoInstance videoInstance = videoInstanceDao.findVideoInstanceByInstanceId(instanceId);\n    try {\n        FileInputStream fileIn = new FileInputStream(PathUtil.getSerPath() + \"video_instance\" + \"_\" + instanceId);\n        ObjectInputStream in = new ObjectInputStream(fileIn);\n        List\u003cVideoResult\u003e videoResults = (List\u003cVideoResult\u003e) in.readObject();\n        in.close();\n        fileIn.close();\n        videoInstance.setVideoResults(videoResults);\n    } catch (IOException e) {\n        System.out.println(\"Results for \" + instanceId + \"not found. Returns empty list.\");\n        videoInstance.setVideoResults(new ArrayList\u003c\u003e());\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n    return videoInstance;\n}\n\npublic AudioInstance getAudioInstance(String instanceId) {\n    AudioInstance audioInstance = audioInstanceDao.findAudioInstanceByInstanceId(instanceId);\n    try {\n        FileInputStream fileIn = new FileInputStream(PathUtil.getSerPath() + \"audio_instance\" + \"_\" + instanceId);\n        ObjectInputStream in = new ObjectInputStream(fileIn);\n        List\u003cAudioResult\u003e audioResults = (List\u003cAudioResult\u003e) in.readObject();\n        in.close();\n        fileIn.close();\n        audioInstance.setAudioResults(audioResults);\n    } catch (IOException e) {\n        System.out.println(\"Results for \" + instanceId + \"not found. Returns empty list.\");\n        audioInstance.setAudioResults(new ArrayList\u003c\u003e());\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n    return audioInstance;\n}\n\npublic ThreeDimensionInstance getThreeDimensionInstance(String instanceId) {\n    ThreeDimensionInstance threeDimensionInstance = threeDimensionInstanceDao.findThreeDimensionInstanceByInstanceId(instanceId);\n    try {\n        FileInputStream fileIn = new FileInputStream(PathUtil.getSerPath() + \"threeDimension_instance\" + \"_\" +    instanceId);\n        ObjectInputStream in = new ObjectInputStream(fileIn);\n        List\u003cThreeDimensionResult\u003e threeDimensionResults = (List\u003cThreeDimensionResult\u003e) in.readObject();\n        in.close();\n        fileIn.close();\n        threeDimensionInstance.setThreeDimensionResults(threeDimensionResults);\n    } catch (IOException e) {\n        System.out.println(\"Results for \" + instanceId + \"not found. Returns empty list.\");\n        threeDimensionInstance.setThreeDimensionResults(new ArrayList\u003c\u003e());\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n    return threeDimensionInstance;\n}\n```\n\n\n无脑try catch，几乎相同的处理逻辑（解决方法：让Spring boot处理错误）\n\n无脑转发BL层（问题：BL层和Controller完全使用同样的函数签名和Po/Vo/返回值类型，这样的分层毫无意义）（解决方法：可直接将BL的代码写到controller中。）\n\n```java\npublic ResponseEntity\u003cResponse\u003e queryInstance(@PathVariable(\"instanceId\") String instanceId) {\n    try {\n        return new ResponseEntity\u003c\u003e(requesterMissionBlService.queryInstance(instanceId), HttpStatus.OK);\n    } catch (InstanceNotExistException e) {\n        e.printStackTrace();\n        return new ResponseEntity\u003c\u003e(e.getResponse(), HttpStatus.NOT_FOUND);\n    }\n}\n\npublic ResponseEntity\u003cResponse\u003e finalize(@PathVariable(\"instanceId\") String instanceId, @RequestBody MissionFinalizeVo missionFinalizeVo) {\n    try {\n        return new ResponseEntity\u003c\u003e(requesterMissionBlService.finalize(instanceId, missionFinalizeVo), HttpStatus.OK);\n    } catch (InstanceNotExistException e) {\n        e.printStackTrace();\n        return new ResponseEntity\u003c\u003e(e.getResponse(), HttpStatus.NOT_FOUND);\n    } catch (SystemException e) {\n        e.printStackTrace();\n        return new ResponseEntity\u003c\u003e(e.getResponse(), HttpStatus.SERVICE_UNAVAILABLE);\n    } catch (MissionIdDoesNotExistException e) {\n        e.printStackTrace();\n        return new ResponseEntity\u003c\u003e(e.getResponse(), HttpStatus.NOT_FOUND);\n    }\n}\n```\n\n# 错误示范带来的问题\n\n以上代码给我们的错误调试带来了巨大的难度，耗费了很多的时间和精力：\n\n1. 新增一个分支，需要复制粘贴很多现有代码；\n2. 修改一处逻辑，需要在多个switch分支、多个方法甚至多个文件里修改同样的逻辑，漏改几乎是肯定的；\n3. 代码量爆炸，同样的逻辑无意义地重复多次，使得代码不美观；\n4. 逻辑不清晰，需要看懂整个重复代码才能知道这是做什么；\n5. 很多复制粘贴出来的代码其实根本不能运行，发现后浪费更多的时间在调试和重写上。\n\n\n# 常见优化方法\n\n1. 将共用代码提成一个函数/类（谁都知道）\n2. 使用高级语言特性\n\n```python\nactual_value = 1\nexpected_values = [{value: 1}, {value: 2}, {value: 3}]\n```\n\n不好的\n```python\nfor i in range(expected_values.__len__()):\n    if actual_value == expected_values[i][\"value\"]:\n        return True\n\nreturn False\n```\n\n好的\n```python\nreturn actual_value in [ i[\"value\"] for i in expected_values ]\n```\n\n3. 使用框架提供的工具，结构\n\n大佬写的、全球这么多人都用的东西，肯定有其可取之处。我们不用自己想、自己实现一个框架那么牛逼的结构，但是总是该会用的。多看看开源代码，遇到问题多搜索，往往能够看到一个精妙的解决方案。\n\n# 优化实例\n\n下面通过一个例子来解释如何动脑子提高代码质量。\n\n\n需求：我们正在做一个RESTful接口，其中一些路径在执行前需要验证是否登录，如果没有登录，直接返回401，并保存下当前用户；若已经登录，则继续执行。\n\n最简单的方法如下：\n\n```python\ndef path1():\n    user=UserDao.get_user_by_username(request.args(\"username\")):\n    if not user:\n        return {\"error\": \"not login\"}, 403\n    pass\n\ndef path2():\n    user=UserDao.get_user_by_username(request.args(\"username\")):\n    if not user:\n        return {\"error\": \"not login\"}, 403\n    pass\n\n```\n\n以上代码中出现了重复的代码（if else）。这个写法带来了以下的问题：\n\n1. 每新增一个路径，都要复制同样的代码\n2. 一旦逻辑有变（获得用户的方法）或者返回值有变（return语句），每个地方都要重新修改，很容易造成修改不完全\n3. 代码膨胀，不够清晰，需要看懂整个代码才能知道这段代码的作用，并且会影响真正逻辑的阅读\n\n于是，根据**方法1：提取公共方法**，上述代码可以优化成以下代码。\n\n```python\n\ndef get_user():\n    return UserDao.get_user_by_username(request.args(\"username\")):\n\nnot_login_error = ({\"error\": \"not login\"}, 403)\n\ndef path1():\n    user=get_user()\n    if not user:\n        return {\"error\": \"not login\"}, 403\n    pass\n\ndef path2():\n    user=get_user()\n    if not user:\n        return not_login_error\n    pass\n\n```\n\n这个解决方法能够部分解决以上提到的三个问题。\n\n大部分人都能把上述代码优化成如下的代码，并且他们内心中都会觉得这样已经是最简了，即使这个做法仍然要多次重复写if return语句，他们也会觉得这是没有办法的事。\n\n其实，还有更好的方法。\n\n根据以上的**方法2：使用高级语言特性**，这里是decorator，以上代码还能继续优化成以下代码：\n\n```python\n\ndef need_login(func):\n    def wrapped(*args, **kwargs):\n        user=UserDao.get_user_by_username(request.args(\"username\")):\n        if not user:\n            return {\"error\": \"not login\"}, 403\n        return func(*args, user=user, **kws)\n    return wrapped\n\n@need_login\ndef path1(user: User):\n    pass\n\n@need_login\ndef path2(user: User):\n    pass\n```\n\n请对比以上代码和之前两段代码，就能很明显的发现这段代码有以下的好处：\n\n1. 逻辑清晰\n\n看到@need_login就知道，原来这个path需要登录才能进入，并且还能知道这个方法运行的时候还需要使用用户作为参数。当path更多的时候，这样做也能显著降低代码量，并减少阅读时无关代码的数量。\n\n2. 便于测试\n\n要只想测试path的逻辑，不需要真正去运行获得用户（`UserDao.get_user_by_username`）的代码，测试代码只需要传入一个Mock User，就可以测试这段代码的逻辑是否正确。当然，前两个代码也可以做到这点，但是不得不引入多余的方法。\n\n3. 修改灵活\n\nneed_login中可以随意修改逻辑，甚至可以完全取消这个验证，完全不影响业务代码。\n\n这种方法有个缺陷，就是只适合于动态类型的语言（JS也有类似的），对于写Spring Boot的Java，应该怎么办呢？\n\n根据**方法3：使用框架提供的工具，结构**，我们只需要搜索一下，就能知道Spring Boot提供了Filter机制，特别适合用来完成这种工作。（这里黑一波Spring和Java：在网上搜Spring和Java，出来的东西很多都是过时的和重复的，用英文搜索稍微好一些。所以Java和Spring在网上热度高不是没有道理：毕竟你得花很长的时间才能找到你想要的东西，反观CSharp和ASP.NET Core，没有什么是MSDN不能解决的，如果有，就用英文Google一下很快就能找到）\n\n```java\n// 定义Filter\n\n@Component\npublic class JwtAuthenticationTokenFilter extends OncePerRequestFilter {\n    @Qualifier(\"jwtUserDetailsServiceImpl\")\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Value(\"${jwt.header}\")\n    private String tokenHeader;\n\n    @Value(\"${jwt.tokenHead}\")\n    private String tokenHead;\n\n    @Autowired\n    private JwtService jwtService;\n\n    @Autowired\n    public JwtAuthenticationTokenFilter() {\n    }\n\n    @Override\n    protected void doFilterInternal(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            FilterChain chain) throws ServletException, IOException {\n        String authHeader = request.getHeader(this.tokenHeader);\n        if (authHeader != null \u0026\u0026 authHeader.startsWith(tokenHead)) {\n            final String authToken = authHeader.substring(tokenHead.length());\n            String username = jwtService.getUsernameFromToken(authToken);\n\n            if (authToken.length() \u003e 0) {\n                try {\n                    UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n                    if (jwtService.validateToken(authToken)) {\n                        UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\n                            userDetails, null, userDetails.getAuthorities());\n                        authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(\n                            request));\n                        SecurityContextHolder.getContext().setAuthentication(authentication);\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n        chain.doFilter(request, response);\n    }\n}\n\n// 使用。这样，整个Controller在执行以前，都会经过Filter验证，如果没有，就直接返回Response。\n\n@PreAuthorize(value = \"hasRole('\" + Role.REQUESTER_NAME + \"')\")\n@RestController\npublic class RequesterInfoController {\n    //...\n}\n```\n\n\n其实，之前decorator的做法在flask文档中都有提到，以上代码就几乎等同于这个[官方示例](http://flask.pocoo.org/docs/1.0/patterns/viewdecorators/)。\n\n# 总结\n\n很多同学写代码只图早点做完，只图能跑，这固然可以理解：学习任务重，DDL紧，检查也只看效果不看代码更别说质量了。可是，只图快不动脑的代码会极大地浪费自己或者组内大佬的调试时间，破坏心情和组内的关系（我看到这种代码的第一反应就是骂人），当代码量上去后，这种代码也只会让开发的时间和难度指数型上升，最终害人害己。\n\n所以，我想呼吁所有人，为了自己和他们的时间，写代码时请带上脑子！\n"])</script><script>self.__next_f.push([1,"19:T90e,"])</script><script>self.__next_f.push([1,"### 分步解析：\n\n1. **問題理解**：\n   - 目標是通過優化，讓每個控制器在執行之前自動進行用戶權限檢查，以提高系統安全性，並降低開發和維護成本。\n\n2. **分析現有情況**：\n   - 現有的Controller直接在控制器中使用if條件來檢查用戶權限，導致代碼複雜，難以管理和擴展。\n\n3. **考慮解決方案**：\n   - 探索使用decorator模式或Spring Boot提供的Filter或授權注釋器，以實現通用化的安全檢查。\n   - 在Flask框架中，直接支持decorator，這樣可以減少代碼量，並讓每個控制器輕鬆地附加驗權邏輯。\n\n4. **Spring Boot中的解決方案**：\n   - 使用Spring Security的Filter鏈或自定義Filter來實現類似Flask的decorator功能。\n   - 例如，通過在Controller方法上使用@PreAuthorize注釋器，可以自動檢查用戶權限，而不需要編寫安全逻辑。\n\n5. **選擇合適的工具**：\n   - Spring Security提供的@PreAuthorize和@PostAuthorize注釋器可用來基於方法層級進行授權檢查，簡化了安全邏輯的實現。\n   - 自定義Filter或Listener可以用於集中管理安全相關的業務逻辑，提高整體的可管理性。\n\n6. **實施步驟**：\n   - 安裝並配置Spring Security框架。\n   - 定義授權策略，並在控制器方法上使用@PreAuthorize注釋器進行權限檢查。\n   - 確保安全邏輯集中在Filter或Service層級，避免在Controller中直接管理用戶驗證。\n\n7. **測試與驗證**：\n   - 實現測試用戶角色，情境下進行授權檢查，確保每個控制器方法都能正確處理授權結果。\n   - 檢查系統是否能夠輕鬆擴展新增控制器或安全需求，而不需要修改已有代碼。\n\n8. **優化與改進**：\n   - 根據測試結果，調整授權策略和注釋器使用方式，以提高效率和可讀性。\n   - 考慮使用Spring Security的更高級功能，如WebSecurityConfig來集中管理安全設定。\n\n9. **總結與展示**：\n   - 經過以上步驟，成功實現了用戶授權的通用化解決方案，提升了系統安全性，並簡化了後續開發和維護工作。\n   - 可以展示最终的代码示例，展示如何在Spring Boot中使用@PreAuthorize注釋器和自定義Filter來實現類似Flask的decorator功能。"])</script><script>self.__next_f.push([1,"5:[\"$\",\"article\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"bg-neutral px-4 py-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-7xl mx-auto min-h-[256px] flex justify-center text-center text-neutral-content\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col justify-center animate-slide-up\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-4xl my-2\",\"children\":\"写代码要动脑子！\"}],[\"$\",\"$L17\",null,{\"className\":\"justify-center\",\"articleId\":\"think-while-coding\",\"info\":{\"content\":\"$18\",\"title\":\"写代码要动脑子！\",\"date\":\"2018-07-31 14:12\",\"id\":\"think-while-coding\",\"lang\":\"cn\",\"tags\":[\"thoughts\"],\"related\":\"$undefined\",\"ignored_in_list\":\"$undefined\",\"hide_heading\":\"$undefined\",\"no_toc\":\"$undefined\",\"absolute_path\":\"$undefined\",\"last_updated\":\"$undefined\",\"wordCount\":2426,\"readingTime\":12.13,\"filePath\":\"contents/20180731-写代码要动脑子/index.md\",\"summary\":{\"articleId\":\"think-while-coding\",\"lang\":\"cn\",\"hash\":\"55d28f7e3a44d7a3e82c2acdb111f18256f3e6606745c4c755f5a038ee17d9cd\",\"summaries\":[{\"metadata\":{\"summarizer\":\"azure-ai\",\"model\":\"DeepSeek-R1\"},\"summaries\":[\"文章批评开发中无脑复制粘贴代码的现象，指出重复switch、冗余方法、无脑try-catch等问题导致维护困难，建议采用多态、策略模式、泛型及框架特性优化代码，并以登录验证为例展示装饰器与Spring Filter的解决方案，强调注重代码质量可提升可维护性，避免低效代码增加调试成本。\"],\"startTime\":\"2025-02-14T13:23:27.741Z\",\"endTime\":\"2025-02-14T13:23:50.248Z\"},{\"metadata\":{\"summarizer\":\"ollama\",\"model\":\"deepseek-r1:8b\"},\"summaries\":[\"$19\"]}]}},\"langVersions\":[\"cn\"]}]]}]}]}],[\"$\",\"div\",null,{\"className\":\"animate-slide-up\",\"children\":[[\"$\",\"div\",null,{\"className\":\"max-w-7xl mx-auto p-4\",\"children\":\"$L1a\"}],[\"$\",\"div\",null,{\"className\":\"max-w-7xl mx-auto p-4\",\"children\":[\"$\",\"$L1b\",null,{\"relatedArticles\":[]}]}],[\"$\",\"div\",null,{\"className\":\"max-w-7xl mx-auto p-4\",\"children\":[\"$\",\"$L1c\",null,{\"articleId\":\"think-while-coding\",\"articleTitle\":\"写代码要动脑子！\"}]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"1d:I[6535,[\"116\",\"static/chunks/c556396d-6bde9789d0a41114.js\",\"413\",\"static/chunks/7a1bdfe6-8f7609c25899d936.js\",\"994\",\"static/chunks/c4aeae87-2a85323a0275cbf9.js\",\"786\",\"static/chunks/1b3e99d6-50521588821d44ca.js\",\"845\",\"static/chunks/845-a0203995fac91684.js\",\"57\",\"static/chunks/57-3951d65188499c8f.js\",\"826\",\"static/chunks/826-c44bffd752ec02cd.js\",\"467\",\"static/chunks/467-ff6f7f0e9f0462a7.js\",\"971\",\"static/chunks/app/articles/%5B%5B...params%5D%5D/page-59c8401fd7fff2e0.js\"],\"ArticleSummarization\"]\n1e:I[7868,[\"116\",\"static/chunks/c556396d-6bde9789d0a41114.js\",\"413\",\"static/chunks/7a1bdfe6-8f7609c25899d936.js\",\"994\",\"static/chunks/c4aeae87-2a85323a0275cbf9.js\",\"786\",\"static/chunks/1b3e99d6-50521588821d44ca.js\",\"845\",\"static/chunks/845-a0203995fac91684.js\",\"57\",\"static/chunks/57-3951d65188499c8f.js\",\"826\",\"static/chunks/826-c44bffd752ec02cd.js\",\"467\",\"static/chunks/467-ff6f7f0e9f0462a7.js\",\"971\",\"static/chunks/app/articles/%5B%5B...params%5D%5D/page-59c8401fd7fff2e0.js\"],\"Gallery\"]\n24:I[2422,[\"116\",\"static/chunks/c556396d-6bde9789d0a41114.js\",\"413\",\"static/chunks/7a1bdfe6-8f7609c25899d936.js\",\"994\",\"static/chunks/c4aeae87-2a85323a0275cbf9.js\",\"786\",\"static/chunks/1b3e99d6-50521588821d44ca.js\",\"845\",\"static/chunks/845-a0203995fac91684.js\",\"57\",\"static/chunks/57-3951d65188499c8f.js\",\"826\",\"static/chunks/826-c44bffd752ec02cd.js\",\"467\",\"static/chunks/467-ff6f7f0e9f0462a7.js\",\"971\",\"static/chunks/app/articles/%5B%5B...params%5D%5D/page-59c8401fd7fff2e0.js\"],\"ArticleToc\"]\n1f:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521"])</script><script>self.__next_f.push([1,"-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z20:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z21:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-"])</script><script>self.__next_f.push([1,"59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z22:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.0"])</script><script>self.__next_f.push([1,"37 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z23:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"])</script><script>self.__next_f.push([1,"1a:[\"$\",\"div\",null,{\"className\":\"flex flex-row space-x-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"prose max-w-full lg:w-[75%]\",\"children\":[[\"$\",\"$L1d\",null,{\"summaries\":[{\"metadata\":\"$5:props:children:0:props:children:props:children:props:children:1:props:info:summary:summaries:0:metadata\",\"children\":[[\"$\",\"p\",\"p-0\",{\"children\":\"文章批评开发中无脑复制粘贴代码的现象，指出重复switch、冗余方法、无脑try-catch等问题导致维护困难，建议采用多态、策略模式、泛型及框架特性优化代码，并以登录验证为例展示装饰器与Spring Filter的解决方案，强调注重代码质量可提升可维护性，避免低效代码增加调试成本。\"}]]},{\"metadata\":\"$5:props:children:0:props:children:props:children:props:children:1:props:info:summary:summaries:1:metadata\",\"children\":[[\"$\",\"h3\",\"h3-0\",{\"children\":\"分步解析：\"}],\"\\n\",[\"$\",\"ol\",\"ol-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"問題理解\"}],\"：\"]}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"目標是通過優化，讓每個控制器在執行之前自動進行用戶權限檢查，以提高系統安全性，並降低開發和維護成本。\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"分析現有情況\"}],\"：\"]}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"現有的Controller直接在控制器中使用if條件來檢查用戶權限，導致代碼複雜，難以管理和擴展。\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"考慮解決方案\"}],\"：\"]}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"探索使用decorator模式或Spring Boot提供的Filter或授權注釋器，以實現通用化的安全檢查。\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"在Flask框架中，直接支持decorator，這樣可以減少代碼量，並讓每個控制器輕鬆地附加驗權邏輯。\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"Spring Boot中的解決方案\"}],\"：\"]}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"使用Spring Security的Filter鏈或自定義Filter來實現類似Flask的decorator功能。\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"例如，通過在Controller方法上使用@PreAuthorize注釋器，可以自動檢查用戶權限，而不需要編寫安全逻辑。\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"選擇合適的工具\"}],\"：\"]}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Spring Security提供的@PreAuthorize和@PostAuthorize注釋器可用來基於方法層級進行授權檢查，簡化了安全邏輯的實現。\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"自定義Filter或Listener可以用於集中管理安全相關的業務逻辑，提高整體的可管理性。\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"實施步驟\"}],\"：\"]}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"安裝並配置Spring Security框架。\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"定義授權策略，並在控制器方法上使用@PreAuthorize注釋器進行權限檢查。\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"確保安全邏輯集中在Filter或Service層級，避免在Controller中直接管理用戶驗證。\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-6\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"測試與驗證\"}],\"：\"]}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"實現測試用戶角色，情境下進行授權檢查，確保每個控制器方法都能正確處理授權結果。\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"檢查系統是否能夠輕鬆擴展新增控制器或安全需求，而不需要修改已有代碼。\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-7\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"優化與改進\"}],\"：\"]}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"根據測試結果，調整授權策略和注釋器使用方式，以提高效率和可讀性。\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"考慮使用Spring Security的更高級功能，如WebSecurityConfig來集中管理安全設定。\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",\"li-8\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"總結與展示\"}],\"：\"]}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"經過以上步驟，成功實現了用戶授權的通用化解決方案，提升了系統安全性，並簡化了後續開發和維護工作。\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"可以展示最终的代码示例，展示如何在Spring Boot中使用@PreAuthorize注釋器和自定義Filter來實現類似Flask的decorator功能。\"}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}]]}]}],[\"$\",\"$L1e\",null,{\"withCaption\":true,\"id\":\"think-while-coding\",\"children\":[[\"$\",\"p\",\"p-0\",{\"children\":\"在开发过程中，不要无脑复制粘贴照着示例写，而应边写边想有什么可优化的，并大胆地通过查资料、自己动手做实验等方法验证自己的优化可不可行，如果可行，请大胆地提交代码，并给所有人讲解你的做法。\"}],\"\\n\",[\"$\",\"h1\",\"h1-0\",{\"id\":\"错误示范\",\"children\":[[\"$\",\"a\",\"错误示范\",{\"href\":\"#错误示范\",\"className\":\"mr-1\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 512 512\",\"className\":\"inline-block opacity-20 hover:opacity-60\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"$1f\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":16,\"width\":16,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}],\"错误示范\"]}],\"\\n\",[\"$\",\"p\",\"p-1\",{\"children\":\"陈振宇说得好，重复3次以上的操作都要应该写程序来做。但是，事实上，很多人写代码根本不动脑子，看到示例怎么写，自己就复制一下，改改变量名，能用就行，不管复制多少次也不嫌烦。\"}],\"\\n\",[\"$\",\"p\",\"p-2\",{\"children\":\"这里举几个例子，全是大作业里的代码。大家都不需要知道每个变量具体是什么意思，单看代码就知道这种代码就是典型的不动脑子的代码：\"}],\"\\n\",[\"$\",\"p\",\"p-3\",{\"children\":\"重复switch（解决方法：多态，策略模式）\"}],\"\\n\",[\"$\",\"figure\",\"figure-0\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"java\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"java\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"@\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Override\"}]]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"public\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" void\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" updateMission\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"String\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" missionId\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" int\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" credits\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" MissionType\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" missionType) throws SystemException\"}],[\"$\",\"span\",\"span-12\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",\"span-13\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" IOException\"}],[\"$\",\"span\",\"span-14\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",\"span-15\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" MissionIdDoesNotExistException\"}],[\"$\",\"span\",\"span-16\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",\"span-17\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" ClassNotFoundException {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"    Mission\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" mission \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\" null\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"    // highlight-start\"}]}],\"\\n\",[\"$\",\"span\",\"span-5\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    switch\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (missionType) {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-6\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        case\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" IMAGE\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",\"span-7\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"            mission \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" imageMissionDao\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"findImageMissionByMissionId\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(missionId);\"}]]}],\"\\n\",[\"$\",\"span\",\"span-8\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"            break\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-9\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        case\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" TEXT\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",\"span-10\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"            mission \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" getMissionByMissionId\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(missionId)\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-11\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"            break\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-12\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        case\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" AUDIO\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",\"span-13\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"            mission \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" audioMissionDao\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"findAudioMissionByMissionId\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(missionId);\"}]]}],\"\\n\",[\"$\",\"span\",\"span-14\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"            break\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-15\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        case\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" VIDEO\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",\"span-16\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"            mission \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" videoMissionDao\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"findVideoMissionByMissionId\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(missionId);\"}]]}],\"\\n\",[\"$\",\"span\",\"span-17\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"            break\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-18\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        case\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" THREE_DIMENSION\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",\"span-19\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"            mission \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" threeDimensionMissionDao\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"findTHreeDimensionMissionByMissionId\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(missionId);\"}]]}],\"\\n\",[\"$\",\"span\",\"span-20\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"            break\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-21\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-22\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",\"span-23\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"    // highlight-end\"}]}],\"\\n\",[\"$\",\"span\",\"span-24\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"    mission\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"setCredits\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"mission\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getCredits\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"() \"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"+\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" credits);\"}]]}],\"\\n\",[\"$\",\"span\",\"span-25\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"    updateMission\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(mission)\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-26\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",\"p-4\",{\"children\":\"不可忍受的重复switch（解决方法：多态，策略模式）\"}],\"\\n\",[\"$\",\"figure\",\"figure-1\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"java\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"java\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"@\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Override\"}]]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"public\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" String\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" updateInstanceDetailVo\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"InstanceDetailVo\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" instanceDetailVo) throws SystemException\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" IOException {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"    MissionType\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" missionType \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" instanceDetailVo\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getMissionType\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"    InstanceVo\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" instanceVo \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" instanceDetailVo\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getInstance\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"    Instance\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" result \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\" null\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-5\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-6\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"    // highlight-start\"}]}],\"\\n\",[\"$\",\"span\",\"span-7\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    switch\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (missionType) {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-8\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        case\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" IMAGE\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",\"span-9\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"            ImageInstanceDetailVo\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" imageInstanceDetailVo \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (ImageInstanceDetailVo) instanceDetailVo\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-10\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"            ImageInstance\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" imageInstance \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" generateImageInstance\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(instanceVo\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" imageInstanceDetailVo)\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-11\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"            result \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" saveImageInstance\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(imageInstance)\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-12\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"            break\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-13\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        case\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" TEXT\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",\"span-14\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"            TextInstanceDetailVo\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" textInstanceDetailVo \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (TextInstanceDetailVo) instanceDetailVo\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-15\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"            TextInstance\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" textInstance \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" generateTextInstance\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(instanceVo\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" textInstanceDetailVo)\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-16\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"            result \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" saveTextInstance\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(textInstance)\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-17\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"            break\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-18\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        case\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" THREE_DIMENSION\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",\"span-19\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"            ThreeDimensionInstanceDetailVo\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" threeDimensionInstanceDetailVo \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (ThreeDimensionInstanceDetailVo) instanceDetailVo\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-20\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"            ThreeDimensionInstance\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" threeDimensionInstance \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" generateThreeDimensionInstance\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(instanceVo\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" threeDimensionInstanceDetailVo)\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-21\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"            result \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" saveThreeDimensionInstance\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(threeDimensionInstance)\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-22\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"            break\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-23\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        case\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" VIDEO\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",\"span-24\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"            VideoInstanceDetailVo\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" videoInstanceDetailVo \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (VideoInstanceDetailVo) instanceDetailVo\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-25\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"            VideoInstance\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" videoInstance \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" generateVideoInstance\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(instanceVo\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" videoInstanceDetailVo)\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-26\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"            result \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" saveVideoInstance\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(videoInstance)\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-27\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"            break\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-28\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        case\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" AUDIO\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",\"span-29\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"            AudioInstanceDetailVo\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" audioInstanceDetailVo \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (AudioInstanceDetailVo) instanceDetailVo\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-30\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"            AudioInstance\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" audioInstance \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" generateAudioInstance\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(instanceVo\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" audioInstanceDetailVo)\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-31\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"            result \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" saveAudioInstance\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(audioInstance)\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-32\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"            break\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-33\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",\"span-34\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"    // highlight-end\"}]}],\"\\n\",[\"$\",\"span\",\"span-35\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-36\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    if\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (result \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"==\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\" null\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",\"span-37\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        throw\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" new\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" SystemException\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"()\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-38\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" result\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getInstanceId\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-39\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",\"span-40\",{\"data-line\":\"\",\"children\":\" \"}]]}]}]}],\"\\n\",[\"$\",\"p\",\"p-5\",{\"children\":\"逻辑几乎相同的多个方法（解决方法：泛型，策略模式）\"}],\"\\n\",[\"$\",\"figure\",\"figure-2\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"java\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"java\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"public\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" VideoInstance\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" getVideoInstance\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"String\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" instanceId)  {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"    VideoInstance\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" videoInstance \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" videoInstanceDao\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"findVideoInstanceByInstanceId\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(instanceId);\"}]]}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    try\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        FileInputStream\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" fileIn \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" new\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" FileInputStream\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"PathUtil\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getSerPath\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" +\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#98C379\"},\"children\":\" \\\"video_instance\\\"\"}],[\"$\",\"span\",\"span-12\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" +\"}],[\"$\",\"span\",\"span-13\",{\"style\":{\"color\":\"#98C379\"},\"children\":\" \\\"_\\\"\"}],[\"$\",\"span\",\"span-14\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" +\"}],[\"$\",\"span\",\"span-15\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" instanceId)\"}],[\"$\",\"span\",\"span-16\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        ObjectInputStream\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" in \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" new\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" ObjectInputStream\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(fileIn)\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-5\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        List\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"VideoResult\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003e\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" videoResults \"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"List\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"VideoResult\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"\u003e\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\") \"}],[\"$\",\"span\",\"span-12\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"in\"}],[\"$\",\"span\",\"span-13\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-14\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"readObject\"}],[\"$\",\"span\",\"span-15\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-6\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        in\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"close\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-7\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        fileIn\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"close\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-8\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        videoInstance\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"setVideoResults\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(videoResults);\"}]]}],\"\\n\",[\"$\",\"span\",\"span-9\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    } \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"catch\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"IOException\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\" e\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-10\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        System\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"out\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"println\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"Results for \\\"\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" +\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" instanceId \"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"+\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#98C379\"},\"children\":\" \\\"not found. Returns empty list.\\\"\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",\"span-11\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        videoInstance\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"setVideoResults\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"new\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" ArrayList\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c\u003e());\"}]]}],\"\\n\",[\"$\",\"span\",\"span-12\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    } \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"catch\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"ClassNotFoundException\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\" e\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-13\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        e\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"printStackTrace\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-14\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",\"span-15\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" videoInstance\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-16\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",\"span-17\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-18\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"public\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" AudioInstance\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" getAudioInstance\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"String\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" instanceId) {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-19\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"    AudioInstance\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" audioInstance \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" audioInstanceDao\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"findAudioInstanceByInstanceId\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(instanceId);\"}]]}],\"\\n\",[\"$\",\"span\",\"span-20\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    try\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-21\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        FileInputStream\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" fileIn \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" new\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" FileInputStream\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"PathUtil\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getSerPath\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" +\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#98C379\"},\"children\":\" \\\"audio_instance\\\"\"}],[\"$\",\"span\",\"span-12\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" +\"}],[\"$\",\"span\",\"span-13\",{\"style\":{\"color\":\"#98C379\"},\"children\":\" \\\"_\\\"\"}],[\"$\",\"span\",\"span-14\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" +\"}],[\"$\",\"span\",\"span-15\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" instanceId)\"}],[\"$\",\"span\",\"span-16\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-22\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        ObjectInputStream\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" in \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" new\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" ObjectInputStream\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(fileIn)\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-23\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        List\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"AudioResult\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003e\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" audioResults \"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"List\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"AudioResult\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"\u003e\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\") \"}],[\"$\",\"span\",\"span-12\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"in\"}],[\"$\",\"span\",\"span-13\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-14\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"readObject\"}],[\"$\",\"span\",\"span-15\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-24\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        in\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"close\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-25\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        fileIn\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"close\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-26\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        audioInstance\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"setAudioResults\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(audioResults);\"}]]}],\"\\n\",[\"$\",\"span\",\"span-27\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    } \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"catch\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"IOException\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\" e\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-28\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        System\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"out\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"println\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"Results for \\\"\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" +\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" instanceId \"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"+\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#98C379\"},\"children\":\" \\\"not found. Returns empty list.\\\"\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",\"span-29\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        audioInstance\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"setAudioResults\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"new\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" ArrayList\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c\u003e());\"}]]}],\"\\n\",[\"$\",\"span\",\"span-30\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    } \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"catch\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"ClassNotFoundException\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\" e\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-31\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        e\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"printStackTrace\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-32\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",\"span-33\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" audioInstance\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-34\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",\"span-35\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-36\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"public\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" ThreeDimensionInstance\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" getThreeDimensionInstance\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"String\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" instanceId) {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-37\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"    ThreeDimensionInstance\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" threeDimensionInstance \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" threeDimensionInstanceDao\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"findThreeDimensionInstanceByInstanceId\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(instanceId);\"}]]}],\"\\n\",[\"$\",\"span\",\"span-38\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    try\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-39\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        FileInputStream\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" fileIn \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" new\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" FileInputStream\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"PathUtil\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getSerPath\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" +\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#98C379\"},\"children\":\" \\\"threeDimension_instance\\\"\"}],[\"$\",\"span\",\"span-12\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" +\"}],[\"$\",\"span\",\"span-13\",{\"style\":{\"color\":\"#98C379\"},\"children\":\" \\\"_\\\"\"}],[\"$\",\"span\",\"span-14\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" +\"}],[\"$\",\"span\",\"span-15\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    instanceId)\"}],[\"$\",\"span\",\"span-16\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-40\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        ObjectInputStream\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" in \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" new\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" ObjectInputStream\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(fileIn)\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-41\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        List\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"ThreeDimensionResult\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003e\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" threeDimensionResults \"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"List\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"ThreeDimensionResult\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"\u003e\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\") \"}],[\"$\",\"span\",\"span-12\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"in\"}],[\"$\",\"span\",\"span-13\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-14\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"readObject\"}],[\"$\",\"span\",\"span-15\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-42\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        in\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"close\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-43\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        fileIn\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"close\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-44\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        threeDimensionInstance\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"setThreeDimensionResults\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(threeDimensionResults);\"}]]}],\"\\n\",[\"$\",\"span\",\"span-45\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    } \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"catch\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"IOException\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\" e\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-46\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        System\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"out\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"println\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"Results for \\\"\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" +\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" instanceId \"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"+\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#98C379\"},\"children\":\" \\\"not found. Returns empty list.\\\"\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",\"span-47\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        threeDimensionInstance\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"setThreeDimensionResults\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"new\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" ArrayList\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c\u003e());\"}]]}],\"\\n\",[\"$\",\"span\",\"span-48\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    } \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"catch\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"ClassNotFoundException\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\" e\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-49\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        e\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"printStackTrace\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-50\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",\"span-51\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" threeDimensionInstance\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-52\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",\"p-6\",{\"children\":\"无脑try catch，几乎相同的处理逻辑（解决方法：让Spring boot处理错误）\"}],\"\\n\",[\"$\",\"p\",\"p-7\",{\"children\":\"无脑转发BL层（问题：BL层和Controller完全使用同样的函数签名和Po/Vo/返回值类型，这样的分层毫无意义）（解决方法：可直接将BL的代码写到controller中。）\"}],\"\\n\",[\"$\",\"figure\",\"figure-3\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"java\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"java\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"public\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" ResponseEntity\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"Response\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"\u003e\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" queryInstance\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"@\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"PathVariable\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"instanceId\\\"\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\") \"}],[\"$\",\"span\",\"span-12\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"String\"}],[\"$\",\"span\",\"span-13\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" instanceId) {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    try\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" new\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" ResponseEntity\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c\u003e\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"requesterMissionBlService\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"queryInstance\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(instanceId),\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" HttpStatus\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"OK\"}],[\"$\",\"span\",\"span-12\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\")\"}],[\"$\",\"span\",\"span-13\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    } \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"catch\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"InstanceNotExistException\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\" e\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        e\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"printStackTrace\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-5\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" new\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" ResponseEntity\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c\u003e\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"e\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getResponse\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(),\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" HttpStatus\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"NOT_FOUND\"}],[\"$\",\"span\",\"span-12\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\")\"}],[\"$\",\"span\",\"span-13\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-6\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",\"span-7\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",\"span-8\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-9\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"public\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" ResponseEntity\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"Response\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"\u003e\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" finalize\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"@\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"PathVariable\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"instanceId\\\"\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\") \"}],[\"$\",\"span\",\"span-12\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"String\"}],[\"$\",\"span\",\"span-13\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" instanceId\"}],[\"$\",\"span\",\"span-14\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",\"span-15\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" @\"}],[\"$\",\"span\",\"span-16\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"RequestBody\"}],[\"$\",\"span\",\"span-17\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" MissionFinalizeVo\"}],[\"$\",\"span\",\"span-18\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" missionFinalizeVo) {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-10\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    try\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-11\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" new\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" ResponseEntity\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c\u003e\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"requesterMissionBlService\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"finalize\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(instanceId, missionFinalizeVo),\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" HttpStatus\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"OK\"}],[\"$\",\"span\",\"span-12\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\")\"}],[\"$\",\"span\",\"span-13\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-12\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    } \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"catch\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"InstanceNotExistException\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\" e\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-13\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        e\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"printStackTrace\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-14\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" new\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" ResponseEntity\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c\u003e\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"e\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getResponse\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(),\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" HttpStatus\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"NOT_FOUND\"}],[\"$\",\"span\",\"span-12\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\")\"}],[\"$\",\"span\",\"span-13\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-15\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    } \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"catch\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"SystemException\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\" e\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-16\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        e\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"printStackTrace\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-17\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" new\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" ResponseEntity\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c\u003e\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"e\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getResponse\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(),\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" HttpStatus\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"SERVICE_UNAVAILABLE\"}],[\"$\",\"span\",\"span-12\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\")\"}],[\"$\",\"span\",\"span-13\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-18\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    } \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"catch\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"MissionIdDoesNotExistException\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\" e\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-19\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        e\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"printStackTrace\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-20\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" new\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" ResponseEntity\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c\u003e\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"e\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getResponse\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(),\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" HttpStatus\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"NOT_FOUND\"}],[\"$\",\"span\",\"span-12\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\")\"}],[\"$\",\"span\",\"span-13\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-21\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",\"span-22\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"h1\",\"h1-1\",{\"id\":\"错误示范带来的问题\",\"children\":[[\"$\",\"a\",\"错误示范带来的问题\",{\"href\":\"#错误示范带来的问题\",\"className\":\"mr-1\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 512 512\",\"className\":\"inline-block opacity-20 hover:opacity-60\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"$20\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":16,\"width\":16,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}],\"错误示范带来的问题\"]}],\"\\n\",[\"$\",\"p\",\"p-8\",{\"children\":\"以上代码给我们的错误调试带来了巨大的难度，耗费了很多的时间和精力：\"}],\"\\n\",[\"$\",\"ol\",\"ol-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"新增一个分支，需要复制粘贴很多现有代码；\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"修改一处逻辑，需要在多个switch分支、多个方法甚至多个文件里修改同样的逻辑，漏改几乎是肯定的；\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"代码量爆炸，同样的逻辑无意义地重复多次，使得代码不美观；\"}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"逻辑不清晰，需要看懂整个重复代码才能知道这是做什么；\"}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":\"很多复制粘贴出来的代码其实根本不能运行，发现后浪费更多的时间在调试和重写上。\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h1\",\"h1-2\",{\"id\":\"常见优化方法\",\"children\":[[\"$\",\"a\",\"常见优化方法\",{\"href\":\"#常见优化方法\",\"className\":\"mr-1\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 512 512\",\"className\":\"inline-block opacity-20 hover:opacity-60\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"$21\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":16,\"width\":16,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}],\"常见优化方法\"]}],\"\\n\",[\"$\",\"ol\",\"ol-1\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"将共用代码提成一个函数/类（谁都知道）\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"使用高级语言特性\"}],\"\\n\"]}],\"\\n\",[\"$\",\"figure\",\"figure-4\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"python\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"python\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"actual_value \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\" 1\"}]]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"expected_values \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" [{value: \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\"1\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}, {value: \"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\"2\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}, {value: \"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\"3\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}]\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",\"p-9\",{\"children\":\"不好的\"}],\"\\n\",[\"$\",\"figure\",\"figure-5\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"python\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"python\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"for\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" i \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"in\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" range\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(expected_values.\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"__len__\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()):\"}]]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    if\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" actual_value \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"==\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" expected_values[i][\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"value\\\"\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"]:\"}]]}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\" True\"}]]}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\" False\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",\"p-10\",{\"children\":\"好的\"}],\"\\n\",[\"$\",\"figure\",\"figure-6\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"python\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"python\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" actual_value \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"in\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" [ i[\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"value\\\"\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"] \"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"for\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" i \"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"in\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" expected_values ]\"}]]}]}]}]}],\"\\n\",[\"$\",\"ol\",\"ol-2\",{\"start\":3,\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"使用框架提供的工具，结构\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-11\",{\"children\":\"大佬写的、全球这么多人都用的东西，肯定有其可取之处。我们不用自己想、自己实现一个框架那么牛逼的结构，但是总是该会用的。多看看开源代码，遇到问题多搜索，往往能够看到一个精妙的解决方案。\"}],\"\\n\",[\"$\",\"h1\",\"h1-3\",{\"id\":\"优化实例\",\"children\":[[\"$\",\"a\",\"优化实例\",{\"href\":\"#优化实例\",\"className\":\"mr-1\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 512 512\",\"className\":\"inline-block opacity-20 hover:opacity-60\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"$22\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":16,\"width\":16,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}],\"优化实例\"]}],\"\\n\",[\"$\",\"p\",\"p-12\",{\"children\":\"下面通过一个例子来解释如何动脑子提高代码质量。\"}],\"\\n\",[\"$\",\"p\",\"p-13\",{\"children\":\"需求：我们正在做一个RESTful接口，其中一些路径在执行前需要验证是否登录，如果没有登录，直接返回401，并保存下当前用户；若已经登录，则继续执行。\"}],\"\\n\",[\"$\",\"p\",\"p-14\",{\"children\":\"最简单的方法如下：\"}],\"\\n\",[\"$\",\"figure\",\"figure-7\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"python\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"python\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"def\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" path1\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"():\"}]]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"    user\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"UserDao.\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"get_user_by_username\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(request.\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"args\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"username\\\"\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")):\"}]]}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    if\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" not\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" user:\"}]]}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"error\\\"\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\": \"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"not login\\\"\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}, \"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\"403\"}]]}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    pass\"}]}],\"\\n\",[\"$\",\"span\",\"span-5\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-6\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"def\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" path2\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"():\"}]]}],\"\\n\",[\"$\",\"span\",\"span-7\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"    user\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"UserDao.\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"get_user_by_username\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(request.\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"args\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"username\\\"\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")):\"}]]}],\"\\n\",[\"$\",\"span\",\"span-8\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    if\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" not\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" user:\"}]]}],\"\\n\",[\"$\",\"span\",\"span-9\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"error\\\"\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\": \"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"not login\\\"\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}, \"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\"403\"}]]}],\"\\n\",[\"$\",\"span\",\"span-10\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    pass\"}]}],\"\\n\",[\"$\",\"span\",\"span-11\",{\"data-line\":\"\",\"children\":\" \"}]]}]}]}],\"\\n\",[\"$\",\"p\",\"p-15\",{\"children\":\"以上代码中出现了重复的代码（if else）。这个写法带来了以下的问题：\"}],\"\\n\",[\"$\",\"ol\",\"ol-3\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"每新增一个路径，都要复制同样的代码\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":\"一旦逻辑有变（获得用户的方法）或者返回值有变（return语句），每个地方都要重新修改，很容易造成修改不完全\"}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":\"代码膨胀，不够清晰，需要看懂整个代码才能知道这段代码的作用，并且会影响真正逻辑的阅读\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-16\",{\"children\":[\"于是，根据\",[\"$\",\"strong\",\"strong-0\",{\"children\":\"方法1：提取公共方法\"}],\"，上述代码可以优化成以下代码。\"]}],\"\\n\",[\"$\",\"figure\",\"figure-8\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"python\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"python\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"def\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" get_user\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"():\"}]]}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" UserDao.\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"get_user_by_username\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(request.\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"args\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"username\\\"\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")):\"}]]}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"not_login_error \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" ({\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"error\\\"\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\": \"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"not login\\\"\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}, \"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\"403\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",\"span-5\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-6\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"def\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" path1\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"():\"}]]}],\"\\n\",[\"$\",\"span\",\"span-7\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"    user\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"get_user\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",\"span-8\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    if\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" not\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" user:\"}]]}],\"\\n\",[\"$\",\"span\",\"span-9\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"error\\\"\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\": \"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"not login\\\"\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}, \"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\"403\"}]]}],\"\\n\",[\"$\",\"span\",\"span-10\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    pass\"}]}],\"\\n\",[\"$\",\"span\",\"span-11\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-12\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"def\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" path2\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"():\"}]]}],\"\\n\",[\"$\",\"span\",\"span-13\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"    user\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"get_user\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",\"span-14\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    if\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" not\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" user:\"}]]}],\"\\n\",[\"$\",\"span\",\"span-15\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" not_login_error\"}]]}],\"\\n\",[\"$\",\"span\",\"span-16\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    pass\"}]}],\"\\n\",[\"$\",\"span\",\"span-17\",{\"data-line\":\"\",\"children\":\" \"}]]}]}]}],\"\\n\",[\"$\",\"p\",\"p-17\",{\"children\":\"这个解决方法能够部分解决以上提到的三个问题。\"}],\"\\n\",[\"$\",\"p\",\"p-18\",{\"children\":\"大部分人都能把上述代码优化成如下的代码，并且他们内心中都会觉得这样已经是最简了，即使这个做法仍然要多次重复写if return语句，他们也会觉得这是没有办法的事。\"}],\"\\n\",[\"$\",\"p\",\"p-19\",{\"children\":\"其实，还有更好的方法。\"}],\"\\n\",[\"$\",\"p\",\"p-20\",{\"children\":[\"根据以上的\",[\"$\",\"strong\",\"strong-0\",{\"children\":\"方法2：使用高级语言特性\"}],\"，这里是decorator，以上代码还能继续优化成以下代码：\"]}],\"\\n\",[\"$\",\"figure\",\"figure-9\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"python\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"python\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"def\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" need_login\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#D19A66\",\"fontStyle\":\"italic\"},\"children\":\"func\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"):\"}]]}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    def\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" wrapped\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(*\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#D19A66\",\"fontStyle\":\"italic\"},\"children\":\"args\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\", **\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#D19A66\",\"fontStyle\":\"italic\"},\"children\":\"kwargs\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"):\"}]]}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"        user\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"UserDao.\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"get_user_by_username\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(request.\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"args\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"username\\\"\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")):\"}]]}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        if\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" not\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" user:\"}]]}],\"\\n\",[\"$\",\"span\",\"span-5\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"            return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"error\\\"\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\": \"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"not login\\\"\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}, \"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\"403\"}]]}],\"\\n\",[\"$\",\"span\",\"span-6\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" func\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(*args, \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\"user\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"user, **kws)\"}]]}],\"\\n\",[\"$\",\"span\",\"span-7\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" wrapped\"}]]}],\"\\n\",[\"$\",\"span\",\"span-8\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-9\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"@need_login\"}]}],\"\\n\",[\"$\",\"span\",\"span-10\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"def\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" path1\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#D19A66\",\"fontStyle\":\"italic\"},\"children\":\"user\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\": User):\"}]]}],\"\\n\",[\"$\",\"span\",\"span-11\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    pass\"}]}],\"\\n\",[\"$\",\"span\",\"span-12\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-13\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"@need_login\"}]}],\"\\n\",[\"$\",\"span\",\"span-14\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"def\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" path2\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#D19A66\",\"fontStyle\":\"italic\"},\"children\":\"user\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\": User):\"}]]}],\"\\n\",[\"$\",\"span\",\"span-15\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    pass\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",\"p-21\",{\"children\":\"请对比以上代码和之前两段代码，就能很明显的发现这段代码有以下的好处：\"}],\"\\n\",[\"$\",\"ol\",\"ol-4\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"逻辑清晰\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-22\",{\"children\":\"看到@need_login就知道，原来这个path需要登录才能进入，并且还能知道这个方法运行的时候还需要使用用户作为参数。当path更多的时候，这样做也能显著降低代码量，并减少阅读时无关代码的数量。\"}],\"\\n\",[\"$\",\"ol\",\"ol-5\",{\"start\":2,\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"便于测试\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-23\",{\"children\":[\"要只想测试path的逻辑，不需要真正去运行获得用户（\",[\"$\",\"code\",\"code-0\",{\"children\":\"UserDao.get_user_by_username\"}],\"）的代码，测试代码只需要传入一个Mock User，就可以测试这段代码的逻辑是否正确。当然，前两个代码也可以做到这点，但是不得不引入多余的方法。\"]}],\"\\n\",[\"$\",\"ol\",\"ol-6\",{\"start\":3,\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"修改灵活\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-24\",{\"children\":\"need_login中可以随意修改逻辑，甚至可以完全取消这个验证，完全不影响业务代码。\"}],\"\\n\",[\"$\",\"p\",\"p-25\",{\"children\":\"这种方法有个缺陷，就是只适合于动态类型的语言（JS也有类似的），对于写Spring Boot的Java，应该怎么办呢？\"}],\"\\n\",[\"$\",\"p\",\"p-26\",{\"children\":[\"根据\",[\"$\",\"strong\",\"strong-0\",{\"children\":\"方法3：使用框架提供的工具，结构\"}],\"，我们只需要搜索一下，就能知道Spring Boot提供了Filter机制，特别适合用来完成这种工作。（这里黑一波Spring和Java：在网上搜Spring和Java，出来的东西很多都是过时的和重复的，用英文搜索稍微好一些。所以Java和Spring在网上热度高不是没有道理：毕竟你得花很长的时间才能找到你想要的东西，反观CSharp和ASP.NET Core，没有什么是MSDN不能解决的，如果有，就用英文Google一下很快就能找到）\"]}],\"\\n\",[\"$\",\"figure\",\"figure-10\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"java\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"java\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// 定义Filter\"}]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"@\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Component\"}]]}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"public\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" class\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" JwtAuthenticationTokenFilter\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" extends\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" OncePerRequestFilter\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"    @\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Qualifier\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"jwtUserDetailsServiceImpl\\\"\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",\"span-5\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"    @\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Autowired\"}]]}],\"\\n\",[\"$\",\"span\",\"span-6\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    private\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" UserDetailsService\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" userDetailsService\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-7\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-8\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"    @\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Value\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"${jwt.header}\\\"\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",\"span-9\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    private\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" String\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" tokenHeader\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-10\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-11\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"    @\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Value\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"${jwt.tokenHead}\\\"\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",\"span-12\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    private\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" String\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" tokenHead\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-13\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-14\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"    @\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Autowired\"}]]}],\"\\n\",[\"$\",\"span\",\"span-15\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    private\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" JwtService\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" jwtService\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",\"span-16\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-17\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"    @\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Autowired\"}]]}],\"\\n\",[\"$\",\"span\",\"span-18\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    public\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" JwtAuthenticationTokenFilter\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-19\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",\"span-20\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-21\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"    @\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Override\"}]]}],\"\\n\",[\"$\",\"span\",\"span-22\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    protected\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" void\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" doFilterInternal\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",\"span-23\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"            HttpServletRequest\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\" request\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",\"span-24\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"            HttpServletResponse\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\" response\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",\"span-25\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"            FilterChain\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\" chain\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" throws\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" ServletException\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" IOException\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-26\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        String\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" authHeader\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" request\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getHeader\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"this\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"tokenHeader\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",\"span-27\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        if\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" (authHeader \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"!=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\" null\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" \u0026\u0026\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" authHeader\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"startsWith\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(tokenHead)) {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-28\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"            final\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" String\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" authToken\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" authHeader\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"substring\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"tokenHead\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"length\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"());\"}]]}],\"\\n\",[\"$\",\"span\",\"span-29\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"            String\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" username\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" jwtService\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getUsernameFromToken\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(authToken);\"}]]}],\"\\n\",[\"$\",\"span\",\"span-30\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-31\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"            if\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" (\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"authToken\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"length\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"() \"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"\u003e\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\" 0\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-32\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"                try\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-33\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"                    UserDetails\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" userDetails\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" userDetailsService\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"loadUserByUsername\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(username);\"}]]}],\"\\n\",[\"$\",\"span\",\"span-34\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"                    if\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" (\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"jwtService\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"validateToken\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(authToken)) {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-35\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"                        UsernamePasswordAuthenticationToken\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" authentication\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" new\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" UsernamePasswordAuthenticationToken\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",\"span-36\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"                            userDetails, \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\"null\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\", \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"userDetails\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getAuthorities\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"());\"}]]}],\"\\n\",[\"$\",\"span\",\"span-37\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"                        authentication\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"setDetails\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"new\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" WebAuthenticationDetailsSource\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"().\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"buildDetails\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",\"span-38\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"                            request));\"}]}],\"\\n\",[\"$\",\"span\",\"span-39\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"                        SecurityContextHolder\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getContext\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"().\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"setAuthentication\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(authentication);\"}]]}],\"\\n\",[\"$\",\"span\",\"span-40\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"                    }\"}]}],\"\\n\",[\"$\",\"span\",\"span-41\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"                } \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"catch\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" (\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Exception\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E06C75\",\"fontStyle\":\"italic\"},\"children\":\" e\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-42\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"                    e\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"printStackTrace\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-43\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"                }\"}]}],\"\\n\",[\"$\",\"span\",\"span-44\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"            }\"}]}],\"\\n\",[\"$\",\"span\",\"span-45\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"        }\"}]}],\"\\n\",[\"$\",\"span\",\"span-46\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-47\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"        chain\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"doFilter\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(request, response);\"}]]}],\"\\n\",[\"$\",\"span\",\"span-48\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",\"span-49\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",\"span-50\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-51\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// 使用。这样，整个Controller在执行以前，都会经过Filter验证，如果没有，就直接返回Response。\"}]}],\"\\n\",[\"$\",\"span\",\"span-52\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-53\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"@\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"PreAuthorize\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\"value\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#98C379\"},\"children\":\" \\\"hasRole('\\\"\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" +\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" Role\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"REQUESTER_NAME\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" +\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#98C379\"},\"children\":\" \\\"')\\\"\"}],[\"$\",\"span\",\"span-12\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",\"span-54\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"@\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"RestController\"}]]}],\"\\n\",[\"$\",\"span\",\"span-55\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"public\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" class\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" RequesterInfoController\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-56\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"    //...\"}]}],\"\\n\",[\"$\",\"span\",\"span-57\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",\"p-27\",{\"children\":[\"其实，之前decorator的做法在flask文档中都有提到，以上代码就几乎等同于这个\",[\"$\",\"a\",\"a-0\",{\"href\":\"http://flask.pocoo.org/docs/1.0/patterns/viewdecorators/\",\"children\":\"官方示例\"}],\"。\"]}],\"\\n\",[\"$\",\"h1\",\"h1-4\",{\"id\":\"总结\",\"children\":[[\"$\",\"a\",\"总结\",{\"href\":\"#总结\",\"className\":\"mr-1\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 512 512\",\"className\":\"inline-block opacity-20 hover:opacity-60\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"$23\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":16,\"width\":16,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}],\"总结\"]}],\"\\n\",[\"$\",\"p\",\"p-28\",{\"children\":\"很多同学写代码只图早点做完，只图能跑，这固然可以理解：学习任务重，DDL紧，检查也只看效果不看代码更别说质量了。可是，只图快不动脑的代码会极大地浪费自己或者组内大佬的调试时间，破坏心情和组内的关系（我看到这种代码的第一反应就是骂人），当代码量上去后，这种代码也只会让开发的时间和难度指数型上升，最终害人害己。\"}],\"\\n\",[\"$\",\"p\",\"p-29\",{\"children\":\"所以，我想呼吁所有人，为了自己和他们的时间，写代码时请带上脑子！\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"hidden lg:block lg:w-[25%]\",\"children\":[\"$\",\"$L24\",null,{\"toc\":[{\"depth\":1,\"value\":\"错误示范\",\"id\":\"错误示范\"},{\"depth\":1,\"value\":\"错误示范带来的问题\",\"id\":\"错误示范带来的问题\"},{\"depth\":1,\"value\":\"常见优化方法\",\"id\":\"常见优化方法\"},{\"depth\":1,\"value\":\"优化实例\",\"id\":\"优化实例\"},{\"depth\":1,\"value\":\"总结\",\"id\":\"总结\"}],\"hasSummary\":true}]}]]}]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"9:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"写代码要动脑子！ - ddadaal.me\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"ddadaal's personal website\"}],[\"$\",\"link\",\"3\",{\"rel\":\"manifest\",\"href\":\"/site.webmanifest\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"link\",\"5\",{\"rel\":\"icon\",\"href\":\"/icon.svg?35be8e76be1c3618\",\"type\":\"image/svg+xml\",\"sizes\":\"any\"}],[\"$\",\"link\",\"6\",{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-icon.png?5334a64f42000bb0\",\"type\":\"image/png\",\"sizes\":\"180x180\"}]]\n"])</script><script>self.__next_f.push([1,"7:null\n"])</script></body></html>