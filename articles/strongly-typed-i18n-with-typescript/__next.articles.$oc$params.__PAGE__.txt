1:"$Sreact.fragment"
2:I[28979,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"ArticleFrontmatter"]
c:I[21753,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"ArticleSummarization"]
d:I[79817,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"Gallery"]
35:I[23491,["/_next/static/chunks/2caa33a942c5f527.js","/_next/static/chunks/59983278a34fd25c.js"],"OutletBoundary"]
36:"$Sreact.suspense"
59:I[72053,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"ArticleImage"]
6e:I[14620,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"ArticleToc"]
6f:I[39182,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"RelatedArticles"]
70:I[42449,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"CommentPanelWithCurrentLanguage"]
:HL["/_next/static/chunks/44d2e091595b3eca.css","style"]
:HL["/_next/static/chunks/5e55d74f3211c796.css","style"]
:HL["/_next/static/chunks/b59bad6ea4f112f2.css","style"]
3:T245c,
# i18n and The "Raw String" Problem

Internationalization, also known as i18n (18 characters between the leading *i* and trailing *n*), is about making a product friendly to global users, and one of the most important work is to **deliver common contents using different language according to user's preference**. For example, for the same text content `login`, our application should show `login` for English users, whereas `登录` for Chinese users etc.

## Text Placeholder (Id)

One typical technique to achieve it is to use **placeholder** (or **id**) in the places of text contents. During compilation or runtime, these **id**s will be replaced with **localized strings** which are usually defined in dedicated files, each one of these files consisting of all the texts in one language.

## Defining the Mapping from Id to Content

There are many ways to structure a file, and one of them is **nested object**, where the id of a value is all the keys in the path joined with dot(`.`). The nesting structure works as index for a database, which would be beneficial to maintain the file, especially when the number of entries grow.

```tsx
// en.ts, which contains all the texts in English
export default {
  login: {
    button: {
      text: "Login",
    },
  },
}

// cn.ts, which contains all the texts in Chinese
export default {
  login: {
    button: {
      text: "登录",
    },
  },
}

// both language files are isomorphic,
// i.e. have the same structure

// the id for the text content `Login` is login.button.text
```

Another form that is commonly accepted is **plain key-value mapping**, like iOS ([example](https://medium.com/lean-localization/ios-localization-tutorial-938231f9f881)) and ASP.NET Core MVC ([example](https://docs.microsoft.com/en-us/aspnet/core/fundamentals/localization?view=aspnetcore-2.2)), which is just simply, well, an id-to-text mapping.

## Applying the Id

After the mapping has been defined, one way to use the id is to **define a custom component** which **receives an id** and **returns the text content** according the current language setting.

```tsx
// This component receives id and returns the text content.
function LocalizedString({ id }: { id: string }) {
  // get the currentLanguageObject (the object defined above) from anywhere,
  // like React Context, redux store, mobx store, simstate store, or just import it

  // For simplicity, use Ramda to safely get nested value
  return R.path(id.split("."))(currentLanguageObject);
}

// Use the component in the place of raw text content
<Button><LocalizedString id="login.button.text" /></Button>

// Previously...
<Button>Login</Button>
```

## Benefits

It looks promising. By using id, the followings can be easily achieved, which are left as assignments for readers :smile:.

- **Auto update** the text content when language changes
- use the **localized text** where **only string is allowed**
    - and also make it observable
- **String interpolation**
    - insert string or React component into localized text content
    - like `printf("Content %d", anInt);{:c}`
- **Fallback**
    - when current language doesn't define value for a key, use fallback language to provide the text
- **Generate separate pages** for **each languages** in **complie-time**

## The "Raw String" Problem

The biggest problem of this solution is **raw string id**. Without external support from compiler or IDE (like [Angular Language Service](https://angular.io/guide/language-service) whcih supports Angular templates), using raw strings in code is harmful and should be avoided.

- No error check (like typo)
    - increases debugging time
- Hard to refactor the object
- No IDE autocompletion, navigating, and other good stuff
    - have to look up and type the key (which might be very looooog) every time


```tsx
// typo
<Button><LocalizedString id="login.buton.text" /></Button>

// long key
<LocalizedString id="app.header.userIndicator.loggedIn.dropdown.login.button.text" />
<LocalizedString id="app.header.userIndicator.loggedIn.dropdown.username.button.text" />
<LocalizedString id="app.header.userIndicator.loggedIn.dropdown.logout.button.text" />

// What if a key in the path is renamed?
```

# Make it Strongly Typed

By making the call strongly typed, we can avoid raw string in our code and enable the refactors, error checking, autocompletion and other features provided by type inference. However, the following table lists some ways as well as respective weaknesses.

| Solution | Explanation | Weaknesses |
| -- | -- | -- |
| Callback | `<LocalizedString id={(ref) => ref.login.bottom.text} />{:tsx}` | - Affecting performance<br/>- Verbose, especially multiple LocalizedString components |
| Accessing the object directly | `<Button>{lang.login.bottom.text}<Button/>{:tsx}` | - Losing the abilities to **fallback**, **observable**, **string interpolation**... |
| Accessing object with component wrapper | `<LocalizedString id={lang.login.bottom.text} />{:tsx}` | - Losing the abilities to **fallback** |
| Accessing the store (or context) containing language object in the component | `context.language.login.bottom.text{:tsx}` | - Verbose<br/>- Unnecessarily coupled |

The third solution is best of all, but since **it accesses object directly**, it is impossible to *intercept* the chaining call to enable fallback. Besides, designing such a **global variable**(`lang`) that satisfy the need is not an easy work.

# Strongly Typed Id

It seems that using id is the best choice, so is it possible to **generate id by accessing object**? With [Proxy](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy) introduced in ES6, it is!

```tsx
// Definition is the type of language object
import { Definitions } from "./definition";

// The wrapper class recording the keys that have been accessed
export class Lang {
  constructor(public paths: PropertyKey[]) { }
}

// The Symbol to access the keys
export const GET_VALUE = Symbol("__get");

// factory function creating proxified Lang object
function factory(langObj: Lang) {

  // The proxy intercepts the object access
  const obj = new Proxy(langObj, {
    get: (t, k) => {
      // if the key is GET_VALUE symbol, return the keys joined with "."
      if (k === GET_VALUE) {
        return langObj.paths.join(".");
      }
      // if not, record the current key and generate another proxified Lang object
      // making the Lang object immutable
      // more on that later
      return factory(new Lang([...t.paths, k]));
    },
  }) as any;
  return obj;
}

// The root proxified Lang object
const lang = factory(new Lang([]));

// Lie to TS compiler
// that lang object is of type Definitions (the type of language object)
// and export the object
export default lang as Definitions;
```

There are also few modifications needed in the LocalizedString component.

```tsx
function LocalizedString({ id }: { id: string }) {
  return R.path(
    // add access to GET_VALUE
    // highlight-next-line
    id[GET_VALUE]
    .split("."))(currentLanguageObject);
}
```

The core idea is to **record the key at every access** using Proxy. By lying to TS compiler about the actual type of the lang, all the type related features are naturally enabled, like the autocompletion showing in the picture below.

![Lang object autocompletion](./lang-autocompletion.png)

By making the proxy object **immutable**, we can introduce a common object containing the **common prefix** without sacrificing type inferenece, resulting in cleaner code, especially when multiple components are needed.

```tsx
// Previously
<LocalizedString id={lang.app.header.userIndicator.loggedIn.dropdown.login.button.text} />
<LocalizedString id={lang.app.header.userIndicator.loggedIn.dropdown.username.button.text} />
<LocalizedString id={lang.app.header.userIndicator.loggedIn.dropdown.logout.button.text} />

// With root object
const root = lang.app.header.userIndicator.loggedIn.dropdown;

<LocalizedString id={root.login.buttom.text} />
<LocalizedString id={root.username.buttom.text} />
<LocalizedString id={root.logout.buttom.text} />

```
![root object autocompletion](./root-autocompletion.png)

# Drawbacks and Conclusion

The benefits of this solution is obvious: **all the aforementional [benefits](#benefits) with type inference**. Therefore, it is wildly adopted in all my projects, including this [VicBlog](https://github.com/vicblog/VicBlog-Gatsby) and my Citi Competition project. On the other hand, it is also worth noting that there are some drawbacks.

- Proxy performance hit
- Too many lang objects and might add to GC burden
- Since the Lang object is immutable and different every time, LocalizedString component might be frequently updated

I believe that type information is important in every periods of programming, including designing, coding, debugging and maintaining, since it significantly helps programmer **avoid stupid bugs** and **reduce the time and frustration** in finding these bugs. Type inference also **increases efficiency** quite radically, since well-designed code can be used as **never-out-of-date docs which are also invaluable in team collabration**. As a result, personally I would prefer strongly typed programming languages and styles and try to use it anywhere possible.
0:{"buildId":"x-o6oom0-eYUQFwPypfzU","rsc":["$","$1","c",{"children":[["$","article",null,{"children":[["$","div",null,{"className":"bg-neutral px-4 py-8","children":["$","div",null,{"className":"max-w-7xl mx-auto min-h-[256px] flex justify-center text-center text-neutral-content","children":["$","div",null,{"className":"flex flex-col justify-center animate-slide-up","children":[["$","h1",null,{"className":"text-4xl my-2","children":"Strongly Typed i18n with TypeScript"}],["$","$L2",null,{"className":"justify-center","articleId":"strongly-typed-i18n-with-typescript","info":{"content":"$3","title":"Strongly Typed i18n with TypeScript","date":"2019-04-17 09:30","id":"strongly-typed-i18n-with-typescript","lang":"en","tags":["web-frontend","code-trick","TypeScript"],"wordCount":1270,"readingTime":6.35,"filePath":"contents/20190416-strongly-typed-i18n/en.md","summary":{"articleId":"strongly-typed-i18n-with-typescript","lang":"en","hash":"7c96db19070360dec8673ffd5caf3cd34a972c7b50304d966e150ffdfe5863f1","summaries":[{"metadata":{"summarizer":"azure-ai","model":"DeepSeek-R1"},"summaries":["The article discusses internationalization (i18n) challenges, focusing on the \"raw string\" problem when using placeholder IDs for localized content. It highlights risks like typos, lack of IDE support, and refactoring difficulties. A solution using JavaScript Proxies to generate strongly typed IDs is proposed: by recording key paths during object access, it enables type-safe, autocompleted IDs while preserving i18n benefits (fallback, interpolation). This approach avoids raw strings, improves maintainability, and leverages type inference for error checking. Drawbacks include Proxy performance costs, GC overhead, and potential frequent component updates. The author advocates typed solutions to enhance efficiency and reduce bugs in multilingual applications."],"startTime":"2025-02-14T13:28:49.222Z","endTime":"2025-02-14T13:29:23.375Z"},{"metadata":{"summarizer":"ollama","model":"deepseek-r1:8b"},"summaries":["这段文字详细阐述了如何利用JavaScript中的`Proxy`机制来实现强类型化的语言资源访问，解决了本地化字符串（LocalizedString）组件在维护和调试方面的难题。以下是对该技术的总结：\n\n1. **背景与问题**：\n   - 传统方法使用字符串直接访问资源，缺乏类型信息，导致代码难以维护和调试。\n   \n2. **解决方案**：\n   - 使用`Proxy`拦截对象访问，记录路径，并生成强类型化的提示。\n   - 创建一个`Lang`类来记录访问键，并使用`Proxy`在每次访问时处理。\n\n3. **实现细节**：\n   - `Lang`类初始化时保存路径，并通过`Proxy`拦截进一步的键访问。\n   - 当访问特定键（如`GET_VALUE`符号）时，返回路径字符串；否则，生成新`Lang`对象并添加当前键。\n\n4. **应用与优化**：\n   - 在`LocalizedString`组件中使用`Proxy`结构，使得路径分解更为简便。\n   - 创建嵌套的Root对象，以独立管理部分路径，提升灵活性和代码可读性。\n\n5. **权衡与结论**：\n   - 虽然存在性能和内存问题，但强类型化带来的好处（如减少错误、提高效率）使得该方法在大多数项目中得到广泛应用。\n\n通过这种方式，作者成功实现了在本地化字符串组件中的强类型化管理，不仅提升了代码质量，还简化了资源的引用和维护过程。"]}]}},"langVersions":["en"]}]]}]}]}],"$L4"]}],["$L5","$L6","$L7","$L8","$L9","$La"],"$Lb"]}],"loading":null,"isPartial":false}
e:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z4:["$","div",null,{"className":"animate-slide-up","children":[["$","div",null,{"className":"max-w-7xl mx-auto p-4","children":["$","div",null,{"className":"flex flex-row space-x-4","children":[["$","div",null,{"className":"prose max-w-full lg:w-[75%]","children":[["$","$Lc",null,{"summaries":[{"metadata":{"summarizer":"azure-ai","model":"DeepSeek-R1"},"children":[["$","p","p-0",{"children":"The article discusses internationalization (i18n) challenges, focusing on the \"raw string\" problem when using placeholder IDs for localized content. It highlights risks like typos, lack of IDE support, and refactoring difficulties. A solution using JavaScript Proxies to generate strongly typed IDs is proposed: by recording key paths during object access, it enables type-safe, autocompleted IDs while preserving i18n benefits (fallback, interpolation). This approach avoids raw strings, improves maintainability, and leverages type inference for error checking. Drawbacks include Proxy performance costs, GC overhead, and potential frequent component updates. The author advocates typed solutions to enhance efficiency and reduce bugs in multilingual applications."}]]},{"metadata":{"summarizer":"ollama","model":"deepseek-r1:8b"},"children":[["$","p","p-0",{"children":["这段文字详细阐述了如何利用JavaScript中的",["$","code","code-0",{"children":"Proxy"}],"机制来实现强类型化的语言资源访问，解决了本地化字符串（LocalizedString）组件在维护和调试方面的难题。以下是对该技术的总结："]}],"\n",["$","ol","ol-0",{"children":["\n",["$","li","li-0",{"children":["\n",["$","p","p-0",{"children":[["$","strong","strong-0",{"children":"背景与问题"}],"："]}],"\n",["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":"传统方法使用字符串直接访问资源，缺乏类型信息，导致代码难以维护和调试。"}],"\n"]}],"\n"]}],"\n",["$","li","li-1",{"children":["\n",["$","p","p-0",{"children":[["$","strong","strong-0",{"children":"解决方案"}],"："]}],"\n",["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":["使用",["$","code","code-0",{"children":"Proxy"}],"拦截对象访问，记录路径，并生成强类型化的提示。"]}],"\n",["$","li","li-1",{"children":["创建一个",["$","code","code-0",{"children":"Lang"}],"类来记录访问键，并使用",["$","code","code-1",{"children":"Proxy"}],"在每次访问时处理。"]}],"\n"]}],"\n"]}],"\n",["$","li","li-2",{"children":["\n",["$","p","p-0",{"children":[["$","strong","strong-0",{"children":"实现细节"}],"："]}],"\n",["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":[["$","code","code-0",{"children":"Lang"}],"类初始化时保存路径，并通过",["$","code","code-1",{"children":"Proxy"}],"拦截进一步的键访问。"]}],"\n",["$","li","li-1",{"children":["当访问特定键（如",["$","code","code-0",{"children":"GET_VALUE"}],"符号）时，返回路径字符串；否则，生成新",["$","code","code-1",{"children":"Lang"}],"对象并添加当前键。"]}],"\n"]}],"\n"]}],"\n",["$","li","li-3",{"children":["\n",["$","p","p-0",{"children":[["$","strong","strong-0",{"children":"应用与优化"}],"："]}],"\n",["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":["在",["$","code","code-0",{"children":"LocalizedString"}],"组件中使用",["$","code","code-1",{"children":"Proxy"}],"结构，使得路径分解更为简便。"]}],"\n",["$","li","li-1",{"children":"创建嵌套的Root对象，以独立管理部分路径，提升灵活性和代码可读性。"}],"\n"]}],"\n"]}],"\n",["$","li","li-4",{"children":["\n",["$","p","p-0",{"children":[["$","strong","strong-0",{"children":"权衡与结论"}],"："]}],"\n",["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":"虽然存在性能和内存问题，但强类型化带来的好处（如减少错误、提高效率）使得该方法在大多数项目中得到广泛应用。"}],"\n"]}],"\n"]}],"\n"]}],"\n",["$","p","p-1",{"children":"通过这种方式，作者成功实现了在本地化字符串组件中的强类型化管理，不仅提升了代码质量，还简化了资源的引用和维护过程。"}]]}]}],["$","$Ld",null,{"withCaption":true,"id":"strongly-typed-i18n-with-typescript","children":[["$","h1","h1-0",{"id":"i18n-and-the-raw-string-problem","children":[["$","a","i18n-and-the-raw-string-problem",{"href":"#i18n-and-the-raw-string-problem","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$e","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"i18n and The \"Raw String\" Problem"]}],"\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","$L22","\n","$L23","\n","$L24","\n","$L25","\n","$L26","\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b","\n","$L2c","\n","$L2d","\n","$L2e","\n","$L2f","\n","$L30","\n","$L31"]}]]}],"$L32"]}]}],"$L33","$L34"]}]
5:["$","link","0",{"rel":"stylesheet","href":"/_next/static/chunks/44d2e091595b3eca.css","precedence":"next"}]
6:["$","link","1",{"rel":"stylesheet","href":"/_next/static/chunks/5e55d74f3211c796.css","precedence":"next"}]
7:["$","link","2",{"rel":"stylesheet","href":"/_next/static/chunks/b59bad6ea4f112f2.css","precedence":"next"}]
8:["$","script","script-0",{"src":"/_next/static/chunks/0a1497ca0a1721ad.js","async":true}]
9:["$","script","script-1",{"src":"/_next/static/chunks/4ec1bf7a32b70f87.js","async":true}]
a:["$","script","script-2",{"src":"/_next/static/chunks/276b22541034e0ea.js","async":true}]
b:["$","$L35",null,{"children":["$","$36",null,{"name":"Next.MetadataOutlet","children":"$@37"}]}]
f:["$","p","p-0",{"children":["Internationalization, also known as i18n (18 characters between the leading ",["$","em","em-0",{"children":"i"}]," and trailing ",["$","em","em-1",{"children":"n"}],"), is about making a product friendly to global users, and one of the most important work is to ",["$","strong","strong-0",{"children":"deliver common contents using different language according to user's preference"}],". For example, for the same text content ",["$","code","code-0",{"children":"login"}],", our application should show ",["$","code","code-1",{"children":"login"}]," for English users, whereas ",["$","code","code-2",{"children":"登录"}]," for Chinese users etc."]}]
38:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z10:["$","h2","h2-0",{"id":"text-placeholder-id","children":[["$","a","text-placeholder-id",{"href":"#text-placeholder-id","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$38","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"Text Placeholder (Id)"]}]
11:["$","p","p-1",{"children":["One typical technique to achieve it is to use ",["$","strong","strong-0",{"children":"placeholder"}]," (or ",["$","strong","strong-1",{"children":"id"}],") in the places of text contents. During compilation or runtime, these ",["$","strong","strong-2",{"children":"id"}],"s will be replaced with ",["$","strong","strong-3",{"children":"localized strings"}]," which are usually defined in dedicated files, each one of these files consisting of all the texts in one language."]}]
39:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z12:["$","h2","h2-1",{"id":"defining-the-mapping-from-id-to-content","children":[["$","a","defining-the-mapping-from-id-to-content",{"href":"#defining-the-mapping-from-id-to-content","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$39","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"Defining the Mapping from Id to Content"]}]
13:["$","p","p-2",{"children":["There are many ways to structure a file, and one of them is ",["$","strong","strong-0",{"children":"nested object"}],", where the id of a value is all the keys in the path joined with dot(",["$","code","code-0",{"children":"."}],"). The nesting structure works as index for a database, which would be beneficial to maintain the file, especially when the number of entries grow."]}]
14:["$","figure","figure-0",{"data-rehype-pretty-code-figure":"","children":["$","pre","pre-0",{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":0,"data-language":"tsx","data-theme":"one-dark-pro","children":["$","code","code-0",{"data-language":"tsx","data-theme":"one-dark-pro","style":{"display":"grid"},"children":[["$","span","span-0",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// en.ts, which contains all the texts in English"}]}],"\n",["$","span","span-1",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"export"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" default"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" {"}]]}],"\n",["$","span","span-2",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E06C75"},"children":"  login"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":": {"}]]}],"\n",["$","span","span-3",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E06C75"},"children":"    button"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":": {"}]]}],"\n",["$","span","span-4",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E06C75"},"children":"      text"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-2",{"style":{"color":"#98C379"},"children":"\"Login\""}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":","}]]}],"\n",["$","span","span-5",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"    },"}]}],"\n",["$","span","span-6",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"  },"}]}],"\n",["$","span","span-7",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}],"\n",["$","span","span-8",{"data-line":"","children":" "}],"\n",["$","span","span-9",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// cn.ts, which contains all the texts in Chinese"}]}],"\n",["$","span","span-10",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"export"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" default"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" {"}]]}],"\n",["$","span","span-11",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E06C75"},"children":"  login"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":": {"}]]}],"\n",["$","span","span-12",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E06C75"},"children":"    button"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":": {"}]]}],"\n",["$","span","span-13",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E06C75"},"children":"      text"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-2",{"style":{"color":"#98C379"},"children":"\"登录\""}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":","}]]}],"\n",["$","span","span-14",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"    },"}]}],"\n",["$","span","span-15",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"  },"}]}],"\n",["$","span","span-16",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}],"\n",["$","span","span-17",{"data-line":"","children":" "}],"\n",["$","span","span-18",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// both language files are isomorphic,"}]}],"\n",["$","span","span-19",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// i.e. have the same structure"}]}],"\n",["$","span","span-20",{"data-line":"","children":" "}],"\n",["$","span","span-21",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// the id for the text content `Login` is login.button.text"}]}]]}]}]}]
15:["$","p","p-3",{"children":["Another form that is commonly accepted is ",["$","strong","strong-0",{"children":"plain key-value mapping"}],", like iOS (",["$","a","a-0",{"href":"https://medium.com/lean-localization/ios-localization-tutorial-938231f9f881","children":"example"}],") and ASP.NET Core MVC (",["$","a","a-1",{"href":"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/localization?view=aspnetcore-2.2","children":"example"}],"), which is just simply, well, an id-to-text mapping."]}]
3a:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z16:["$","h2","h2-2",{"id":"applying-the-id","children":[["$","a","applying-the-id",{"href":"#applying-the-id","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$3a","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"Applying the Id"]}]
17:["$","p","p-4",{"children":["After the mapping has been defined, one way to use the id is to ",["$","strong","strong-0",{"children":"define a custom component"}]," which ",["$","strong","strong-1",{"children":"receives an id"}]," and ",["$","strong","strong-2",{"children":"returns the text content"}]," according the current language setting."]}]
18:["$","figure","figure-1",{"data-rehype-pretty-code-figure":"","children":["$","pre","pre-0",{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":0,"data-language":"tsx","data-theme":"one-dark-pro","children":["$","code","code-0",{"data-language":"tsx","data-theme":"one-dark-pro","style":{"display":"grid"},"children":[["$","span","span-0",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// This component receives id and returns the text content."}]}],"\n",["$","span","span-1",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"function"}],["$","span","span-1",{"style":{"color":"#61AFEF"},"children":" LocalizedString"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"({ "}],["$","span","span-3",{"style":{"color":"#E06C75","fontStyle":"italic"},"children":"id"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":" }: { "}],["$","span","span-5",{"style":{"color":"#E06C75"},"children":"id"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-7",{"style":{"color":"#E5C07B"},"children":"string"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":" }) {"}]]}],"\n",["$","span","span-2",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // get the currentLanguageObject (the object defined above) from anywhere,"}]}],"\n",["$","span","span-3",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // like React Context, redux store, mobx store, simstate store, or just import it"}]}],"\n",["$","span","span-4",{"data-line":"","children":" "}],"\n",["$","span","span-5",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // For simplicity, use Ramda to safely get nested value"}]}],"\n",["$","span","span-6",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  return"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" R"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-3",{"style":{"color":"#61AFEF"},"children":"path"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-5",{"style":{"color":"#E5C07B"},"children":"id"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-7",{"style":{"color":"#61AFEF"},"children":"split"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-9",{"style":{"color":"#98C379"},"children":"\".\""}],["$","span","span-10",{"style":{"color":"#ABB2BF"},"children":"))("}],["$","span","span-11",{"style":{"color":"#E06C75"},"children":"currentLanguageObject"}],["$","span","span-12",{"style":{"color":"#ABB2BF"},"children":");"}]]}],"\n",["$","span","span-7",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}],"\n",["$","span","span-8",{"data-line":"","children":" "}],"\n",["$","span","span-9",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// Use the component in the place of raw text content"}]}],"\n",["$","span","span-10",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":"Button"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"><"}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"LocalizedString"}],["$","span","span-4",{"style":{"color":"#D19A66","fontStyle":"italic"},"children":" id"}],["$","span","span-5",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-6",{"style":{"color":"#98C379"},"children":"\"login.button.text\""}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":" /></"}],["$","span","span-8",{"style":{"color":"#E5C07B"},"children":"Button"}],["$","span","span-9",{"style":{"color":"#ABB2BF"},"children":">"}]]}],"\n",["$","span","span-11",{"data-line":"","children":" "}],"\n",["$","span","span-12",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// Previously..."}]}],"\n",["$","span","span-13",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":"Button"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":">Login</"}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"Button"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":">"}]]}]]}]}]}]
3b:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z19:["$","h2","h2-3",{"id":"benefits","children":[["$","a","benefits",{"href":"#benefits","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$3b","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"Benefits"]}]
1a:["$","p","p-5",{"children":"It looks promising. By using id, the followings can be easily achieved, which are left as assignments for readers :smile:."}]
1b:["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":[["$","strong","strong-0",{"children":"Auto update"}]," the text content when language changes"]}],"\n",["$","li","li-1",{"children":["use the ",["$","strong","strong-0",{"children":"localized text"}]," where ",["$","strong","strong-1",{"children":"only string is allowed"}],"\n",["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":"and also make it observable"}],"\n"]}],"\n"]}],"\n",["$","li","li-2",{"children":[["$","strong","strong-0",{"children":"String interpolation"}],"\n",["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":"insert string or React component into localized text content"}],"\n",["$","li","li-1",{"children":["like ",["$","span","span-0",{"data-rehype-pretty-code-figure":"","children":["$","code","code-0",{"data-language":"c","data-theme":"one-dark-pro","style":{"backgroundColor":"#282c34","color":"#abb2bf"},"children":["$","span","span-0",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#61AFEF"},"children":"printf"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-2",{"style":{"color":"#98C379"},"children":"\"Content "}],["$","span","span-3",{"style":{"color":"#D19A66"},"children":"%d"}],["$","span","span-4",{"style":{"color":"#98C379"},"children":"\""}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":","}],["$","span","span-6",{"style":{"color":"#E06C75"},"children":" anInt"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":");"}]]}]}]}]]}],"\n"]}],"\n"]}],"\n",["$","li","li-3",{"children":[["$","strong","strong-0",{"children":"Fallback"}],"\n",["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":"when current language doesn't define value for a key, use fallback language to provide the text"}],"\n"]}],"\n"]}],"\n",["$","li","li-4",{"children":[["$","strong","strong-0",{"children":"Generate separate pages"}]," for ",["$","strong","strong-1",{"children":"each languages"}]," in ",["$","strong","strong-2",{"children":"complie-time"}]]}],"\n"]}]
3c:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z1c:["$","h2","h2-4",{"id":"the-raw-string-problem","children":[["$","a","the-raw-string-problem",{"href":"#the-raw-string-problem","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$3c","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"The \"Raw String\" Problem"]}]
1d:["$","p","p-6",{"children":["The biggest problem of this solution is ",["$","strong","strong-0",{"children":"raw string id"}],". Without external support from compiler or IDE (like ",["$","a","a-0",{"href":"https://angular.io/guide/language-service","children":"Angular Language Service"}]," whcih supports Angular templates), using raw strings in code is harmful and should be avoided."]}]
1e:["$","ul","ul-1",{"children":["\n",["$","li","li-0",{"children":["No error check (like typo)\n",["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":"increases debugging time"}],"\n"]}],"\n"]}],"\n",["$","li","li-1",{"children":"Hard to refactor the object"}],"\n",["$","li","li-2",{"children":["No IDE autocompletion, navigating, and other good stuff\n",["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":"have to look up and type the key (which might be very looooog) every time"}],"\n"]}],"\n"]}],"\n"]}]
1f:["$","figure","figure-2",{"data-rehype-pretty-code-figure":"","children":["$","pre","pre-0",{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":0,"data-language":"tsx","data-theme":"one-dark-pro","children":["$","code","code-0",{"data-language":"tsx","data-theme":"one-dark-pro","style":{"display":"grid"},"children":[["$","span","span-0",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// typo"}]}],"\n",["$","span","span-1",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":"Button"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"><"}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"LocalizedString"}],["$","span","span-4",{"style":{"color":"#D19A66","fontStyle":"italic"},"children":" id"}],["$","span","span-5",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-6",{"style":{"color":"#98C379"},"children":"\"login.buton.text\""}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":" /></"}],["$","span","span-8",{"style":{"color":"#E5C07B"},"children":"Button"}],["$","span","span-9",{"style":{"color":"#ABB2BF"},"children":">"}]]}],"\n",["$","span","span-2",{"data-line":"","children":" "}],"\n",["$","span","span-3",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// long key"}]}],"\n",["$","span","span-4",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":"LocalizedString"}],["$","span","span-2",{"style":{"color":"#D19A66","fontStyle":"italic"},"children":" id"}],["$","span","span-3",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-4",{"style":{"color":"#98C379"},"children":"\"app.header.userIndicator.loggedIn.dropdown.login.button.text\""}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":" />"}]]}],"\n",["$","span","span-5",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":"LocalizedString"}],["$","span","span-2",{"style":{"color":"#D19A66","fontStyle":"italic"},"children":" id"}],["$","span","span-3",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-4",{"style":{"color":"#98C379"},"children":"\"app.header.userIndicator.loggedIn.dropdown.username.button.text\""}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":" />"}]]}],"\n",["$","span","span-6",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":"LocalizedString"}],["$","span","span-2",{"style":{"color":"#D19A66","fontStyle":"italic"},"children":" id"}],["$","span","span-3",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-4",{"style":{"color":"#98C379"},"children":"\"app.header.userIndicator.loggedIn.dropdown.logout.button.text\""}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":" />"}]]}],"\n",["$","span","span-7",{"data-line":"","children":" "}],"\n",["$","span","span-8",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// What if a key in the path is renamed?"}]}]]}]}]}]
3d:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z20:["$","h1","h1-1",{"id":"make-it-strongly-typed","children":[["$","a","make-it-strongly-typed",{"href":"#make-it-strongly-typed","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$3d","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"Make it Strongly Typed"]}]
21:["$","p","p-7",{"children":"By making the call strongly typed, we can avoid raw string in our code and enable the refactors, error checking, autocompletion and other features provided by type inference. However, the following table lists some ways as well as respective weaknesses."}]
22:["$","table","table-0",{"children":[["$","thead","thead-0",{"children":["$","tr","tr-0",{"children":[["$","th","th-0",{"children":"Solution"}],["$","th","th-1",{"children":"Explanation"}],["$","th","th-2",{"children":"Weaknesses"}]]}]}],["$","tbody","tbody-0",{"children":[["$","tr","tr-0",{"children":[["$","td","td-0",{"children":"Callback"}],["$","td","td-1",{"children":["$","span","span-0",{"data-rehype-pretty-code-figure":"","children":["$","code","code-0",{"data-language":"tsx","data-theme":"one-dark-pro","style":{"backgroundColor":"#282c34","color":"#abb2bf"},"children":["$","span","span-0",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":"LocalizedString"}],["$","span","span-2",{"style":{"color":"#D19A66","fontStyle":"italic"},"children":" id"}],["$","span","span-3",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-4",{"style":{"color":"#C678DD"},"children":"{"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-6",{"style":{"color":"#E06C75","fontStyle":"italic"},"children":"ref"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":") "}],["$","span","span-8",{"style":{"color":"#C678DD"},"children":"=>"}],["$","span","span-9",{"style":{"color":"#E5C07B"},"children":" ref"}],["$","span","span-10",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-11",{"style":{"color":"#E5C07B"},"children":"login"}],["$","span","span-12",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-13",{"style":{"color":"#E5C07B"},"children":"bottom"}],["$","span","span-14",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-15",{"style":{"color":"#E06C75"},"children":"text"}],["$","span","span-16",{"style":{"color":"#C678DD"},"children":"}"}],["$","span","span-17",{"style":{"color":"#ABB2BF"},"children":" />"}]]}]}]}]}],["$","td","td-2",{"children":["- Affecting performance",["$","br","br-0",{}],"- Verbose, especially multiple LocalizedString components"]}]]}],["$","tr","tr-1",{"children":[["$","td","td-0",{"children":"Accessing the object directly"}],["$","td","td-1",{"children":["$","span","span-0",{"data-rehype-pretty-code-figure":"","children":["$","code","code-0",{"data-language":"tsx","data-theme":"one-dark-pro","style":{"backgroundColor":"#282c34","color":"#abb2bf"},"children":["$","span","span-0",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":"Button"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":">"}],["$","span","span-3",{"style":{"color":"#C678DD"},"children":"{"}],["$","span","span-4",{"style":{"color":"#E5C07B"},"children":"lang"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-6",{"style":{"color":"#E5C07B"},"children":"login"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-8",{"style":{"color":"#E5C07B"},"children":"bottom"}],["$","span","span-9",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-10",{"style":{"color":"#E06C75"},"children":"text"}],["$","span","span-11",{"style":{"color":"#C678DD"},"children":"}"}],["$","span","span-12",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-13",{"style":{"color":"#E5C07B"},"children":"Button"}],["$","span","span-14",{"style":{"color":"#ABB2BF"},"children":"/>"}]]}]}]}]}],["$","td","td-2",{"children":["- Losing the abilities to ",["$","strong","strong-0",{"children":"fallback"}],", ",["$","strong","strong-1",{"children":"observable"}],", ",["$","strong","strong-2",{"children":"string interpolation"}],"..."]}]]}],["$","tr","tr-2",{"children":[["$","td","td-0",{"children":"Accessing object with component wrapper"}],["$","td","td-1",{"children":["$","span","span-0",{"data-rehype-pretty-code-figure":"","children":["$","code","code-0",{"data-language":"tsx","data-theme":"one-dark-pro","style":{"backgroundColor":"#282c34","color":"#abb2bf"},"children":["$","span","span-0",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":"LocalizedString"}],["$","span","span-2",{"style":{"color":"#D19A66","fontStyle":"italic"},"children":" id"}],["$","span","span-3",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-4",{"style":{"color":"#C678DD"},"children":"{"}],["$","span","span-5",{"style":{"color":"#E5C07B"},"children":"lang"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-7",{"style":{"color":"#E5C07B"},"children":"login"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-9",{"style":{"color":"#E5C07B"},"children":"bottom"}],["$","span","span-10",{"style":{"color":"#ABB2BF"},"children":"."}],"$L3e","$L3f","$L40"]}]}]}]}],"$L41"]}],"$L42"]}]]}]
23:["$","p","p-8",{"children":["The third solution is best of all, but since ",["$","strong","strong-0",{"children":"it accesses object directly"}],", it is impossible to ",["$","em","em-0",{"children":"intercept"}]," the chaining call to enable fallback. Besides, designing such a ",["$","strong","strong-1",{"children":"global variable"}],"(",["$","code","code-0",{"children":"lang"}],") that satisfy the need is not an easy work."]}]
43:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z24:["$","h1","h1-2",{"id":"strongly-typed-id","children":[["$","a","strongly-typed-id",{"href":"#strongly-typed-id","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$43","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"Strongly Typed Id"]}]
25:["$","p","p-9",{"children":["It seems that using id is the best choice, so is it possible to ",["$","strong","strong-0",{"children":"generate id by accessing object"}],"? With ",["$","a","a-0",{"href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy","children":"Proxy"}]," introduced in ES6, it is!"]}]
26:["$","figure","figure-3",{"data-rehype-pretty-code-figure":"","children":["$","pre","pre-0",{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":0,"data-language":"tsx","data-theme":"one-dark-pro","children":["$","code","code-0",{"data-language":"tsx","data-theme":"one-dark-pro","style":{"display":"grid"},"children":[["$","span","span-0",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// Definition is the type of language object"}]}],"\n",["$","span","span-1",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"import"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" { "}],["$","span","span-2",{"style":{"color":"#E06C75"},"children":"Definitions"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":" } "}],["$","span","span-4",{"style":{"color":"#C678DD"},"children":"from"}],["$","span","span-5",{"style":{"color":"#98C379"},"children":" \"./definition\""}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":";"}]]}],"\n",["$","span","span-2",{"data-line":"","children":" "}],"\n",["$","span","span-3",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// The wrapper class recording the keys that have been accessed"}]}],"\n",["$","span","span-4",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"export"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" class"}],["$","span","span-2",{"style":{"color":"#E5C07B"},"children":" Lang"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":" {"}]]}],"\n",["$","span","span-5",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  constructor"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-2",{"style":{"color":"#C678DD"},"children":"public"}],["$","span","span-3",{"style":{"color":"#E06C75","fontStyle":"italic"},"children":" paths"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-5",{"style":{"color":"#E5C07B"},"children":"PropertyKey"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"[]) { }"}]]}],"\n",["$","span","span-6",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}],"\n",["$","span","span-7",{"data-line":"","children":" "}],"\n",["$","span","span-8",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// The Symbol to access the keys"}]}],"\n",["$","span","span-9",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"export"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" const"}],["$","span","span-2",{"style":{"color":"#E5C07B"},"children":" GET_VALUE"}],["$","span","span-3",{"style":{"color":"#56B6C2"},"children":" ="}],["$","span","span-4",{"style":{"color":"#61AFEF"},"children":" Symbol"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-6",{"style":{"color":"#98C379"},"children":"\"__get\""}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":");"}]]}],"\n",["$","span","span-10",{"data-line":"","children":" "}],"\n",["$","span","span-11",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// factory function creating proxified Lang object"}]}],"\n",["$","span","span-12",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"function"}],["$","span","span-1",{"style":{"color":"#61AFEF"},"children":" factory"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-3",{"style":{"color":"#E06C75","fontStyle":"italic"},"children":"langObj"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-5",{"style":{"color":"#E5C07B"},"children":"Lang"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":") {"}]]}],"\n",["$","span","span-13",{"data-line":"","children":" "}],"\n",["$","span","span-14",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // The proxy intercepts the object access"}]}],"\n",["$","span","span-15",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  const"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" obj"}],["$","span","span-2",{"style":{"color":"#56B6C2"},"children":" ="}],["$","span","span-3",{"style":{"color":"#C678DD"},"children":" new"}],["$","span","span-4",{"style":{"color":"#61AFEF"},"children":" Proxy"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-6",{"style":{"color":"#E06C75"},"children":"langObj"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":", {"}]]}],"\n","$L44","\n","$L45","\n","$L46","\n","$L47","\n","$L48","\n","$L49","\n","$L4a","\n","$L4b","\n","$L4c","\n","$L4d","\n","$L4e","\n","$L4f","\n","$L50","\n","$L51","\n","$L52","\n","$L53","\n","$L54","\n","$L55","\n","$L56","\n","$L57","\n","$L58"]}]}]}]
27:["$","p","p-10",{"children":"There are also few modifications needed in the LocalizedString component."}]
28:["$","figure","figure-4",{"data-rehype-pretty-code-figure":"","children":["$","pre","pre-0",{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":0,"data-language":"tsx","data-theme":"one-dark-pro","children":["$","code","code-0",{"data-language":"tsx","data-theme":"one-dark-pro","style":{"display":"grid"},"children":[["$","span","span-0",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"function"}],["$","span","span-1",{"style":{"color":"#61AFEF"},"children":" LocalizedString"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"({ "}],["$","span","span-3",{"style":{"color":"#E06C75","fontStyle":"italic"},"children":"id"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":" }: { "}],["$","span","span-5",{"style":{"color":"#E06C75"},"children":"id"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-7",{"style":{"color":"#E5C07B"},"children":"string"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":" }) {"}]]}],"\n",["$","span","span-1",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  return"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" R"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-3",{"style":{"color":"#61AFEF"},"children":"path"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":"("}]]}],"\n",["$","span","span-2",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"    // add access to GET_VALUE"}]}],"\n",["$","span","span-3",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"    // highlight-next-line"}]}],"\n",["$","span","span-4",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E06C75"},"children":"    id"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"["}],["$","span","span-2",{"style":{"color":"#E5C07B"},"children":"GET_VALUE"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"]"}]]}],"\n",["$","span","span-5",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"    ."}],["$","span","span-1",{"style":{"color":"#61AFEF"},"children":"split"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-3",{"style":{"color":"#98C379"},"children":"\".\""}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":"))("}],["$","span","span-5",{"style":{"color":"#E06C75"},"children":"currentLanguageObject"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":");"}]]}],"\n",["$","span","span-6",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}]]}]}]}]
29:["$","p","p-11",{"children":["The core idea is to ",["$","strong","strong-0",{"children":"record the key at every access"}]," using Proxy. By lying to TS compiler about the actual type of the lang, all the type related features are naturally enabled, like the autocompletion showing in the picture below."]}]
2a:["$","p","p-12",{"children":["$","$L59","img-0",{"src":"/articles/asset/contents/20190416-strongly-typed-i18n/lang-autocompletion.png","imageSize":{"height":532,"width":1058},"imageProps":{"src":"./lang-autocompletion.png","alt":"Lang object autocompletion"}}]}]
2b:["$","p","p-13",{"children":["By making the proxy object ",["$","strong","strong-0",{"children":"immutable"}],", we can introduce a common object containing the ",["$","strong","strong-1",{"children":"common prefix"}]," without sacrificing type inferenece, resulting in cleaner code, especially when multiple components are needed."]}]
2c:["$","figure","figure-5",{"data-rehype-pretty-code-figure":"","children":["$","pre","pre-0",{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":0,"data-language":"tsx","data-theme":"one-dark-pro","children":["$","code","code-0",{"data-language":"tsx","data-theme":"one-dark-pro","style":{"display":"grid"},"children":[["$","span","span-0",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// Previously"}]}],"\n",["$","span","span-1",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":"LocalizedString"}],["$","span","span-2",{"style":{"color":"#D19A66","fontStyle":"italic"},"children":" id"}],["$","span","span-3",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-4",{"style":{"color":"#C678DD"},"children":"{"}],["$","span","span-5",{"style":{"color":"#E5C07B"},"children":"lang"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-7",{"style":{"color":"#E5C07B"},"children":"app"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-9",{"style":{"color":"#E5C07B"},"children":"header"}],["$","span","span-10",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-11",{"style":{"color":"#E5C07B"},"children":"userIndicator"}],["$","span","span-12",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-13",{"style":{"color":"#E5C07B"},"children":"loggedIn"}],["$","span","span-14",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-15",{"style":{"color":"#E5C07B"},"children":"dropdown"}],["$","span","span-16",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-17",{"style":{"color":"#E5C07B"},"children":"login"}],["$","span","span-18",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-19",{"style":{"color":"#E5C07B"},"children":"button"}],["$","span","span-20",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-21",{"style":{"color":"#E06C75"},"children":"text"}],["$","span","span-22",{"style":{"color":"#C678DD"},"children":"}"}],["$","span","span-23",{"style":{"color":"#ABB2BF"},"children":" />"}]]}],"\n",["$","span","span-2",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":"LocalizedString"}],["$","span","span-2",{"style":{"color":"#D19A66","fontStyle":"italic"},"children":" id"}],["$","span","span-3",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-4",{"style":{"color":"#C678DD"},"children":"{"}],["$","span","span-5",{"style":{"color":"#E5C07B"},"children":"lang"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-7",{"style":{"color":"#E5C07B"},"children":"app"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-9",{"style":{"color":"#E5C07B"},"children":"header"}],["$","span","span-10",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-11",{"style":{"color":"#E5C07B"},"children":"userIndicator"}],["$","span","span-12",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-13",{"style":{"color":"#E5C07B"},"children":"loggedIn"}],["$","span","span-14",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-15",{"style":{"color":"#E5C07B"},"children":"dropdown"}],["$","span","span-16",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-17",{"style":{"color":"#E5C07B"},"children":"username"}],["$","span","span-18",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-19",{"style":{"color":"#E5C07B"},"children":"button"}],["$","span","span-20",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-21",{"style":{"color":"#E06C75"},"children":"text"}],["$","span","span-22",{"style":{"color":"#C678DD"},"children":"}"}],["$","span","span-23",{"style":{"color":"#ABB2BF"},"children":" />"}]]}],"\n",["$","span","span-3",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":"LocalizedString"}],["$","span","span-2",{"style":{"color":"#D19A66","fontStyle":"italic"},"children":" id"}],["$","span","span-3",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-4",{"style":{"color":"#C678DD"},"children":"{"}],["$","span","span-5",{"style":{"color":"#E5C07B"},"children":"lang"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-7",{"style":{"color":"#E5C07B"},"children":"app"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-9",{"style":{"color":"#E5C07B"},"children":"header"}],["$","span","span-10",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-11",{"style":{"color":"#E5C07B"},"children":"userIndicator"}],["$","span","span-12",{"style":{"color":"#ABB2BF"},"children":"."}],"$L5a","$L5b","$L5c","$L5d","$L5e","$L5f","$L60","$L61","$L62","$L63","$L64"]}],"\n","$L65","\n","$L66","\n","$L67","\n","$L68","\n","$L69","\n","$L6a","\n","$L6b","\n","$L6c"]}]}]}]
2d:["$","p","p-14",{"children":["$","$L59","img-0",{"src":"/articles/asset/contents/20190416-strongly-typed-i18n/root-autocompletion.png","imageSize":{"height":350,"width":907},"imageProps":{"src":"./root-autocompletion.png","alt":"root object autocompletion"}}]}]
6d:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z2e:["$","h1","h1-3",{"id":"drawbacks-and-conclusion","children":[["$","a","drawbacks-and-conclusion",{"href":"#drawbacks-and-conclusion","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$6d","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"Drawbacks and Conclusion"]}]
2f:["$","p","p-15",{"children":["The benefits of this solution is obvious: ",["$","strong","strong-0",{"children":["all the aforementional ",["$","a","a-0",{"href":"#benefits","children":"benefits"}]," with type inference"]}],". Therefore, it is wildly adopted in all my projects, including this ",["$","a","a-0",{"href":"https://github.com/vicblog/VicBlog-Gatsby","children":"VicBlog"}]," and my Citi Competition project. On the other hand, it is also worth noting that there are some drawbacks."]}]
30:["$","ul","ul-2",{"children":["\n",["$","li","li-0",{"children":"Proxy performance hit"}],"\n",["$","li","li-1",{"children":"Too many lang objects and might add to GC burden"}],"\n",["$","li","li-2",{"children":"Since the Lang object is immutable and different every time, LocalizedString component might be frequently updated"}],"\n"]}]
31:["$","p","p-16",{"children":["I believe that type information is important in every periods of programming, including designing, coding, debugging and maintaining, since it significantly helps programmer ",["$","strong","strong-0",{"children":"avoid stupid bugs"}]," and ",["$","strong","strong-1",{"children":"reduce the time and frustration"}]," in finding these bugs. Type inference also ",["$","strong","strong-2",{"children":"increases efficiency"}]," quite radically, since well-designed code can be used as ",["$","strong","strong-3",{"children":"never-out-of-date docs which are also invaluable in team collabration"}],". As a result, personally I would prefer strongly typed programming languages and styles and try to use it anywhere possible."]}]
32:["$","div",null,{"className":"hidden lg:block lg:w-[25%]","children":["$","$L6e",null,{"toc":[{"depth":1,"value":"i18n and The \"Raw String\" Problem","id":"i18n-and-the-raw-string-problem","children":[{"depth":2,"value":"Text Placeholder (Id)","id":"text-placeholder-id"},{"depth":2,"value":"Defining the Mapping from Id to Content","id":"defining-the-mapping-from-id-to-content"},{"depth":2,"value":"Applying the Id","id":"applying-the-id"},{"depth":2,"value":"Benefits","id":"benefits"},{"depth":2,"value":"The \"Raw String\" Problem","id":"the-raw-string-problem"}]},{"depth":1,"value":"Make it Strongly Typed","id":"make-it-strongly-typed"},{"depth":1,"value":"Strongly Typed Id","id":"strongly-typed-id"},{"depth":1,"value":"Drawbacks and Conclusion","id":"drawbacks-and-conclusion"}],"hasSummary":true}]}]
33:["$","div",null,{"className":"max-w-7xl mx-auto p-4","children":["$","$L6f",null,{"relatedArticles":[]}]}]
34:["$","div",null,{"className":"max-w-7xl mx-auto p-4","children":["$","$L70",null,{"articleId":"strongly-typed-i18n-with-typescript","articleTitle":"Strongly Typed i18n with TypeScript"}]}]
37:null
3e:["$","span","span-11",{"style":{"color":"#E06C75"},"children":"text"}]
3f:["$","span","span-12",{"style":{"color":"#C678DD"},"children":"}"}]
40:["$","span","span-13",{"style":{"color":"#ABB2BF"},"children":" />"}]
41:["$","td","td-2",{"children":["- Losing the abilities to ",["$","strong","strong-0",{"children":"fallback"}]]}]
42:["$","tr","tr-3",{"children":[["$","td","td-0",{"children":"Accessing the store (or context) containing language object in the component"}],["$","td","td-1",{"children":["$","span","span-0",{"data-rehype-pretty-code-figure":"","children":["$","code","code-0",{"data-language":"tsx","data-theme":"one-dark-pro","style":{"backgroundColor":"#282c34","color":"#abb2bf"},"children":["$","span","span-0",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E5C07B"},"children":"context"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-2",{"style":{"color":"#E5C07B"},"children":"language"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-4",{"style":{"color":"#E5C07B"},"children":"login"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-6",{"style":{"color":"#E5C07B"},"children":"bottom"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-8",{"style":{"color":"#E06C75"},"children":"text"}]]}]}]}]}],["$","td","td-2",{"children":["- Verbose",["$","br","br-0",{}],"- Unnecessarily coupled"]}]]}]
44:["$","span","span-16",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#61AFEF"},"children":"    get"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":": ("}],["$","span","span-2",{"style":{"color":"#E06C75","fontStyle":"italic"},"children":"t"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-4",{"style":{"color":"#E06C75","fontStyle":"italic"},"children":"k"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":") "}],["$","span","span-6",{"style":{"color":"#C678DD"},"children":"=>"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":" {"}]]}]
45:["$","span","span-17",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"      // if the key is GET_VALUE symbol, return the keys joined with \".\""}]}]
46:["$","span","span-18",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"      if"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" ("}],["$","span","span-2",{"style":{"color":"#E06C75"},"children":"k"}],["$","span","span-3",{"style":{"color":"#56B6C2"},"children":" ==="}],["$","span","span-4",{"style":{"color":"#E5C07B"},"children":" GET_VALUE"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":") {"}]]}]
47:["$","span","span-19",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"        return"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" langObj"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"paths"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-5",{"style":{"color":"#61AFEF"},"children":"join"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-7",{"style":{"color":"#98C379"},"children":"\".\""}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":");"}]]}]
48:["$","span","span-20",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"      }"}]}]
49:["$","span","span-21",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"      // if not, record the current key and generate another proxified Lang object"}]}]
4a:["$","span","span-22",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"      // making the Lang object immutable"}]}]
4b:["$","span","span-23",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"      // more on that later"}]}]
4c:["$","span","span-24",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"      return"}],["$","span","span-1",{"style":{"color":"#61AFEF"},"children":" factory"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-3",{"style":{"color":"#C678DD"},"children":"new"}],["$","span","span-4",{"style":{"color":"#61AFEF"},"children":" Lang"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":"([..."}],["$","span","span-6",{"style":{"color":"#E5C07B"},"children":"t"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-8",{"style":{"color":"#E06C75"},"children":"paths"}],["$","span","span-9",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-10",{"style":{"color":"#E06C75"},"children":"k"}],["$","span","span-11",{"style":{"color":"#ABB2BF"},"children":"]));"}]]}]
4d:["$","span","span-25",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"    },"}]}]
4e:["$","span","span-26",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"  }) "}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":"as"}],["$","span","span-2",{"style":{"color":"#E5C07B"},"children":" any"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":";"}]]}]
4f:["$","span","span-27",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  return"}],["$","span","span-1",{"style":{"color":"#E06C75"},"children":" obj"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":";"}]]}]
50:["$","span","span-28",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}]
51:["$","span","span-29",{"data-line":"","children":" "}]
52:["$","span","span-30",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// The root proxified Lang object"}]}]
53:["$","span","span-31",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"const"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" lang"}],["$","span","span-2",{"style":{"color":"#56B6C2"},"children":" ="}],["$","span","span-3",{"style":{"color":"#61AFEF"},"children":" factory"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-5",{"style":{"color":"#C678DD"},"children":"new"}],["$","span","span-6",{"style":{"color":"#61AFEF"},"children":" Lang"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":"([]));"}]]}]
54:["$","span","span-32",{"data-line":"","children":" "}]
55:["$","span","span-33",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// Lie to TS compiler"}]}]
56:["$","span","span-34",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// that lang object is of type Definitions (the type of language object)"}]}]
57:["$","span","span-35",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// and export the object"}]}]
58:["$","span","span-36",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"export"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" default"}],["$","span","span-2",{"style":{"color":"#E06C75"},"children":" lang"}],["$","span","span-3",{"style":{"color":"#C678DD"},"children":" as"}],["$","span","span-4",{"style":{"color":"#E5C07B"},"children":" Definitions"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":";"}]]}]
5a:["$","span","span-13",{"style":{"color":"#E5C07B"},"children":"loggedIn"}]
5b:["$","span","span-14",{"style":{"color":"#ABB2BF"},"children":"."}]
5c:["$","span","span-15",{"style":{"color":"#E5C07B"},"children":"dropdown"}]
5d:["$","span","span-16",{"style":{"color":"#ABB2BF"},"children":"."}]
5e:["$","span","span-17",{"style":{"color":"#E5C07B"},"children":"logout"}]
5f:["$","span","span-18",{"style":{"color":"#ABB2BF"},"children":"."}]
60:["$","span","span-19",{"style":{"color":"#E5C07B"},"children":"button"}]
61:["$","span","span-20",{"style":{"color":"#ABB2BF"},"children":"."}]
62:["$","span","span-21",{"style":{"color":"#E06C75"},"children":"text"}]
63:["$","span","span-22",{"style":{"color":"#C678DD"},"children":"}"}]
64:["$","span","span-23",{"style":{"color":"#ABB2BF"},"children":" />"}]
65:["$","span","span-4",{"data-line":"","children":" "}]
66:["$","span","span-5",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// With root object"}]}]
67:["$","span","span-6",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"const"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" root"}],["$","span","span-2",{"style":{"color":"#56B6C2"},"children":" ="}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":" lang"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-5",{"style":{"color":"#E5C07B"},"children":"app"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-7",{"style":{"color":"#E5C07B"},"children":"header"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-9",{"style":{"color":"#E5C07B"},"children":"userIndicator"}],["$","span","span-10",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-11",{"style":{"color":"#E5C07B"},"children":"loggedIn"}],["$","span","span-12",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-13",{"style":{"color":"#E06C75"},"children":"dropdown"}],["$","span","span-14",{"style":{"color":"#ABB2BF"},"children":";"}]]}]
68:["$","span","span-7",{"data-line":"","children":" "}]
69:["$","span","span-8",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":"LocalizedString"}],["$","span","span-2",{"style":{"color":"#D19A66","fontStyle":"italic"},"children":" id"}],["$","span","span-3",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-4",{"style":{"color":"#C678DD"},"children":"{"}],["$","span","span-5",{"style":{"color":"#E5C07B"},"children":"root"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-7",{"style":{"color":"#E5C07B"},"children":"login"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-9",{"style":{"color":"#E5C07B"},"children":"buttom"}],["$","span","span-10",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-11",{"style":{"color":"#E06C75"},"children":"text"}],["$","span","span-12",{"style":{"color":"#C678DD"},"children":"}"}],["$","span","span-13",{"style":{"color":"#ABB2BF"},"children":" />"}]]}]
6a:["$","span","span-9",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":"LocalizedString"}],["$","span","span-2",{"style":{"color":"#D19A66","fontStyle":"italic"},"children":" id"}],["$","span","span-3",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-4",{"style":{"color":"#C678DD"},"children":"{"}],["$","span","span-5",{"style":{"color":"#E5C07B"},"children":"root"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-7",{"style":{"color":"#E5C07B"},"children":"username"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-9",{"style":{"color":"#E5C07B"},"children":"buttom"}],["$","span","span-10",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-11",{"style":{"color":"#E06C75"},"children":"text"}],["$","span","span-12",{"style":{"color":"#C678DD"},"children":"}"}],["$","span","span-13",{"style":{"color":"#ABB2BF"},"children":" />"}]]}]
6b:["$","span","span-10",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":"LocalizedString"}],["$","span","span-2",{"style":{"color":"#D19A66","fontStyle":"italic"},"children":" id"}],["$","span","span-3",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-4",{"style":{"color":"#C678DD"},"children":"{"}],["$","span","span-5",{"style":{"color":"#E5C07B"},"children":"root"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-7",{"style":{"color":"#E5C07B"},"children":"logout"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-9",{"style":{"color":"#E5C07B"},"children":"buttom"}],["$","span","span-10",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-11",{"style":{"color":"#E06C75"},"children":"text"}],["$","span","span-12",{"style":{"color":"#C678DD"},"children":"}"}],["$","span","span-13",{"style":{"color":"#ABB2BF"},"children":" />"}]]}]
6c:["$","span","span-11",{"data-line":"","children":" "}]
