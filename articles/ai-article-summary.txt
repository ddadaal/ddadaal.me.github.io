3:I[2080,[],""]
5:I[3517,[],""]
4:["params","ai-article-summary","oc"]
0:["VQ90delr7YVTV9-BAZs0T",[[["",{"children":["articles",{"children":[["params","ai-article-summary","oc"],{"children":["__PAGE__?{\"params\":[\"ai-article-summary\"]}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["articles",{"children":[["params","ai-article-summary","oc"],{"children":["__PAGE__",{},[["$L1","$L2"],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","articles","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/03113452114c7082.css","precedence":"next","crossOrigin":"$undefined"}]]}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","articles","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},["$L6",null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/3daf2b50b39d4bbf.css","precedence":"next","crossOrigin":"$undefined"}]],"$L7"]]]]
7:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"博客集成AI文章总结功能 - ddadaal.me"}],["$","meta","3",{"name":"description","content":"ddadaal's personal website"}],["$","link","4",{"rel":"manifest","href":"/site.webmanifest","crossOrigin":"use-credentials"}],["$","link","5",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}],["$","link","6",{"rel":"icon","href":"/icon.svg?35be8e76be1c3618","type":"image/svg+xml","sizes":"any"}],["$","link","7",{"rel":"apple-touch-icon","href":"/apple-icon.png?5334a64f42000bb0","type":"image/png","sizes":"180x180"}]]
1:null
8:I[188,["156","static/chunks/da31e3a9-cb77f1867f59af65.js","587","static/chunks/6eb71dd8-cd7756918fe71e95.js","431","static/chunks/e1bbbf97-b7950aa5db0d9ea7.js","73","static/chunks/1b3e99d6-e303e66e6bbada21.js","392","static/chunks/392-683f5ff9f5577351.js","843","static/chunks/843-bb32ed17e6a9c040.js","775","static/chunks/775-194127a2aa233ea9.js","464","static/chunks/app/articles/%5B%5B...params%5D%5D/page-bf3c5160bbc90ae2.js"],"ArticleFrontmatter"]
b:I[7466,["156","static/chunks/da31e3a9-cb77f1867f59af65.js","587","static/chunks/6eb71dd8-cd7756918fe71e95.js","431","static/chunks/e1bbbf97-b7950aa5db0d9ea7.js","73","static/chunks/1b3e99d6-e303e66e6bbada21.js","392","static/chunks/392-683f5ff9f5577351.js","843","static/chunks/843-bb32ed17e6a9c040.js","775","static/chunks/775-194127a2aa233ea9.js","464","static/chunks/app/articles/%5B%5B...params%5D%5D/page-bf3c5160bbc90ae2.js"],"RelatedArticles"]
c:I[4111,["156","static/chunks/da31e3a9-cb77f1867f59af65.js","587","static/chunks/6eb71dd8-cd7756918fe71e95.js","431","static/chunks/e1bbbf97-b7950aa5db0d9ea7.js","73","static/chunks/1b3e99d6-e303e66e6bbada21.js","392","static/chunks/392-683f5ff9f5577351.js","843","static/chunks/843-bb32ed17e6a9c040.js","775","static/chunks/775-194127a2aa233ea9.js","464","static/chunks/app/articles/%5B%5B...params%5D%5D/page-bf3c5160bbc90ae2.js"],"CommentPanelWithCurrentLanguage"]
9:T25ee,
# 一条朋友圈的提示

当昨天的[2023年总结](/articles/summary-for-2023)发出后，朋友圈有人对文章做出了总结，这启发了我，何不自己用AI给文章加个总结功能呢？正好也是第一次在真实场景中实装AI功能，看看目前在真实项目中集成AI需要什么步骤，体验怎么样，能做到什么功能。

![朋友圈锐总结](./weixin-summary.png)

# 选择AI服务

确定了要做这事，下一步就开始调研应该用什么AI服务。


第一反应肯定用[OpenAI API](https://openai.com/blog/openai-api)，去年某段时间注册OpenAI账号不需要手机号，趁着这个机会直接注册了一个，至少最基本的ChatGPT可以用GPT 3.5模型聊天了。而当我想去用OpenAI的API的时候，发现要获得OpenAI的API需要验证手机号，而国内手机号当然验证不了的。除了手机号，支付方式也是一个问题，虽然我有国内银行的VISA卡但是似乎仍然不能使用。

![国内手机号无法验证OpenAI API](./openai-china-phone-not-available.png)

于是接下来我想到了公司的[Azure OpenAI](https://azure.microsoft.com/en-us/products/ai-services/openai-service)服务。虽然Azure的服务都偏贵，但是由于公司每年都给员工送150刀的Azure额度，所以一点简单的应用还是可以开发的。可是真的去注册的时候发现Azure OpenAI Service并没有完全开放给所有客户，要注册必须填个注册表，且必须以公司身份注册。

![Azure OpenAI服务并未面向大众开放](./azure-openai-limit.png)

正当我在想“不会要去找国产服务了吧”的时候，我想到两个月前在Ignite上亮相的[Azure AI Studio](https://azure.microsoft.com/en-us/products/ai-studio)。仔细研究了下，发现这个功能本身只是一个集成平台，它是基于一些已经已经发布的[Azure AI服务](https://learn.microsoft.com/en-us/azure/ai-services/)，而上面想尝试的Azure OpenAI只是这些服务内的一个。在这些服务中，有一个[Language服务](https://learn.microsoft.com/en-us/azure/ai-services/language-service/)，正好用于处理自然语言的场景，而其中正好还自带了[Summarization](https://learn.microsoft.com/en-us/azure/ai-services/language-service/summarization/overview?tabs=document-summarization)功能，其中的Abstractive summarization模式只要输入文本，它就能输出一段总结这段文本的文字。

一切都是正好。微软爸爸真懂我。

# 使用Azure AI Language Service

根据[Quickstart文档](https://learn.microsoft.com/en-us/azure/ai-services/language-service/summarization/quickstart?tabs=document-summarization%2Clinux&pivots=programming-language-javascript)，我们首先需要创建了一个[Language资源](https://portal.azure.com/#create/Microsoft.CognitiveServicesTextAnalytics)，获取资源对应的endpoint以及key。

文章总结功能的一大好处是这个功能**不需要实时交互**。也就是说，我可以在后台把总结生成好，像文章内容本身一样作为静态资源放在仓库里。这样，我们根本不需要能够支持大量调用的AI服务，只要运行一次，就完全可以使用了。创建的资源的时候，每个subscription可以创建一个免费的资源，我们本来也就不到50篇文章，免费的资源就完全够用了。

![创建好的Azure Language资源](./azure-language-resource.png)

接下来需要在项目中安装SDK来使用这个资源。我们的博客使用的是Node.js，于是我们选择Node.js继续进行下一步。使用`npm install --save @azure/ai-language-text@1.1.0`安装SDK后，根据指示直接在项目使用SDK即可。

由于只要内容不变，总结就没有必要更新，所以最简单最直接的做法，就是直接放在本地写个脚本，读取文章的内容，然后把文章内容的markdown直接一股脑送给服务获得内容的总结，然后把总结的内容生成到文章对应的目录下，读取文章的时候顺便读取生成的总结，然后在UI中渲染就好。

```ts title="ai/summarize.mts"
// 总结文本
async function summarize(text: string, languageCode: string): Promise<string[] | Error> {
  const lro = await client.beginAnalyzeBatch([
    // 使用AbstractiveSummarization模式
    { kind: "AbstractiveSummarization" },
    // 根据文章的语言指定所使用的语言，实现中文文章输出中文总结，英文文章输出英文总结
  ], [text], languageCode);

  // 这是个耗时操作，等待耗时操作结束
  const results = await lro.pollUntilDone();

  for await (const actionResult of results) {
    if (actionResult.kind !== "AbstractiveSummarization") {
      return new Error(`Expected extractive summarization results but got: ${actionResult.kind}`);
    }
    if (actionResult.error) {
      const { code, message } = actionResult.error;
      return new Error(`Unexpected error (${code}): ${message}`);
    }

    for (const result of actionResult.results) {
      if (result.error) {
        const { code, message } = result.error;
        return new Error(`Unexpected error (${code}): ${message}`);
      }

      // 返回输出的结果
      return result.summaries.map((x) => x.text);
    }
  }

  throw new Error("No result");
}

async function summarizeArticle(articleDir: string) {
  // 获取此文章的所有markdown文件
  const mdFiles = (await readdir(articleDir)).filter((x) => x.endsWith(".md"));

  for (const mdFile of mdFiles) {
    const mdFilePath = join(articleDir, mdFile);

    // 读取并解析文章内容
    const mdContent = await readFile(mdFilePath, "utf-8");
    const { data: frontMatter, content } = matter(mdContent);

    // 计算并更新文章Hash，如果文章内容hash没有变，之后就不要重新生成总结了
    const contentHash = hashContent(content);

    const summaryJsonFilePath = join(articleDir, `${frontMatter.lang}.summary.json`);

    if (existsSync(summaryJsonFilePath) && (await stat(summaryJsonFilePath)).isFile()) {
      const existingSummaryJson: ArticleSummary = JSON.parse(await readFile(summaryJsonFilePath, "utf-8"));

      existingSummaryJson.hash = contentHash;

      if (contentHash === existingSummaryJson.hash) {
        log("log", "Content is not changed after the last summarization. Skip summarization.");
        continue;
      }
    }

    // 总结文本
    const summary = await summarize(content,
      azureLanguageCodeMap[frontMatter.lang as keyof typeof azureLanguageCodeMap]);

    if (summary instanceof Error) {
      log("error", "Error on summarizing %s of lang %s: %s", frontMatter.id, frontMatter.lang, summary.message);
      continue;
    }

    // 在文章目录下生成一个[语言id].summary.json文件，存放内容hash、总结以及相关操作信息
    const summaryJson: ArticleSummary = {
      articleId: frontMatter.id,
      lang: frontMatter.lang,
      lastUpdateStartTime: startTime,
      lastUpdateEndTime: new Date().toISOString(),
      summaries: summary,
      hash: contentHash,
    };

    log("log", "Write summary of %s of lang %s to %s", frontMatter.id, frontMatter.lang, summaryJsonFilePath);

    await writeFile(summaryJsonFilePath, JSON.stringify(summaryJson, null, 2));
  }
}

```

# 效果

最终效果嘛，你在打开本文章的时候应该就看到了。如果一篇文章能够成功生成总结，那么文章页面的一开头，以及右侧的目录部分就会有**AI总结**这部分内容。

![效果图](./article-summary-live.png)

为什么说“如果可以成功生成总结”呢？在具体操作中，[2020年总结](/articles/summary-for-2020)这篇文章死活不能生成总结。

![一篇文章无法生成总结](./failed-to-generate-summary.png)

而对应成功生成总结的文章，总的来说英文文章的总结效果显著好于中文文章。例如，[An Infinite Loop Caused by Updating a Map during Iteration](/articles/an-infinite-loop-caused-by-updating-a-Map-during-iteration)这篇文章的总结包括了问题描述、问题解决过程以及最终的解决方案，语言流畅，逻辑清晰；

> The author encountered a problem during the development of the 2.0 version of [simstate], where an infinite loop occurred during the iteration of a set of ' observers' stored in a ES6 Map. The problem was initially confused due to the Map having only one element and remaining unchanged between and inside loops. However, after investigation, the author discovered that the root of the problem was the call to observer, which alters the Map itself during iteration. This led to the infinite loop, even when deleting and re-adding an entry during iteration.

而同样类型的[问题探究](https://ddadaal.me/articles/search?query=problem-investigation)类文章[一次生产环境的文件丢失事故：复盘和教训](/articles/summary-of-a-file-lost-accident)，得出的总结就过于简单，而且也没有找到问题重点，得出的文本中甚至都是英文标点。

> 作者通过log、数据库数据等找到了受到影响的用户,通过邮箱、电话和短信提醒他们重新上传文件。

# 总结

这是我第一次在实际项目中运用AI，在充分的文档帮助下，整个过程花费了6个小时左右，其中集成这个功能可能花了1个小时左右，而最终的效果不能算非常完美，但是也是是差强人意。在2023年的最后一天完成这个过程，在新年的第一天给博客实现这个新的功能，也算是一个新年礼物了吧。在AI的时代，与其害怕AI替代自己，不如主动拥抱AI提高生产效率，而这对于从业者的我们天生就有优势。
2:["$","article",null,{"children":[["$","div",null,{"className":"bg-neutral px-4 py-8","children":["$","div",null,{"className":"max-w-7xl mx-auto min-h-[256px] flex justify-center text-center text-neutral-content","children":["$","div",null,{"className":"flex flex-col justify-center animate-slide-up","children":[["$","h1",null,{"className":"text-4xl my-2","children":"博客集成AI文章总结功能"}],["$","$L8",null,{"className":"justify-center","articleId":"ai-article-summary","info":{"content":"$9","title":"博客集成AI文章总结功能","date":"2024-01-01 10:20","id":"ai-article-summary","lang":"cn","tags":["blog"],"related":"$undefined","ignored_in_list":"$undefined","hide_heading":"$undefined","no_toc":"$undefined","absolute_path":"$undefined","last_updated":"$undefined","wordCount":1930,"readingTime":9.65,"filePath":"contents/20240101-ai-article-summary/cn.md","summaries":["他选择了OpenAI API,但由于验证手机号和支付方式问题,他选择了一个Azure OpenAI服务。 在Azure OpenAR服务中,他发现Azure AI Studio是一个集成平台,基于一些已经发布的Azure AI服务。 他创建了一个Azure Language资源,然后安装SDK来使用这个资源。 作者在项目中使用Node.js,直接在项目使用SDK即可。 这是作者第一次在实际项目中运用AI,整个过程花费了6个小时左右,最终的效果不能算非常完美,但是也是差强人意。"]},"langVersions":["cn"]}]]}]}]}],["$","div",null,{"className":"animate-slide-up","children":[["$","div",null,{"className":"max-w-7xl mx-auto p-4","children":"$La"}],["$","div",null,{"className":"max-w-7xl mx-auto p-4","children":["$","$Lb",null,{"relatedArticles":[]}]}],["$","div",null,{"className":"max-w-7xl mx-auto p-4","children":["$","$Lc",null,{"articleId":"ai-article-summary","articleTitle":"博客集成AI文章总结功能"}]}]]}]]}]
e:I[6052,["156","static/chunks/da31e3a9-cb77f1867f59af65.js","587","static/chunks/6eb71dd8-cd7756918fe71e95.js","431","static/chunks/e1bbbf97-b7950aa5db0d9ea7.js","73","static/chunks/1b3e99d6-e303e66e6bbada21.js","392","static/chunks/392-683f5ff9f5577351.js","843","static/chunks/843-bb32ed17e6a9c040.js","775","static/chunks/775-194127a2aa233ea9.js","464","static/chunks/app/articles/%5B%5B...params%5D%5D/page-bf3c5160bbc90ae2.js"],"Localized"]
f:I[45,["156","static/chunks/da31e3a9-cb77f1867f59af65.js","587","static/chunks/6eb71dd8-cd7756918fe71e95.js","431","static/chunks/e1bbbf97-b7950aa5db0d9ea7.js","73","static/chunks/1b3e99d6-e303e66e6bbada21.js","392","static/chunks/392-683f5ff9f5577351.js","843","static/chunks/843-bb32ed17e6a9c040.js","775","static/chunks/775-194127a2aa233ea9.js","464","static/chunks/app/articles/%5B%5B...params%5D%5D/page-bf3c5160bbc90ae2.js"],""]
10:I[1273,["156","static/chunks/da31e3a9-cb77f1867f59af65.js","587","static/chunks/6eb71dd8-cd7756918fe71e95.js","431","static/chunks/e1bbbf97-b7950aa5db0d9ea7.js","73","static/chunks/1b3e99d6-e303e66e6bbada21.js","392","static/chunks/392-683f5ff9f5577351.js","843","static/chunks/843-bb32ed17e6a9c040.js","775","static/chunks/775-194127a2aa233ea9.js","464","static/chunks/app/articles/%5B%5B...params%5D%5D/page-bf3c5160bbc90ae2.js"],"Gallery"]
1c:I[1547,["156","static/chunks/da31e3a9-cb77f1867f59af65.js","587","static/chunks/6eb71dd8-cd7756918fe71e95.js","431","static/chunks/e1bbbf97-b7950aa5db0d9ea7.js","73","static/chunks/1b3e99d6-e303e66e6bbada21.js","392","static/chunks/392-683f5ff9f5577351.js","843","static/chunks/843-bb32ed17e6a9c040.js","775","static/chunks/775-194127a2aa233ea9.js","464","static/chunks/app/articles/%5B%5B...params%5D%5D/page-bf3c5160bbc90ae2.js"],"ArticleToc"]
d:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z11:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z13:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z16:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z18:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z1b:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959za:["$","div",null,{"className":"flex flex-row space-x-4","children":[["$","div",null,{"className":"prose max-w-full lg:w-[75%]","children":[["$","div",null,{"className":"p-4 my-4 bg-neutral rounded shadow","children":[["$","h1",null,{"id":"summary","className":"text-neutral-content","children":[["$","a","summary",{"href":"#summary","className":"mr-1 text-neutral-content","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$d","children":[]}]]],"style":{"color":"$undefined"},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],["$","$Le","summaryTitle",{"id":"articlePage.summary.title"}]]}],[["$","p","0",{"className":"text-neutral-content","children":"他选择了OpenAI API,但由于验证手机号和支付方式问题,他选择了一个Azure OpenAI服务。 在Azure OpenAR服务中,他发现Azure AI Studio是一个集成平台,基于一些已经发布的Azure AI服务。 他创建了一个Azure Language资源,然后安装SDK来使用这个资源。 作者在项目中使用Node.js,直接在项目使用SDK即可。 这是作者第一次在实际项目中运用AI,整个过程花费了6个小时左右,最终的效果不能算非常完美,但是也是差强人意。"}]],["$","p",null,{"className":"text-sm justify-end flex text-neutral-content","children":["$","$Le",null,{"id":"articlePage.summary.poweredBy","args":[["$","$Lf","docUrl",{"target":"_blank","className":"text-neutral-content","href":"https://learn.microsoft.com/en-us/azure/ai-services/language-service/summarization/overview?tabs=document-summarization","children":"Azure AI Language Service"}]]}]}]]}],["$","$L10",null,{"withCaption":true,"id":"ai-article-summary","children":[["$","h1",null,{"id":"一条朋友圈的提示","children":[["$","a","一条朋友圈的提示",{"href":"#一条朋友圈的提示","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$11","children":[]}]]],"style":{"color":"$undefined"},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"一条朋友圈的提示"]}],"\n",["$","p","p-0",{"children":["当昨天的",["$","a","a-0",{"href":"/articles/summary-for-2023","children":"2023年总结"}],"发出后，朋友圈有人对文章做出了总结，这启发了我，何不自己用AI给文章加个总结功能呢？正好也是第一次在真实场景中实装AI功能，看看目前在真实项目中集成AI需要什么步骤，体验怎么样，能做到什么功能。"]}],"\n",["$","p","p-1",{"children":"$L12"}],"\n",["$","h1",null,{"id":"选择ai服务","children":[["$","a","选择ai服务",{"href":"#选择ai服务","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$13","children":[]}]]],"style":{"color":"$undefined"},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"选择AI服务"]}],"\n",["$","p","p-2",{"children":"确定了要做这事，下一步就开始调研应该用什么AI服务。"}],"\n",["$","p","p-3",{"children":["第一反应肯定用",["$","a","a-0",{"href":"https://openai.com/blog/openai-api","children":"OpenAI API"}],"，去年某段时间注册OpenAI账号不需要手机号，趁着这个机会直接注册了一个，至少最基本的ChatGPT可以用GPT 3.5模型聊天了。而当我想去用OpenAI的API的时候，发现要获得OpenAI的API需要验证手机号，而国内手机号当然验证不了的。除了手机号，支付方式也是一个问题，虽然我有国内银行的VISA卡但是似乎仍然不能使用。"]}],"\n",["$","p","p-4",{"children":"$L14"}],"\n",["$","p","p-5",{"children":["于是接下来我想到了公司的",["$","a","a-0",{"href":"https://azure.microsoft.com/en-us/products/ai-services/openai-service","children":"Azure OpenAI"}],"服务。虽然Azure的服务都偏贵，但是由于公司每年都给员工送150刀的Azure额度，所以一点简单的应用还是可以开发的。可是真的去注册的时候发现Azure OpenAI Service并没有完全开放给所有客户，要注册必须填个注册表，且必须以公司身份注册。"]}],"\n",["$","p","p-6",{"children":"$L15"}],"\n",["$","p","p-7",{"children":["正当我在想“不会要去找国产服务了吧”的时候，我想到两个月前在Ignite上亮相的",["$","a","a-0",{"href":"https://azure.microsoft.com/en-us/products/ai-studio","children":"Azure AI Studio"}],"。仔细研究了下，发现这个功能本身只是一个集成平台，它是基于一些已经已经发布的",["$","a","a-1",{"href":"https://learn.microsoft.com/en-us/azure/ai-services/","children":"Azure AI服务"}],"，而上面想尝试的Azure OpenAI只是这些服务内的一个。在这些服务中，有一个",["$","a","a-2",{"href":"https://learn.microsoft.com/en-us/azure/ai-services/language-service/","children":"Language服务"}],"，正好用于处理自然语言的场景，而其中正好还自带了",["$","a","a-3",{"href":"https://learn.microsoft.com/en-us/azure/ai-services/language-service/summarization/overview?tabs=document-summarization","children":"Summarization"}],"功能，其中的Abstractive summarization模式只要输入文本，它就能输出一段总结这段文本的文字。"]}],"\n",["$","p","p-8",{"children":"一切都是正好。微软爸爸真懂我。"}],"\n",["$","h1",null,{"id":"使用azure-ai-language-service","children":[["$","a","使用azure-ai-language-service",{"href":"#使用azure-ai-language-service","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$16","children":[]}]]],"style":{"color":"$undefined"},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"使用Azure AI Language Service"]}],"\n",["$","p","p-9",{"children":["根据",["$","a","a-0",{"href":"https://learn.microsoft.com/en-us/azure/ai-services/language-service/summarization/quickstart?tabs=document-summarization%2Clinux&pivots=programming-language-javascript","children":"Quickstart文档"}],"，我们首先需要创建了一个",["$","a","a-1",{"href":"https://portal.azure.com/#create/Microsoft.CognitiveServicesTextAnalytics","children":"Language资源"}],"，获取资源对应的endpoint以及key。"]}],"\n",["$","p","p-10",{"children":["文章总结功能的一大好处是这个功能",["$","strong","strong-0",{"children":"不需要实时交互"}],"。也就是说，我可以在后台把总结生成好，像文章内容本身一样作为静态资源放在仓库里。这样，我们根本不需要能够支持大量调用的AI服务，只要运行一次，就完全可以使用了。创建的资源的时候，每个subscription可以创建一个免费的资源，我们本来也就不到50篇文章，免费的资源就完全够用了。"]}],"\n",["$","p","p-11",{"children":"$L17"}],"\n",["$","p","p-12",{"children":["接下来需要在项目中安装SDK来使用这个资源。我们的博客使用的是Node.js，于是我们选择Node.js继续进行下一步。使用",["$","code","code-0",{"children":"npm install --save @azure/ai-language-text@1.1.0"}],"安装SDK后，根据指示直接在项目使用SDK即可。"]}],"\n",["$","p","p-13",{"children":"由于只要内容不变，总结就没有必要更新，所以最简单最直接的做法，就是直接放在本地写个脚本，读取文章的内容，然后把文章内容的markdown直接一股脑送给服务获得内容的总结，然后把总结的内容生成到文章对应的目录下，读取文章的时候顺便读取生成的总结，然后在UI中渲染就好。"}],"\n",["$","figure","figure-0",{"data-rehype-pretty-code-figure":"","children":[["$","figcaption","figcaption-0",{"data-rehype-pretty-code-title":"","data-language":"ts","data-theme":"one-dark-pro","children":"ai/summarize.mts"}],["$","pre","pre-0",{"style":{"backgroundColor":"#282c34","color":"#abb2bf"},"tabIndex":0,"data-language":"ts","data-theme":"one-dark-pro","children":["$","code","code-0",{"data-language":"ts","data-theme":"one-dark-pro","style":{"display":"grid"},"children":[["$","span","span-0",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"// 总结文本"}]}],"\n",["$","span","span-1",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"async"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" function"}],["$","span","span-2",{"style":{"color":"#61AFEF"},"children":" summarize"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-4",{"style":{"color":"#E06C75","fontStyle":"italic"},"children":"text"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-6",{"style":{"color":"#E5C07B"},"children":"string"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-8",{"style":{"color":"#E06C75","fontStyle":"italic"},"children":"languageCode"}],["$","span","span-9",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-10",{"style":{"color":"#E5C07B"},"children":"string"}],["$","span","span-11",{"style":{"color":"#ABB2BF"},"children":"): "}],["$","span","span-12",{"style":{"color":"#E5C07B"},"children":"Promise"}],["$","span","span-13",{"style":{"color":"#ABB2BF"},"children":"<"}],["$","span","span-14",{"style":{"color":"#E5C07B"},"children":"string"}],["$","span","span-15",{"style":{"color":"#ABB2BF"},"children":"[] | "}],["$","span","span-16",{"style":{"color":"#E5C07B"},"children":"Error"}],["$","span","span-17",{"style":{"color":"#ABB2BF"},"children":"> {"}]]}],"\n",["$","span","span-2",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  const"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" lro"}],["$","span","span-2",{"style":{"color":"#56B6C2"},"children":" ="}],["$","span","span-3",{"style":{"color":"#C678DD"},"children":" await"}],["$","span","span-4",{"style":{"color":"#E5C07B"},"children":" client"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-6",{"style":{"color":"#61AFEF"},"children":"beginAnalyzeBatch"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":"(["}]]}],"\n",["$","span","span-3",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"    // 使用AbstractiveSummarization模式"}]}],"\n",["$","span","span-4",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"    { "}],["$","span","span-1",{"style":{"color":"#E06C75"},"children":"kind"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-3",{"style":{"color":"#98C379"},"children":"\"AbstractiveSummarization\""}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":" },"}]]}],"\n",["$","span","span-5",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"    // 根据文章的语言指定所使用的语言，实现中文文章输出中文总结，英文文章输出英文总结"}]}],"\n",["$","span","span-6",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"  ], ["}],["$","span","span-1",{"style":{"color":"#E06C75"},"children":"text"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"], "}],["$","span","span-3",{"style":{"color":"#E06C75"},"children":"languageCode"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":");"}]]}],"\n",["$","span","span-7",{"data-line":"","children":" "}],"\n",["$","span","span-8",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // 这是个耗时操作，等待耗时操作结束"}]}],"\n",["$","span","span-9",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  const"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" results"}],["$","span","span-2",{"style":{"color":"#56B6C2"},"children":" ="}],["$","span","span-3",{"style":{"color":"#C678DD"},"children":" await"}],["$","span","span-4",{"style":{"color":"#E5C07B"},"children":" lro"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-6",{"style":{"color":"#61AFEF"},"children":"pollUntilDone"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":"();"}]]}],"\n",["$","span","span-10",{"data-line":"","children":" "}],"\n",["$","span","span-11",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  for"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" await"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":" ("}],["$","span","span-3",{"style":{"color":"#C678DD"},"children":"const"}],["$","span","span-4",{"style":{"color":"#E5C07B"},"children":" actionResult"}],["$","span","span-5",{"style":{"color":"#C678DD"},"children":" of"}],["$","span","span-6",{"style":{"color":"#E06C75"},"children":" results"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":") {"}]]}],"\n",["$","span","span-12",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"    if"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" ("}],["$","span","span-2",{"style":{"color":"#E5C07B"},"children":"actionResult"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-4",{"style":{"color":"#E06C75"},"children":"kind"}],["$","span","span-5",{"style":{"color":"#56B6C2"},"children":" !=="}],["$","span","span-6",{"style":{"color":"#98C379"},"children":" \"AbstractiveSummarization\""}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":") {"}]]}],"\n",["$","span","span-13",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"      return"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" new"}],["$","span","span-2",{"style":{"color":"#61AFEF"},"children":" Error"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-4",{"style":{"color":"#98C379"},"children":"`Expected extractive summarization results but got: "}],["$","span","span-5",{"style":{"color":"#C678DD"},"children":"$${"}],["$","span","span-6",{"style":{"color":"#E5C07B"},"children":"actionResult"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-8",{"style":{"color":"#E06C75"},"children":"kind"}],["$","span","span-9",{"style":{"color":"#C678DD"},"children":"}"}],["$","span","span-10",{"style":{"color":"#98C379"},"children":"`"}],["$","span","span-11",{"style":{"color":"#ABB2BF"},"children":");"}]]}],"\n",["$","span","span-14",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"    }"}]}],"\n",["$","span","span-15",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"    if"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" ("}],["$","span","span-2",{"style":{"color":"#E5C07B"},"children":"actionResult"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-4",{"style":{"color":"#E06C75"},"children":"error"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":") {"}]]}],"\n",["$","span","span-16",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"      const"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" { "}],["$","span","span-2",{"style":{"color":"#E5C07B"},"children":"code"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-4",{"style":{"color":"#E5C07B"},"children":"message"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":" } "}],["$","span","span-6",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-7",{"style":{"color":"#E5C07B"},"children":" actionResult"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-9",{"style":{"color":"#E06C75"},"children":"error"}],["$","span","span-10",{"style":{"color":"#ABB2BF"},"children":";"}]]}],"\n",["$","span","span-17",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"      return"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" new"}],["$","span","span-2",{"style":{"color":"#61AFEF"},"children":" Error"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-4",{"style":{"color":"#98C379"},"children":"`Unexpected error ("}],["$","span","span-5",{"style":{"color":"#C678DD"},"children":"$${"}],["$","span","span-6",{"style":{"color":"#E06C75"},"children":"code"}],["$","span","span-7",{"style":{"color":"#C678DD"},"children":"}"}],["$","span","span-8",{"style":{"color":"#98C379"},"children":"): "}],["$","span","span-9",{"style":{"color":"#C678DD"},"children":"$${"}],["$","span","span-10",{"style":{"color":"#E06C75"},"children":"message"}],["$","span","span-11",{"style":{"color":"#C678DD"},"children":"}"}],["$","span","span-12",{"style":{"color":"#98C379"},"children":"`"}],["$","span","span-13",{"style":{"color":"#ABB2BF"},"children":");"}]]}],"\n",["$","span","span-18",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"    }"}]}],"\n",["$","span","span-19",{"data-line":"","children":" "}],"\n",["$","span","span-20",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"    for"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" ("}],["$","span","span-2",{"style":{"color":"#C678DD"},"children":"const"}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":" result"}],["$","span","span-4",{"style":{"color":"#C678DD"},"children":" of"}],["$","span","span-5",{"style":{"color":"#E5C07B"},"children":" actionResult"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-7",{"style":{"color":"#E06C75"},"children":"results"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":") {"}]]}],"\n",["$","span","span-21",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"      if"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" ("}],["$","span","span-2",{"style":{"color":"#E5C07B"},"children":"result"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-4",{"style":{"color":"#E06C75"},"children":"error"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":") {"}]]}],"\n",["$","span","span-22",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"        const"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" { "}],["$","span","span-2",{"style":{"color":"#E5C07B"},"children":"code"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-4",{"style":{"color":"#E5C07B"},"children":"message"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":" } "}],["$","span","span-6",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-7",{"style":{"color":"#E5C07B"},"children":" result"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-9",{"style":{"color":"#E06C75"},"children":"error"}],["$","span","span-10",{"style":{"color":"#ABB2BF"},"children":";"}]]}],"\n",["$","span","span-23",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"        return"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" new"}],["$","span","span-2",{"style":{"color":"#61AFEF"},"children":" Error"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-4",{"style":{"color":"#98C379"},"children":"`Unexpected error ("}],["$","span","span-5",{"style":{"color":"#C678DD"},"children":"$${"}],["$","span","span-6",{"style":{"color":"#E06C75"},"children":"code"}],["$","span","span-7",{"style":{"color":"#C678DD"},"children":"}"}],["$","span","span-8",{"style":{"color":"#98C379"},"children":"): "}],["$","span","span-9",{"style":{"color":"#C678DD"},"children":"$${"}],["$","span","span-10",{"style":{"color":"#E06C75"},"children":"message"}],["$","span","span-11",{"style":{"color":"#C678DD"},"children":"}"}],["$","span","span-12",{"style":{"color":"#98C379"},"children":"`"}],["$","span","span-13",{"style":{"color":"#ABB2BF"},"children":");"}]]}],"\n",["$","span","span-24",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"      }"}]}],"\n",["$","span","span-25",{"data-line":"","children":" "}],"\n",["$","span","span-26",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"      // 返回输出的结果"}]}],"\n",["$","span","span-27",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"      return"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" result"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"summaries"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-5",{"style":{"color":"#61AFEF"},"children":"map"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"(("}],["$","span","span-7",{"style":{"color":"#E06C75","fontStyle":"italic"},"children":"x"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":") "}],["$","span","span-9",{"style":{"color":"#C678DD"},"children":"=>"}],["$","span","span-10",{"style":{"color":"#E5C07B"},"children":" x"}],["$","span","span-11",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-12",{"style":{"color":"#E06C75"},"children":"text"}],["$","span","span-13",{"style":{"color":"#ABB2BF"},"children":");"}]]}],"\n",["$","span","span-28",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"    }"}]}],"\n",["$","span","span-29",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"  }"}]}],"\n",["$","span","span-30",{"data-line":"","children":" "}],"\n",["$","span","span-31",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  throw"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" new"}],["$","span","span-2",{"style":{"color":"#61AFEF"},"children":" Error"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-4",{"style":{"color":"#98C379"},"children":"\"No result\""}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":");"}]]}],"\n",["$","span","span-32",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}],"\n",["$","span","span-33",{"data-line":"","children":" "}],"\n",["$","span","span-34",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"async"}],["$","span","span-1",{"style":{"color":"#C678DD"},"children":" function"}],["$","span","span-2",{"style":{"color":"#61AFEF"},"children":" summarizeArticle"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-4",{"style":{"color":"#E06C75","fontStyle":"italic"},"children":"articleDir"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-6",{"style":{"color":"#E5C07B"},"children":"string"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":") {"}]]}],"\n",["$","span","span-35",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"  // 获取此文章的所有markdown文件"}]}],"\n",["$","span","span-36",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  const"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" mdFiles"}],["$","span","span-2",{"style":{"color":"#56B6C2"},"children":" ="}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":" ("}],["$","span","span-4",{"style":{"color":"#C678DD"},"children":"await"}],["$","span","span-5",{"style":{"color":"#61AFEF"},"children":" readdir"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-7",{"style":{"color":"#E06C75"},"children":"articleDir"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":"))."}],["$","span","span-9",{"style":{"color":"#61AFEF"},"children":"filter"}],["$","span","span-10",{"style":{"color":"#ABB2BF"},"children":"(("}],["$","span","span-11",{"style":{"color":"#E06C75","fontStyle":"italic"},"children":"x"}],["$","span","span-12",{"style":{"color":"#ABB2BF"},"children":") "}],["$","span","span-13",{"style":{"color":"#C678DD"},"children":"=>"}],["$","span","span-14",{"style":{"color":"#E5C07B"},"children":" x"}],["$","span","span-15",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-16",{"style":{"color":"#61AFEF"},"children":"endsWith"}],["$","span","span-17",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-18",{"style":{"color":"#98C379"},"children":"\".md\""}],["$","span","span-19",{"style":{"color":"#ABB2BF"},"children":"));"}]]}],"\n",["$","span","span-37",{"data-line":"","children":" "}],"\n",["$","span","span-38",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"  for"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" ("}],["$","span","span-2",{"style":{"color":"#C678DD"},"children":"const"}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":" mdFile"}],["$","span","span-4",{"style":{"color":"#C678DD"},"children":" of"}],["$","span","span-5",{"style":{"color":"#E06C75"},"children":" mdFiles"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":") {"}]]}],"\n",["$","span","span-39",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"    const"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" mdFilePath"}],["$","span","span-2",{"style":{"color":"#56B6C2"},"children":" ="}],["$","span","span-3",{"style":{"color":"#61AFEF"},"children":" join"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-5",{"style":{"color":"#E06C75"},"children":"articleDir"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-7",{"style":{"color":"#E06C75"},"children":"mdFile"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":");"}]]}],"\n",["$","span","span-40",{"data-line":"","children":" "}],"\n",["$","span","span-41",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"    // 读取并解析文章内容"}]}],"\n",["$","span","span-42",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"    const"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" mdContent"}],["$","span","span-2",{"style":{"color":"#56B6C2"},"children":" ="}],["$","span","span-3",{"style":{"color":"#C678DD"},"children":" await"}],["$","span","span-4",{"style":{"color":"#61AFEF"},"children":" readFile"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-6",{"style":{"color":"#E06C75"},"children":"mdFilePath"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-8",{"style":{"color":"#98C379"},"children":"\"utf-8\""}],["$","span","span-9",{"style":{"color":"#ABB2BF"},"children":");"}]]}],"\n",["$","span","span-43",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"    const"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" { "}],["$","span","span-2",{"style":{"color":"#E06C75"},"children":"data"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-4",{"style":{"color":"#E5C07B"},"children":"frontMatter"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-6",{"style":{"color":"#E5C07B"},"children":"content"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":" } "}],["$","span","span-8",{"style":{"color":"#56B6C2"},"children":"="}],["$","span","span-9",{"style":{"color":"#61AFEF"},"children":" matter"}],["$","span","span-10",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-11",{"style":{"color":"#E06C75"},"children":"mdContent"}],["$","span","span-12",{"style":{"color":"#ABB2BF"},"children":");"}]]}],"\n",["$","span","span-44",{"data-line":"","children":" "}],"\n",["$","span","span-45",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"    // 计算并更新文章Hash，如果文章内容hash没有变，之后就不要重新生成总结了"}]}],"\n",["$","span","span-46",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"    const"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" contentHash"}],["$","span","span-2",{"style":{"color":"#56B6C2"},"children":" ="}],["$","span","span-3",{"style":{"color":"#61AFEF"},"children":" hashContent"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-5",{"style":{"color":"#E06C75"},"children":"content"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":");"}]]}],"\n",["$","span","span-47",{"data-line":"","children":" "}],"\n",["$","span","span-48",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"    const"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" summaryJsonFilePath"}],["$","span","span-2",{"style":{"color":"#56B6C2"},"children":" ="}],["$","span","span-3",{"style":{"color":"#61AFEF"},"children":" join"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-5",{"style":{"color":"#E06C75"},"children":"articleDir"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-7",{"style":{"color":"#98C379"},"children":"`"}],["$","span","span-8",{"style":{"color":"#C678DD"},"children":"$${"}],["$","span","span-9",{"style":{"color":"#E5C07B"},"children":"frontMatter"}],["$","span","span-10",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-11",{"style":{"color":"#E06C75"},"children":"lang"}],["$","span","span-12",{"style":{"color":"#C678DD"},"children":"}"}],["$","span","span-13",{"style":{"color":"#98C379"},"children":".summary.json`"}],["$","span","span-14",{"style":{"color":"#ABB2BF"},"children":");"}]]}],"\n",["$","span","span-49",{"data-line":"","children":" "}],"\n",["$","span","span-50",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"    if"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" ("}],["$","span","span-2",{"style":{"color":"#61AFEF"},"children":"existsSync"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-4",{"style":{"color":"#E06C75"},"children":"summaryJsonFilePath"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":") "}],["$","span","span-6",{"style":{"color":"#56B6C2"},"children":"&&"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":" ("}],["$","span","span-8",{"style":{"color":"#C678DD"},"children":"await"}],["$","span","span-9",{"style":{"color":"#61AFEF"},"children":" stat"}],["$","span","span-10",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-11",{"style":{"color":"#E06C75"},"children":"summaryJsonFilePath"}],["$","span","span-12",{"style":{"color":"#ABB2BF"},"children":"))."}],["$","span","span-13",{"style":{"color":"#61AFEF"},"children":"isFile"}],["$","span","span-14",{"style":{"color":"#ABB2BF"},"children":"()) {"}]]}],"\n",["$","span","span-51",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"      const"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" existingSummaryJson"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"ArticleSummary"}],["$","span","span-4",{"style":{"color":"#56B6C2"},"children":" ="}],["$","span","span-5",{"style":{"color":"#E5C07B"},"children":" JSON"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-7",{"style":{"color":"#61AFEF"},"children":"parse"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-9",{"style":{"color":"#C678DD"},"children":"await"}],["$","span","span-10",{"style":{"color":"#61AFEF"},"children":" readFile"}],["$","span","span-11",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-12",{"style":{"color":"#E06C75"},"children":"summaryJsonFilePath"}],["$","span","span-13",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-14",{"style":{"color":"#98C379"},"children":"\"utf-8\""}],["$","span","span-15",{"style":{"color":"#ABB2BF"},"children":"));"}]]}],"\n",["$","span","span-52",{"data-line":"","children":" "}],"\n",["$","span","span-53",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E5C07B"},"children":"      existingSummaryJson"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-2",{"style":{"color":"#E06C75"},"children":"hash"}],["$","span","span-3",{"style":{"color":"#56B6C2"},"children":" ="}],["$","span","span-4",{"style":{"color":"#E06C75"},"children":" contentHash"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":";"}]]}],"\n",["$","span","span-54",{"data-line":"","children":" "}],"\n",["$","span","span-55",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"      if"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" ("}],["$","span","span-2",{"style":{"color":"#E06C75"},"children":"contentHash"}],["$","span","span-3",{"style":{"color":"#56B6C2"},"children":" ==="}],["$","span","span-4",{"style":{"color":"#E5C07B"},"children":" existingSummaryJson"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-6",{"style":{"color":"#E06C75"},"children":"hash"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":") {"}]]}],"\n",["$","span","span-56",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#61AFEF"},"children":"        log"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-2",{"style":{"color":"#98C379"},"children":"\"log\""}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-4",{"style":{"color":"#98C379"},"children":"\"Content is not changed after the last summarization. Skip summarization.\""}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":");"}]]}],"\n",["$","span","span-57",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"        continue"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":";"}]]}],"\n",["$","span","span-58",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"      }"}]}],"\n",["$","span","span-59",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"    }"}]}],"\n",["$","span","span-60",{"data-line":"","children":" "}],"\n",["$","span","span-61",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"    // 总结文本"}]}],"\n",["$","span","span-62",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"    const"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" summary"}],["$","span","span-2",{"style":{"color":"#56B6C2"},"children":" ="}],["$","span","span-3",{"style":{"color":"#C678DD"},"children":" await"}],["$","span","span-4",{"style":{"color":"#61AFEF"},"children":" summarize"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-6",{"style":{"color":"#E06C75"},"children":"content"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":","}]]}],"\n",["$","span","span-63",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E06C75"},"children":"      azureLanguageCodeMap"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"["}],["$","span","span-2",{"style":{"color":"#E5C07B"},"children":"frontMatter"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-4",{"style":{"color":"#E06C75"},"children":"lang"}],["$","span","span-5",{"style":{"color":"#C678DD"},"children":" as"}],["$","span","span-6",{"style":{"color":"#C678DD"},"children":" keyof"}],["$","span","span-7",{"style":{"color":"#C678DD"},"children":" typeof"}],["$","span","span-8",{"style":{"color":"#E06C75"},"children":" azureLanguageCodeMap"}],["$","span","span-9",{"style":{"color":"#ABB2BF"},"children":"]);"}]]}],"\n",["$","span","span-64",{"data-line":"","children":" "}],"\n",["$","span","span-65",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"    if"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":" ("}],["$","span","span-2",{"style":{"color":"#E06C75"},"children":"summary"}],["$","span","span-3",{"style":{"color":"#C678DD"},"children":" instanceof"}],["$","span","span-4",{"style":{"color":"#E5C07B"},"children":" Error"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":") {"}]]}],"\n",["$","span","span-66",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#61AFEF"},"children":"      log"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-2",{"style":{"color":"#98C379"},"children":"\"error\""}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-4",{"style":{"color":"#98C379"},"children":"\"Error on summarizing %s of lang %s: %s\""}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-6",{"style":{"color":"#E5C07B"},"children":"frontMatter"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-8",{"style":{"color":"#E06C75"},"children":"id"}],["$","span","span-9",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-10",{"style":{"color":"#E5C07B"},"children":"frontMatter"}],["$","span","span-11",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-12",{"style":{"color":"#E06C75"},"children":"lang"}],["$","span","span-13",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-14",{"style":{"color":"#E5C07B"},"children":"summary"}],["$","span","span-15",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-16",{"style":{"color":"#E06C75"},"children":"message"}],["$","span","span-17",{"style":{"color":"#ABB2BF"},"children":");"}]]}],"\n",["$","span","span-67",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"      continue"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":";"}]]}],"\n",["$","span","span-68",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"    }"}]}],"\n",["$","span","span-69",{"data-line":"","children":" "}],"\n",["$","span","span-70",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#7F848E","fontStyle":"italic"},"children":"    // 在文章目录下生成一个[语言id].summary.json文件，存放内容hash、总结以及相关操作信息"}]}],"\n",["$","span","span-71",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"    const"}],["$","span","span-1",{"style":{"color":"#E5C07B"},"children":" summaryJson"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-3",{"style":{"color":"#E5C07B"},"children":"ArticleSummary"}],["$","span","span-4",{"style":{"color":"#56B6C2"},"children":" ="}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":" {"}]]}],"\n",["$","span","span-72",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E06C75"},"children":"      articleId"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-2",{"style":{"color":"#E5C07B"},"children":"frontMatter"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-4",{"style":{"color":"#E06C75"},"children":"id"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":","}]]}],"\n",["$","span","span-73",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E06C75"},"children":"      lang"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-2",{"style":{"color":"#E5C07B"},"children":"frontMatter"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-4",{"style":{"color":"#E06C75"},"children":"lang"}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":","}]]}],"\n",["$","span","span-74",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E06C75"},"children":"      lastUpdateStartTime"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-2",{"style":{"color":"#E06C75"},"children":"startTime"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":","}]]}],"\n",["$","span","span-75",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E06C75"},"children":"      lastUpdateEndTime"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-2",{"style":{"color":"#C678DD"},"children":"new"}],["$","span","span-3",{"style":{"color":"#61AFEF"},"children":" Date"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":"()."}],["$","span","span-5",{"style":{"color":"#61AFEF"},"children":"toISOString"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"(),"}]]}],"\n",["$","span","span-76",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E06C75"},"children":"      summaries"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-2",{"style":{"color":"#E06C75"},"children":"summary"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":","}]]}],"\n",["$","span","span-77",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#E06C75"},"children":"      hash"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":": "}],["$","span","span-2",{"style":{"color":"#E06C75"},"children":"contentHash"}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":","}]]}],"\n",["$","span","span-78",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"    };"}]}],"\n",["$","span","span-79",{"data-line":"","children":" "}],"\n",["$","span","span-80",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#61AFEF"},"children":"    log"}],["$","span","span-1",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-2",{"style":{"color":"#98C379"},"children":"\"log\""}],["$","span","span-3",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-4",{"style":{"color":"#98C379"},"children":"\"Write summary of %s of lang %s to %s\""}],["$","span","span-5",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-6",{"style":{"color":"#E5C07B"},"children":"frontMatter"}],["$","span","span-7",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-8",{"style":{"color":"#E06C75"},"children":"id"}],["$","span","span-9",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-10",{"style":{"color":"#E5C07B"},"children":"frontMatter"}],["$","span","span-11",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-12",{"style":{"color":"#E06C75"},"children":"lang"}],["$","span","span-13",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-14",{"style":{"color":"#E06C75"},"children":"summaryJsonFilePath"}],["$","span","span-15",{"style":{"color":"#ABB2BF"},"children":");"}]]}],"\n",["$","span","span-81",{"data-line":"","children":" "}],"\n",["$","span","span-82",{"data-line":"","children":[["$","span","span-0",{"style":{"color":"#C678DD"},"children":"    await"}],["$","span","span-1",{"style":{"color":"#61AFEF"},"children":" writeFile"}],["$","span","span-2",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-3",{"style":{"color":"#E06C75"},"children":"summaryJsonFilePath"}],["$","span","span-4",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-5",{"style":{"color":"#E5C07B"},"children":"JSON"}],["$","span","span-6",{"style":{"color":"#ABB2BF"},"children":"."}],["$","span","span-7",{"style":{"color":"#61AFEF"},"children":"stringify"}],["$","span","span-8",{"style":{"color":"#ABB2BF"},"children":"("}],["$","span","span-9",{"style":{"color":"#E06C75"},"children":"summaryJson"}],["$","span","span-10",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-11",{"style":{"color":"#D19A66"},"children":"null"}],["$","span","span-12",{"style":{"color":"#ABB2BF"},"children":", "}],["$","span","span-13",{"style":{"color":"#D19A66"},"children":"2"}],["$","span","span-14",{"style":{"color":"#ABB2BF"},"children":"));"}]]}],"\n",["$","span","span-83",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"  }"}]}],"\n",["$","span","span-84",{"data-line":"","children":["$","span","span-0",{"style":{"color":"#ABB2BF"},"children":"}"}]}],"\n",["$","span","span-85",{"data-line":"","children":" "}]]}]}]]}],"\n",["$","h1",null,{"id":"效果","children":[["$","a","效果",{"href":"#效果","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$18","children":[]}]]],"style":{"color":"$undefined"},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"效果"]}],"\n",["$","p","p-14",{"children":["最终效果嘛，你在打开本文章的时候应该就看到了。如果一篇文章能够成功生成总结，那么文章页面的一开头，以及右侧的目录部分就会有",["$","strong","strong-0",{"children":"AI总结"}],"这部分内容。"]}],"\n",["$","p","p-15",{"children":"$L19"}],"\n",["$","p","p-16",{"children":["为什么说“如果可以成功生成总结”呢？在具体操作中，",["$","a","a-0",{"href":"/articles/summary-for-2020","children":"2020年总结"}],"这篇文章死活不能生成总结。"]}],"\n",["$","p","p-17",{"children":"$L1a"}],"\n",["$","p","p-18",{"children":["而对应成功生成总结的文章，总的来说英文文章的总结效果显著好于中文文章。例如，",["$","a","a-0",{"href":"/articles/an-infinite-loop-caused-by-updating-a-Map-during-iteration","children":"An Infinite Loop Caused by Updating a Map during Iteration"}],"这篇文章的总结包括了问题描述、问题解决过程以及最终的解决方案，语言流畅，逻辑清晰；"]}],"\n",["$","blockquote","blockquote-0",{"children":["\n",["$","p","p-0",{"children":"The author encountered a problem during the development of the 2.0 version of [simstate], where an infinite loop occurred during the iteration of a set of ' observers' stored in a ES6 Map. The problem was initially confused due to the Map having only one element and remaining unchanged between and inside loops. However, after investigation, the author discovered that the root of the problem was the call to observer, which alters the Map itself during iteration. This led to the infinite loop, even when deleting and re-adding an entry during iteration."}],"\n"]}],"\n",["$","p","p-19",{"children":["而同样类型的",["$","a","a-0",{"href":"https://ddadaal.me/articles/search?query=problem-investigation","children":"问题探究"}],"类文章",["$","a","a-1",{"href":"/articles/summary-of-a-file-lost-accident","children":"一次生产环境的文件丢失事故：复盘和教训"}],"，得出的总结就过于简单，而且也没有找到问题重点，得出的文本中甚至都是英文标点。"]}],"\n",["$","blockquote","blockquote-1",{"children":["\n",["$","p","p-0",{"children":"作者通过log、数据库数据等找到了受到影响的用户,通过邮箱、电话和短信提醒他们重新上传文件。"}],"\n"]}],"\n",["$","h1",null,{"id":"总结","children":[["$","a","总结",{"href":"#总结","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$1b","children":[]}]]],"style":{"color":"$undefined"},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"总结"]}],"\n",["$","p","p-20",{"children":"这是我第一次在实际项目中运用AI，在充分的文档帮助下，整个过程花费了6个小时左右，其中集成这个功能可能花了1个小时左右，而最终的效果不能算非常完美，但是也是是差强人意。在2023年的最后一天完成这个过程，在新年的第一天给博客实现这个新的功能，也算是一个新年礼物了吧。在AI的时代，与其害怕AI替代自己，不如主动拥抱AI提高生产效率，而这对于从业者的我们天生就有优势。"}]]}]]}],["$","div",null,{"className":"hidden lg:block lg:w-[25%]","children":["$","$L1c",null,{"toc":[{"depth":1,"value":"一条朋友圈的提示","id":"一条朋友圈的提示"},{"depth":1,"value":"选择AI服务","id":"选择ai服务"},{"depth":1,"value":"使用Azure AI Language Service","id":"使用azure-ai-language-service"},{"depth":1,"value":"效果","id":"效果"},{"depth":1,"value":"总结","id":"总结"}],"hasSummary":true}]}]]}]
1d:I[3536,["156","static/chunks/da31e3a9-cb77f1867f59af65.js","587","static/chunks/6eb71dd8-cd7756918fe71e95.js","431","static/chunks/e1bbbf97-b7950aa5db0d9ea7.js","73","static/chunks/1b3e99d6-e303e66e6bbada21.js","392","static/chunks/392-683f5ff9f5577351.js","843","static/chunks/843-bb32ed17e6a9c040.js","775","static/chunks/775-194127a2aa233ea9.js","464","static/chunks/app/articles/%5B%5B...params%5D%5D/page-bf3c5160bbc90ae2.js"],"ArticleImage"]
12:["$","figure",null,{"children":[["$","$L1d",null,{"src":"/articles/asset/contents/20240101-ai-article-summary/weixin-summary.png","imageSize":{"height":34,"width":562},"imageProps":{"src":"./weixin-summary.png","alt":"朋友圈锐总结"}}],["$","figcaption",null,{"className":"text-center","children":"朋友圈锐总结"}]]}]
14:["$","figure",null,{"children":[["$","$L1d",null,{"src":"/articles/asset/contents/20240101-ai-article-summary/openai-china-phone-not-available.png","imageSize":{"height":933,"width":1915},"imageProps":{"src":"./openai-china-phone-not-available.png","alt":"国内手机号无法验证OpenAI API"}}],["$","figcaption",null,{"className":"text-center","children":"国内手机号无法验证OpenAI API"}]]}]
15:["$","figure",null,{"children":[["$","$L1d",null,{"src":"/articles/asset/contents/20240101-ai-article-summary/azure-openai-limit.png","imageSize":{"height":324,"width":1350},"imageProps":{"src":"./azure-openai-limit.png","alt":"Azure OpenAI服务并未面向大众开放"}}],["$","figcaption",null,{"className":"text-center","children":"Azure OpenAI服务并未面向大众开放"}]]}]
17:["$","figure",null,{"children":[["$","$L1d",null,{"src":"/articles/asset/contents/20240101-ai-article-summary/azure-language-resource.png","imageSize":{"height":731,"width":2577},"imageProps":{"src":"./azure-language-resource.png","alt":"创建好的Azure Language资源"}}],["$","figcaption",null,{"className":"text-center","children":"创建好的Azure Language资源"}]]}]
19:["$","figure",null,{"children":[["$","$L1d",null,{"src":"/articles/asset/contents/20240101-ai-article-summary/article-summary-live.png","imageSize":{"height":879,"width":1876},"imageProps":{"src":"./article-summary-live.png","alt":"效果图"}}],["$","figcaption",null,{"className":"text-center","children":"效果图"}]]}]
1a:["$","figure",null,{"children":[["$","$L1d",null,{"src":"/articles/asset/contents/20240101-ai-article-summary/failed-to-generate-summary.png","imageSize":{"height":137,"width":2177},"imageProps":{"src":"./failed-to-generate-summary.png","alt":"一篇文章无法生成总结"}}],["$","figcaption",null,{"className":"text-center","children":"一篇文章无法生成总结"}]]}]
1e:I[1790,["156","static/chunks/da31e3a9-cb77f1867f59af65.js","392","static/chunks/392-683f5ff9f5577351.js","843","static/chunks/843-bb32ed17e6a9c040.js","306","static/chunks/306-0f10a31148451f3f.js","185","static/chunks/app/layout-d0b6819e63624059.js"],"RootLayout"]
1f:I[197,["156","static/chunks/da31e3a9-cb77f1867f59af65.js","392","static/chunks/392-683f5ff9f5577351.js","843","static/chunks/843-bb32ed17e6a9c040.js","306","static/chunks/306-0f10a31148451f3f.js","185","static/chunks/app/layout-d0b6819e63624059.js"],""]
20:I[6477,["156","static/chunks/da31e3a9-cb77f1867f59af65.js","392","static/chunks/392-683f5ff9f5577351.js","843","static/chunks/843-bb32ed17e6a9c040.js","306","static/chunks/306-0f10a31148451f3f.js","185","static/chunks/app/layout-d0b6819e63624059.js"],"Header"]
21:I[7013,["392","static/chunks/392-683f5ff9f5577351.js","843","static/chunks/843-bb32ed17e6a9c040.js","931","static/chunks/app/page-29c9bd55090c80b5.js"],"LocalizedArticleLink"]
22:I[9920,["156","static/chunks/da31e3a9-cb77f1867f59af65.js","392","static/chunks/392-683f5ff9f5577351.js","843","static/chunks/843-bb32ed17e6a9c040.js","306","static/chunks/306-0f10a31148451f3f.js","185","static/chunks/app/layout-d0b6819e63624059.js"],"RunningTime"]
23:I[5999,["392","static/chunks/392-683f5ff9f5577351.js","843","static/chunks/843-bb32ed17e6a9c040.js","931","static/chunks/app/page-29c9bd55090c80b5.js"],"LastUpdateTime"]
26:I[1148,["156","static/chunks/da31e3a9-cb77f1867f59af65.js","392","static/chunks/392-683f5ff9f5577351.js","843","static/chunks/843-bb32ed17e6a9c040.js","306","static/chunks/306-0f10a31148451f3f.js","185","static/chunks/app/layout-d0b6819e63624059.js"],"ToTop"]
24:T518,M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z25:T5b8,M170.54 148.13v217.54l23.43.01 7.71 26.37 42.01-26.37h49.53V148.13H170.54zm97.75 193.93h-27.94l-27.9 17.51-5.08-17.47-11.9-.04V171.75h72.82v170.31zm-118.46-94.39H97.5c1.74-27.1 2.2-51.59 2.2-73.46h51.16s1.97-22.56-8.58-22.31h-88.5c3.49-13.12 7.87-26.66 13.12-40.67 0 0-24.07 0-32.27 21.57-3.39 8.9-13.21 43.14-30.7 78.12 5.89-.64 25.37-1.18 36.84-22.21 2.11-5.89 2.51-6.66 5.14-14.53h28.87c0 10.5-1.2 66.88-1.68 73.44H20.83c-11.74 0-15.56 23.62-15.56 23.62h65.58C66.45 321.1 42.83 363.12 0 396.34c20.49 5.85 40.91-.93 51-9.9 0 0 22.98-20.9 35.59-69.25l53.96 64.94s7.91-26.89-1.24-39.99c-7.58-8.92-28.06-33.06-36.79-41.81L87.9 311.95c4.36-13.98 6.99-27.55 7.87-40.67h61.65s-.09-23.62-7.59-23.62v.01zm412.02-1.6c20.83-25.64 44.98-58.57 44.98-58.57s-18.65-14.8-27.38-4.06c-6 8.15-36.83 48.2-36.83 48.2l19.23 14.43zm-150.09-59.09c-9.01-8.25-25.91 2.13-25.91 2.13s39.52 55.04 41.12 57.45l19.46-13.73s-25.67-37.61-34.66-45.86h-.01zM640 258.35c-19.78 0-130.91.93-131.06.93v-101c4.81 0 12.42-.4 22.85-1.2 40.88-2.41 70.13-4 87.77-4.81 0 0 12.22-27.19-.59-33.44-3.07-1.18-23.17 4.58-23.17 4.58s-165.22 16.49-232.36 18.05c1.6 8.82 7.62 17.08 15.78 19.55 13.31 3.48 22.69 1.7 49.15.89 24.83-1.6 43.68-2.43 56.51-2.43v99.81H351.41s2.82 22.31 25.51 22.85h107.94v70.92c0 13.97-11.19 21.99-24.48 21.12-14.08.11-26.08-1.15-41.69-1.81 1.99 3.97 6.33 14.39 19.31 21.84 9.88 4.81 16.17 6.57 26.02 6.57 29.56 0 45.67-17.28 44.89-45.31v-73.32h122.36c9.68 0 8.7-23.78 8.7-23.78l.03-.01z6:["$","$L1e",null,{"children":[["$","$L1f",null,{"data-host":"https://services.ddadaal.me","data-dnt":"false","src":"https://services.ddadaal.me/monitor/script.js","id":"ZwSg9rf6GA","async":true,"defer":true}],["$","$L20",null,{"resumeLangs":["cn","en"]}],["$","div",null,{"children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]}],["$","footer",null,{"className":"bg-base-200 text-base-content","children":["$","div",null,{"className":"footer py-6 max-w-7xl mx-auto px-4","children":[["$","div",null,{"className":"space-y-1","children":[["$","p",null,{"children":["👨🏼‍💻 ",["$","$Le",null,{"id":"footer.codeBy","args":[["$","$L21","about/me",{"className":"link link-hover","basePath":"/about/me","children":"ddadaal"}]]}]]}],["$","p",null,{"children":["📝",["$","$Le",null,{"id":"footer.license","args":[["$","a","license",{"rel":"licene noreferrer","target":"_blank","className":"link","href":"https://creativecommons.org/licenses/by-sa/4.0/","children":"CC BY-SA 4.0"}]]}]]}],["$","$L22",null,{"serverStartTime":"2024-07-07T02:43:01.541+00:00"}],["$","$L23",null,{"time":"2024-07-07T02:43:01.541+00:00"}],["$","div",null,{"children":[["$","p",null,{"children":["📲 ",["$","$Le",null,{"id":"footer.contacts"}]]}],["$","div",null,{"className":"flex py-2 gap-2","children":[["$","span","http://wpa.qq.com/msgrd?v=3&uin=540232834&site=qq&menu=yes",{"children":["$","a",null,{"href":"http://wpa.qq.com/msgrd?v=3&uin=540232834&site=qq&menu=yes","title":"QQ: 540232834","target":"_blank","className":"block transition hover:scale-125","rel":"noreferrer","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 448 512","children":["$undefined",[["$","path","0",{"d":"M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704z","children":[]}]]],"className":"$undefined","style":{"color":"$undefined"},"height":22.400000000000002,"width":22.400000000000002,"xmlns":"http://www.w3.org/2000/svg"}]}]}],["$","span","mailto://ddadaal.me@outlook.com",{"children":["$","a",null,{"href":"mailto://ddadaal.me@outlook.com","title":"E-mail: ddadaal@outlook.com","target":"_blank","className":"block transition hover:scale-125","rel":"noreferrer","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 576 512","children":["$undefined",[["$","path","0",{"d":"M160 448c-25.6 0-51.2-22.4-64-32-64-44.8-83.2-60.8-96-70.4V480c0 17.67 14.33 32 32 32h256c17.67 0 32-14.33 32-32V345.6c-12.8 9.6-32 25.6-96 70.4-12.8 9.6-38.4 32-64 32zm128-192H32c-17.67 0-32 14.33-32 32v16c25.6 19.2 22.4 19.2 115.2 86.4 9.6 6.4 28.8 25.6 44.8 25.6s35.2-19.2 44.8-22.4c92.8-67.2 89.6-67.2 115.2-86.4V288c0-17.67-14.33-32-32-32zm256-96H224c-17.67 0-32 14.33-32 32v32h96c33.21 0 60.59 25.42 63.71 57.82l.29-.22V416h192c17.67 0 32-14.33 32-32V192c0-17.67-14.33-32-32-32zm-32 128h-64v-64h64v64zm-352-96c0-35.29 28.71-64 64-64h224V32c0-17.67-14.33-32-32-32H96C78.33 0 64 14.33 64 32v192h96v-32z","children":[]}]]],"className":"$undefined","style":{"color":"$undefined"},"height":22.400000000000002,"width":22.400000000000002,"xmlns":"http://www.w3.org/2000/svg"}]}]}],["$","span","https://www.linkedin.com/in/chenjunda/",{"children":["$","a",null,{"href":"https://www.linkedin.com/in/chenjunda/","title":"LinkedIn: 陈俊达","target":"_blank","className":"block transition hover:scale-125","rel":"noreferrer","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 448 512","children":["$undefined",[["$","path","0",{"d":"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z","children":[]}]]],"className":"$undefined","style":{"color":"$undefined"},"height":22.400000000000002,"width":22.400000000000002,"xmlns":"http://www.w3.org/2000/svg"}]}]}],["$","span","https://github.com/ddadaal",{"children":["$","a",null,{"href":"https://github.com/ddadaal","title":"GitHub: ddadaal","target":"_blank","className":"block transition hover:scale-125","rel":"noreferrer","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 496 512","children":["$undefined",[["$","path","0",{"d":"$24","children":[]}]]],"className":"$undefined","style":{"color":"$undefined"},"height":22.400000000000002,"width":22.400000000000002,"xmlns":"http://www.w3.org/2000/svg"}]}]}],["$","span","https://steamcommunity.com/profiles/76561198104889782",{"children":["$","a",null,{"href":"https://steamcommunity.com/profiles/76561198104889782","title":"Steam: Victor Crubs","target":"_blank","className":"block transition hover:scale-125","rel":"noreferrer","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 496 512","children":["$undefined",[["$","path","0",{"d":"M496 256c0 137-111.2 248-248.4 248-113.8 0-209.6-76.3-239-180.4l95.2 39.3c6.4 32.1 34.9 56.4 68.9 56.4 39.2 0 71.9-32.4 70.2-73.5l84.5-60.2c52.1 1.3 95.8-40.9 95.8-93.5 0-51.6-42-93.5-93.7-93.5s-93.7 42-93.7 93.5v1.2L176.6 279c-15.5-.9-30.7 3.4-43.5 12.1L0 236.1C10.2 108.4 117.1 8 247.6 8 384.8 8 496 119 496 256zM155.7 384.3l-30.5-12.6a52.79 52.79 0 0 0 27.2 25.8c26.9 11.2 57.8-1.6 69-28.4 5.4-13 5.5-27.3.1-40.3-5.4-13-15.5-23.2-28.5-28.6-12.9-5.4-26.7-5.2-38.9-.6l31.5 13c19.8 8.2 29.2 30.9 20.9 50.7-8.3 19.9-31 29.2-50.8 21zm173.8-129.9c-34.4 0-62.4-28-62.4-62.3s28-62.3 62.4-62.3 62.4 28 62.4 62.3-27.9 62.3-62.4 62.3zm.1-15.6c25.9 0 46.9-21 46.9-46.8 0-25.9-21-46.8-46.9-46.8s-46.9 21-46.9 46.8c.1 25.8 21.1 46.8 46.9 46.8z","children":[]}]]],"className":"$undefined","style":{"color":"$undefined"},"height":22.400000000000002,"width":22.400000000000002,"xmlns":"http://www.w3.org/2000/svg"}]}]}],["$","span","https://zhihu.com/people/VicCrubs",{"children":["$","a",null,{"href":"https://zhihu.com/people/VicCrubs","title":"知乎：陈俊达","target":"_blank","className":"block transition hover:scale-125","rel":"noreferrer","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 640 512","children":["$undefined",[["$","path","0",{"d":"$25","children":[]}]]],"className":"$undefined","style":{"color":"$undefined"},"height":22.400000000000002,"width":22.400000000000002,"xmlns":"http://www.w3.org/2000/svg"}]}]}],["$","span","https://www.douban.com/people/183064260/",{"children":["$","a",null,{"href":"https://www.douban.com/people/183064260/","title":"豆瓣: ddadaal","target":"_blank","className":"block transition hover:scale-125","rel":"noreferrer","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","role":"img","viewBox":"0 0 24 24","children":["$undefined",[["$","path","0",{"d":"M.51 3.06h22.98V.755H.51V3.06Zm20.976 2.537v9.608h-2.137l-1.669 5.76H24v2.28H0v-2.28h6.32l-1.67-5.76H2.515V5.597h18.972Zm-5.066 9.608H7.58l1.67 5.76h5.501l1.67-5.76ZM18.367 7.9H5.634v5.025h12.733V7.9Z","children":[]}]]],"className":"$undefined","style":{"color":"$undefined"},"height":22.400000000000002,"width":22.400000000000002,"xmlns":"http://www.w3.org/2000/svg"}]}]}]]}]]}],["$","p",null,{"className":"text-center","children":["© ",2024," | ",["$","$Le",null,{"id":"footer.madeWithLove"}]]}]]}],["$","div",null,{"children":[["$","span",null,{"className":"footer-title","children":["🚀 ",["$","$Le",null,{"id":"footer.poweredBy"}]]}],[["$","a",null,{"className":"link link-hover","target":"_blank","href":"https://reactjs.org/","rel":"noreferrer","children":"React"}],["$","a",null,{"className":"link link-hover","target":"_blank","href":"https://nextjs.org/","rel":"noreferrer","children":"Next.js"}],["$","a",null,{"className":"link link-hover","target":"_blank","href":"https://pages.github.com/","rel":"noreferrer","children":"GitHub Pages"}],["$","a",null,{"className":"link link-hover","target":"_blank","href":"https://www.typescriptlang.org/","rel":"noreferrer","children":"TypeScript"}]]]}],["$","div",null,{"children":[["$","span",null,{"className":"footer-title","children":["🎨 ",["$","$Le",null,{"id":"footer.themedWith"}]]}],[["$","a",null,{"className":"link link-hover","target":"_blank","href":"https://daisyui.com/","rel":"noreferrer","children":"daisyui"}],["$","a",null,{"className":"link link-hover","target":"_blank","href":"https://tailwindcss.com/","rel":"noreferrer","children":"tailwind"}]]]}],["$","div",null,{"children":[["$","span",null,{"className":"footer-title","children":["🎓 ",["$","$Le",null,{"id":"footer.contacts"}]]}],[["$","a",null,{"className":"link link-hover","target":"_blank","href":"https://idealclover.top","rel":"noreferrer","children":"idealclover - 翠翠酱的个人网站"}],["$","a",null,{"className":"link link-hover","target":"_blank","href":"https://sephidator.xyz","rel":"noreferrer","children":"Sephidator - Sephidator的个人博客"}],["$","a",null,{"className":"link link-hover","target":"_blank","href":"https://iznauy.github.io/","rel":"noreferrer","children":"iznauy - 个人博客"}],["$","a",null,{"className":"link link-hover","target":"_blank","href":"https://aironoria.github.io","rel":"noreferrer","children":"Aironoria - 陈俊宇的个人博客"}],["$","a",null,{"className":"link link-hover","target":"_blank","href":"https://jbesu.com/","rel":"noreferrer","children":"forewing - 个人主页"}],["$","a",null,{"className":"link link-hover","target":"_blank","href":"https://weiser.fun","rel":"noreferrer","children":"Weiser - 个人主页"}]]]}]]}]}],["$","$L26",null,{}]]}]
