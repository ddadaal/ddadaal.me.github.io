1:"$Sreact.fragment"
2:I[28979,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"ArticleFrontmatter"]
c:I[21753,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"ArticleSummarization"]
d:I[79817,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"Gallery"]
27:I[23491,["/_next/static/chunks/2caa33a942c5f527.js","/_next/static/chunks/59983278a34fd25c.js"],"OutletBoundary"]
28:"$Sreact.suspense"
2b:I[72053,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"ArticleImage"]
2e:I[14620,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"ArticleToc"]
2f:I[39182,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"RelatedArticles"]
30:I[42449,["/_next/static/chunks/8d29a04bcfe27c24.js","/_next/static/chunks/3dff3d4c63cf346e.js","/_next/static/chunks/b3af52d5d180873a.js","/_next/static/chunks/86b442c1397f7351.js","/_next/static/chunks/0a1497ca0a1721ad.js","/_next/static/chunks/4ec1bf7a32b70f87.js","/_next/static/chunks/276b22541034e0ea.js"],"CommentPanelWithCurrentLanguage"]
:HL["/_next/static/chunks/44d2e091595b3eca.css","style"]
:HL["/_next/static/chunks/5e55d74f3211c796.css","style"]
:HL["/_next/static/chunks/b59bad6ea4f112f2.css","style"]
3:T16c0,
# 为什么一直没有暗色模式？

我是个暗色模式的粉丝。不管是操作系统、还是各种应用，只有有暗色模式，我肯定都使用暗色模式。更别提IDE了。因为我感觉使用黑色比较的护眼，没有浅色背景那样的刺眼。

但是讽刺的是，我的博客一年多都没有暗色模式。这是由于我的博客的主题是直接用的[bootswatch](https://bootswatch.com/)提供的主题，而我认为这个网站提供的那套[Darkly](https://bootswatch.com/darkly/)主题不太好看（主要是一些配色的问题，比如我不太喜欢绿色的链接、按钮啥的……），而在当时我很很弱鸡，不会修改主题提供的颜色选项。所以就退而求其次，选择了它提供的浅色的[Flatly](https://bootswatch.com/darkly/)主题。

而前段时间，我终于又想开始把网站变成黑色模式。由于这一年中我的前端技术有了一定的提高，所以这次再看的主题的时候，发现修改颜色其实是比较简单的：其实就只需要修改修改SCSS中的一些变量即可。所以，这次我成功地把暗色模式应用到了网站上。

# 有哪些修改？

其实网站的主题方面大概来说变化不大。**主题色**没有改变，标题栏和footer等组件的样式没有变化。主要修改的是**背景色**、**文字颜色**以及**代码块的颜色**。

## 背景色、文字颜色

对于背景色和文字的颜色，你可能会感觉这是个很简单的工作：暗色模式嘛，**背景纯黑**，**文字纯白**就可以了。但这样的效果其实并不好：黑白对比度太高，白色文字显得过于**刺眼**。纯黑的背景和网站的其他部分的颜色也不是很搭配。

![黑背景白文字](bg-black-font-white.png)

所以，有的应用的暗色模式，不是使用的真正的黑：

- VSCode的默认暗色背景的颜色是`#1E1E1E`
- JB系IDE的默认暗色背景的颜色是`#282828`
- Chromium Edge的暗色背景的地址栏周围的颜色为`#3B3B3B`
- ...

因此，通过一些尝试和主观感觉，在我的网站中，背景和文字颜色分别选择的色号是`#222`和`#ced4da`。

当然了，如果读者对颜色选择有一些意见，欢迎在下面评论框留言。

## 代码块的颜色

本网站使用[prism.js](https://prismjs.com/)对代码块进行高亮处理。这个插件负责把代码处理成一个一个的token，然后使用CSS对各种token进行样式处理的。之前代码块使用的是类似**Visual Studio**的样式（[地址](https://github.com/PrismJS/prism-themes)），如下图：

![VS代码高亮样式](vs-color-scheme.png)

看起来还是蛮不错的，但是它是浅色的，放在黑色背景下很瞎眼。所以这让我去找暗色的配色方案。

通过寻找，我也成功找到了一个[类似VSCode默认的暗色配色（dark+）的方案](http://templarian.com/2018/08/08/prismjs-visual-studio-code-dark-theme/)。把它下载下来后，经过一些魔改（设置背景色、字体优先[Cascadia Code](https://github.com/microsoft/cascadia-code)等），就成功用到网站上了。效果如下（下面是张图片）：类似

![VSCode Dark+ Cascadia Code](vscode-color-scheme.png)

# 不足

其实我的本意是像其他很多网站一样，可以在暗色模式和浅色模式中切换的。但是由于我的样式是使用的SCSS，各种颜色是使用的SCSS的**变量**功能，而SCSS其在网站构建的时候被编译成CSS（就像TypeScript在构建的时候被编译JavaScript一样），这些变量的信息就丢失了，编程出来的CSS里就是写死的颜色。要做到可以动态切换，有两种办法：

1. 使用`CSS Variables`功能（[MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/var)），即使在SCSS中，首先把所有的SCSS变量设置成CSS variables，然后使用单独的CSS类来设置各个CSS Variables，以此来实现动态切换颜色
2. 写多份SCSS文件，每份文件设置一个颜色主题，然后编译的时候产生多个CSS文件，然后通过引用不同的CSS来实现的颜色切换。这个只是理论可行，实际代码上怎么写没有试过。

其实第一种方法的可行性挺高的，但是就像我在之前博客总结的一样，我的博客的样式方面的代码就是一团乱麻：有的样式是写成scss的，有的样式是用`styled-components`写的，而二者的互操作性又基本为0，所以造成了**样式同步**的问题：

`styled-components`无法使用`scss`的变量，使得有的常量定义在SCSS中，有的定义在ts文件中（[`variables.scss`](https://github.com/ddadaal/ddadaal.me/blob/master/src/styles/variables.scss)和[`variables.ts`](https://github.com/ddadaal/ddadaal.me/blob/master/src/styles/variables.ts)）。但是有点常量又是公用的，所以只能在ts和SCSS都定义一次，这又不能做到修改一处全局生效（例如这次修改暗色模式的之后，文章列表中每一个文章的标题仍然是黑色的，因为这些标签的样式是用`styled-components`，并不能和SCSS中定义的颜色相同步）

这次更新我也对代码做了一些很有限的重构（例如把文章列表的每一个文章项的样式的风格写成了SCSS ([`article-item.scss`](https://github.com/ddadaal/ddadaal.me/blob/master/src/components/Article/ArticleItem/article-item.scss))，并且在其中引用`variables.scss`中定义的颜色。这样，修改`variables.scss`之后，文章项的样式也能自动同步）。但是这是治标不治本的，并没有解决我的样式代码过于混乱的问题。我希望在以后能够完全使用一个统一的框架和规范来编写我的样式，从而不仅提高代码的可维护性，也能实现诸如主题切换这种功能。

0:{"buildId":"x-o6oom0-eYUQFwPypfzU","rsc":["$","$1","c",{"children":[["$","article",null,{"children":[["$","div",null,{"className":"bg-neutral px-4 py-8","children":["$","div",null,{"className":"max-w-7xl mx-auto min-h-[256px] flex justify-center text-center text-neutral-content","children":["$","div",null,{"className":"flex flex-col justify-center animate-slide-up","children":[["$","h1",null,{"className":"text-4xl my-2","children":"暗色模式上线"}],["$","$L2",null,{"className":"justify-center","articleId":"dark-mode-online","info":{"content":"$3","title":"暗色模式上线","date":"2019-11-18 10:41","id":"dark-mode-online","lang":"cn","tags":["blog"],"related":["blog-updates-1"],"wordCount":1465,"readingTime":7.325,"filePath":"contents/20191118-dark-mode-online/cn.md","summary":{"articleId":"dark-mode-online","lang":"cn","hash":"31d980cc0064246c50bfdf291a0ea4fac89a630133223a5414bc3e8ace0036ed","summaries":[{"metadata":{"summarizer":"azure-ai","model":"DeepSeek-R1"},"summaries":["作者作为暗色模式爱好者，因最初前端技术不足，被迫为博客选用浅色主题。时隔一年技术提升后，通过修改SCSS变量成功实现暗色模式：背景采用柔和的#222降低对比度，文字使用#ced4da，代码高亮改用Prism.js并适配VSCode暗色主题。但因样式代码混杂SCSS与styled-components，变量同步困难，暂无法实现动态主题切换。未来计划重构代码体系，统一使用CSS变量或主题编译方案，解决维护性问题并支持多主题切换功能。"],"startTime":"2025-02-14T13:33:07.833Z","endTime":"2025-02-14T13:33:42.183Z"},{"metadata":{"summarizer":"ollama","model":"deepseek-r1:8b"},"summaries":["这篇文章讲述了作者作为暗色模式爱好者，为什么自己的博客长时间没有暗色模式。最初选择了bootswatch的flatly主题，因其颜色搭配不佳。随着技术进步，他尝试自定义SCSS变量，将暗色模式应用到博客，修改了背景、文字和代码块颜色，参考了VSCode的暗色配色，并提到了动态切换主题的尝试，但因样式互操作性问题未完成。"]}]}},"langVersions":["cn"]}]]}]}]}],"$L4"]}],["$L5","$L6","$L7","$L8","$L9","$La"],"$Lb"]}],"loading":null,"isPartial":false}
e:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959zf:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z4:["$","div",null,{"className":"animate-slide-up","children":[["$","div",null,{"className":"max-w-7xl mx-auto p-4","children":["$","div",null,{"className":"flex flex-row space-x-4","children":[["$","div",null,{"className":"prose max-w-full lg:w-[75%]","children":[["$","$Lc",null,{"summaries":[{"metadata":{"summarizer":"azure-ai","model":"DeepSeek-R1"},"children":[["$","p","p-0",{"children":"作者作为暗色模式爱好者，因最初前端技术不足，被迫为博客选用浅色主题。时隔一年技术提升后，通过修改SCSS变量成功实现暗色模式：背景采用柔和的#222降低对比度，文字使用#ced4da，代码高亮改用Prism.js并适配VSCode暗色主题。但因样式代码混杂SCSS与styled-components，变量同步困难，暂无法实现动态主题切换。未来计划重构代码体系，统一使用CSS变量或主题编译方案，解决维护性问题并支持多主题切换功能。"}]]},{"metadata":{"summarizer":"ollama","model":"deepseek-r1:8b"},"children":[["$","p","p-0",{"children":"这篇文章讲述了作者作为暗色模式爱好者，为什么自己的博客长时间没有暗色模式。最初选择了bootswatch的flatly主题，因其颜色搭配不佳。随着技术进步，他尝试自定义SCSS变量，将暗色模式应用到博客，修改了背景、文字和代码块颜色，参考了VSCode的暗色配色，并提到了动态切换主题的尝试，但因样式互操作性问题未完成。"}]]}]}],["$","$Ld",null,{"withCaption":true,"id":"dark-mode-online","children":[["$","h1","h1-0",{"id":"为什么一直没有暗色模式","children":[["$","a","为什么一直没有暗色模式",{"href":"#为什么一直没有暗色模式","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$e","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"为什么一直没有暗色模式？"]}],"\n",["$","p","p-0",{"children":"我是个暗色模式的粉丝。不管是操作系统、还是各种应用，只有有暗色模式，我肯定都使用暗色模式。更别提IDE了。因为我感觉使用黑色比较的护眼，没有浅色背景那样的刺眼。"}],"\n",["$","p","p-1",{"children":["但是讽刺的是，我的博客一年多都没有暗色模式。这是由于我的博客的主题是直接用的",["$","a","a-0",{"href":"https://bootswatch.com/","children":"bootswatch"}],"提供的主题，而我认为这个网站提供的那套",["$","a","a-1",{"href":"https://bootswatch.com/darkly/","children":"Darkly"}],"主题不太好看（主要是一些配色的问题，比如我不太喜欢绿色的链接、按钮啥的……），而在当时我很很弱鸡，不会修改主题提供的颜色选项。所以就退而求其次，选择了它提供的浅色的",["$","a","a-2",{"href":"https://bootswatch.com/darkly/","children":"Flatly"}],"主题。"]}],"\n",["$","p","p-2",{"children":"而前段时间，我终于又想开始把网站变成黑色模式。由于这一年中我的前端技术有了一定的提高，所以这次再看的主题的时候，发现修改颜色其实是比较简单的：其实就只需要修改修改SCSS中的一些变量即可。所以，这次我成功地把暗色模式应用到了网站上。"}],"\n",["$","h1","h1-1",{"id":"有哪些修改","children":[["$","a","有哪些修改",{"href":"#有哪些修改","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$f","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"有哪些修改？"]}],"\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22","\n","$L23"]}]]}],"$L24"]}]}],"$L25","$L26"]}]
5:["$","link","0",{"rel":"stylesheet","href":"/_next/static/chunks/44d2e091595b3eca.css","precedence":"next"}]
6:["$","link","1",{"rel":"stylesheet","href":"/_next/static/chunks/5e55d74f3211c796.css","precedence":"next"}]
7:["$","link","2",{"rel":"stylesheet","href":"/_next/static/chunks/b59bad6ea4f112f2.css","precedence":"next"}]
8:["$","script","script-0",{"src":"/_next/static/chunks/0a1497ca0a1721ad.js","async":true}]
9:["$","script","script-1",{"src":"/_next/static/chunks/4ec1bf7a32b70f87.js","async":true}]
a:["$","script","script-2",{"src":"/_next/static/chunks/276b22541034e0ea.js","async":true}]
b:["$","$L27",null,{"children":["$","$28",null,{"name":"Next.MetadataOutlet","children":"$@29"}]}]
10:["$","p","p-3",{"children":["其实网站的主题方面大概来说变化不大。",["$","strong","strong-0",{"children":"主题色"}],"没有改变，标题栏和footer等组件的样式没有变化。主要修改的是",["$","strong","strong-1",{"children":"背景色"}],"、",["$","strong","strong-2",{"children":"文字颜色"}],"以及",["$","strong","strong-3",{"children":"代码块的颜色"}],"。"]}]
2a:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z11:["$","h2","h2-0",{"id":"背景色文字颜色","children":[["$","a","背景色文字颜色",{"href":"#背景色文字颜色","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$2a","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"背景色、文字颜色"]}]
12:["$","p","p-4",{"children":["对于背景色和文字的颜色，你可能会感觉这是个很简单的工作：暗色模式嘛，",["$","strong","strong-0",{"children":"背景纯黑"}],"，",["$","strong","strong-1",{"children":"文字纯白"}],"就可以了。但这样的效果其实并不好：黑白对比度太高，白色文字显得过于",["$","strong","strong-2",{"children":"刺眼"}],"。纯黑的背景和网站的其他部分的颜色也不是很搭配。"]}]
13:["$","p","p-5",{"children":["$","$L2b","img-0",{"src":"/articles/asset/contents/20191118-dark-mode-online/bg-black-font-white.png","imageSize":{"height":354,"width":930},"imageProps":{"src":"bg-black-font-white.png","alt":"黑背景白文字"}}]}]
14:["$","p","p-6",{"children":"所以，有的应用的暗色模式，不是使用的真正的黑："}]
15:["$","ul","ul-0",{"children":["\n",["$","li","li-0",{"children":["VSCode的默认暗色背景的颜色是",["$","code","code-0",{"children":"#1E1E1E"}]]}],"\n",["$","li","li-1",{"children":["JB系IDE的默认暗色背景的颜色是",["$","code","code-0",{"children":"#282828"}]]}],"\n",["$","li","li-2",{"children":["Chromium Edge的暗色背景的地址栏周围的颜色为",["$","code","code-0",{"children":"#3B3B3B"}]]}],"\n",["$","li","li-3",{"children":"..."}],"\n"]}]
16:["$","p","p-7",{"children":["因此，通过一些尝试和主观感觉，在我的网站中，背景和文字颜色分别选择的色号是",["$","code","code-0",{"children":"#222"}],"和",["$","code","code-1",{"children":"#ced4da"}],"。"]}]
17:["$","p","p-8",{"children":"当然了，如果读者对颜色选择有一些意见，欢迎在下面评论框留言。"}]
2c:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z18:["$","h2","h2-1",{"id":"代码块的颜色","children":[["$","a","代码块的颜色",{"href":"#代码块的颜色","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$2c","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"代码块的颜色"]}]
19:["$","p","p-9",{"children":["本网站使用",["$","a","a-0",{"href":"https://prismjs.com/","children":"prism.js"}],"对代码块进行高亮处理。这个插件负责把代码处理成一个一个的token，然后使用CSS对各种token进行样式处理的。之前代码块使用的是类似",["$","strong","strong-0",{"children":"Visual Studio"}],"的样式（",["$","a","a-1",{"href":"https://github.com/PrismJS/prism-themes","children":"地址"}],"），如下图："]}]
1a:["$","p","p-10",{"children":["$","$L2b","img-0",{"src":"/articles/asset/contents/20191118-dark-mode-online/vs-color-scheme.png","imageSize":{"height":284,"width":658},"imageProps":{"src":"vs-color-scheme.png","alt":"VS代码高亮样式"}}]}]
1b:["$","p","p-11",{"children":"看起来还是蛮不错的，但是它是浅色的，放在黑色背景下很瞎眼。所以这让我去找暗色的配色方案。"}]
1c:["$","p","p-12",{"children":["通过寻找，我也成功找到了一个",["$","a","a-0",{"href":"http://templarian.com/2018/08/08/prismjs-visual-studio-code-dark-theme/","children":"类似VSCode默认的暗色配色（dark+）的方案"}],"。把它下载下来后，经过一些魔改（设置背景色、字体优先",["$","a","a-1",{"href":"https://github.com/microsoft/cascadia-code","children":"Cascadia Code"}],"等），就成功用到网站上了。效果如下（下面是张图片）：类似"]}]
1d:["$","p","p-13",{"children":["$","$L2b","img-0",{"src":"/articles/asset/contents/20191118-dark-mode-online/vscode-color-scheme.png","imageSize":{"height":372,"width":931},"imageProps":{"src":"vscode-color-scheme.png","alt":"VSCode Dark+ Cascadia Code"}}]}]
2d:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z1e:["$","h1","h1-2",{"id":"不足","children":[["$","a","不足",{"href":"#不足","className":"mr-1","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 512 512","className":"inline-block opacity-20 hover:opacity-60","children":["$undefined",[["$","path","0",{"d":"$2d","children":[]}]]],"style":{},"height":16,"width":16,"xmlns":"http://www.w3.org/2000/svg"}]}],"不足"]}]
1f:["$","p","p-14",{"children":["其实我的本意是像其他很多网站一样，可以在暗色模式和浅色模式中切换的。但是由于我的样式是使用的SCSS，各种颜色是使用的SCSS的",["$","strong","strong-0",{"children":"变量"}],"功能，而SCSS其在网站构建的时候被编译成CSS（就像TypeScript在构建的时候被编译JavaScript一样），这些变量的信息就丢失了，编程出来的CSS里就是写死的颜色。要做到可以动态切换，有两种办法："]}]
20:["$","ol","ol-0",{"children":["\n",["$","li","li-0",{"children":["使用",["$","code","code-0",{"children":"CSS Variables"}],"功能（",["$","a","a-0",{"href":"https://developer.mozilla.org/en-US/docs/Web/CSS/var","children":"MDN"}],"），即使在SCSS中，首先把所有的SCSS变量设置成CSS variables，然后使用单独的CSS类来设置各个CSS Variables，以此来实现动态切换颜色"]}],"\n",["$","li","li-1",{"children":"写多份SCSS文件，每份文件设置一个颜色主题，然后编译的时候产生多个CSS文件，然后通过引用不同的CSS来实现的颜色切换。这个只是理论可行，实际代码上怎么写没有试过。"}],"\n"]}]
21:["$","p","p-15",{"children":["其实第一种方法的可行性挺高的，但是就像我在之前博客总结的一样，我的博客的样式方面的代码就是一团乱麻：有的样式是写成scss的，有的样式是用",["$","code","code-0",{"children":"styled-components"}],"写的，而二者的互操作性又基本为0，所以造成了",["$","strong","strong-0",{"children":"样式同步"}],"的问题："]}]
22:["$","p","p-16",{"children":[["$","code","code-0",{"children":"styled-components"}],"无法使用",["$","code","code-1",{"children":"scss"}],"的变量，使得有的常量定义在SCSS中，有的定义在ts文件中（",["$","a","a-0",{"href":"https://github.com/ddadaal/ddadaal.me/blob/master/src/styles/variables.scss","children":["$","code","code-0",{"children":"variables.scss"}]}],"和",["$","a","a-1",{"href":"https://github.com/ddadaal/ddadaal.me/blob/master/src/styles/variables.ts","children":["$","code","code-0",{"children":"variables.ts"}]}],"）。但是有点常量又是公用的，所以只能在ts和SCSS都定义一次，这又不能做到修改一处全局生效（例如这次修改暗色模式的之后，文章列表中每一个文章的标题仍然是黑色的，因为这些标签的样式是用",["$","code","code-2",{"children":"styled-components"}],"，并不能和SCSS中定义的颜色相同步）"]}]
23:["$","p","p-17",{"children":["这次更新我也对代码做了一些很有限的重构（例如把文章列表的每一个文章项的样式的风格写成了SCSS (",["$","a","a-0",{"href":"https://github.com/ddadaal/ddadaal.me/blob/master/src/components/Article/ArticleItem/article-item.scss","children":["$","code","code-0",{"children":"article-item.scss"}]}],")，并且在其中引用",["$","code","code-0",{"children":"variables.scss"}],"中定义的颜色。这样，修改",["$","code","code-1",{"children":"variables.scss"}],"之后，文章项的样式也能自动同步）。但是这是治标不治本的，并没有解决我的样式代码过于混乱的问题。我希望在以后能够完全使用一个统一的框架和规范来编写我的样式，从而不仅提高代码的可维护性，也能实现诸如主题切换这种功能。"]}]
24:["$","div",null,{"className":"hidden lg:block lg:w-[25%]","children":["$","$L2e",null,{"toc":[{"depth":1,"value":"为什么一直没有暗色模式？","id":"为什么一直没有暗色模式"},{"depth":1,"value":"有哪些修改？","id":"有哪些修改","children":[{"depth":2,"value":"背景色、文字颜色","id":"背景色文字颜色"},{"depth":2,"value":"代码块的颜色","id":"代码块的颜色"}]},{"depth":1,"value":"不足","id":"不足"}],"hasSummary":true}]}]
25:["$","div",null,{"className":"max-w-7xl mx-auto p-4","children":["$","$L2f",null,{"relatedArticles":[{"id":"blog-updates-1","langVersions":[{"excerpt":"\n# 前言\n\n不知不觉，Gatsby博客已经上线了一年多。在这一年中，虽然从表面看起来博客变化不大，但是我一直在对博客做一些更新工作。特别是最近一个月，我对博客一些耽搁已久的问题进行了解决，使整个博客","lang":"cn","time":"2019-09-26 21:46:00 UTC+8","title":"博客的发展一：RSS，国内托管……"}]}]}]}]
26:["$","div",null,{"className":"max-w-7xl mx-auto p-4","children":["$","$L30",null,{"articleId":"dark-mode-online","articleTitle":"暗色模式上线"}]}]
29:null
