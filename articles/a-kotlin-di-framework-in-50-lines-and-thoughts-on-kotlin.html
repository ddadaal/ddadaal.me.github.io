<!DOCTYPE html><html lang="zh-CN" class="scroll-smooth"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/3daf2b50b39d4bbf.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/03113452114c7082.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-348e7a1c25ed629b.js"/><script src="/_next/static/chunks/e6e143be-a900401ffafe4bee.js" async=""></script><script src="/_next/static/chunks/660-6b391e9bc7169e4f.js" async=""></script><script src="/_next/static/chunks/main-app-33c6d11f0e05d874.js" async=""></script><script src="/_next/static/chunks/da31e3a9-c9dd7e25b467e5f9.js" async=""></script><script src="/_next/static/chunks/829-6679bad8cde17d95.js" async=""></script><script src="/_next/static/chunks/784-6a92315793ec2730.js" async=""></script><script src="/_next/static/chunks/468-70c2eb03805d66ab.js" async=""></script><script src="/_next/static/chunks/app/layout-3fab0ac878636d50.js" async=""></script><script src="/_next/static/chunks/9ce7dea4-934f67cd307f40b4.js" async=""></script><script src="/_next/static/chunks/e1bbbf97-0e7c7aedacd0f5f2.js" async=""></script><script src="/_next/static/chunks/1b3e99d6-f8ba0bfcb62ad5ba.js" async=""></script><script src="/_next/static/chunks/448-d410ef824bc324dc.js" async=""></script><script src="/_next/static/chunks/app/articles/%5B%5B...params%5D%5D/page-e8040f581dd37e43.js" async=""></script><script src="/_next/static/chunks/app/page-93a751bf5f2bd749.js" async=""></script><link rel="preload" href="https://services.ddadaal.me/monitor/script.js" as="script"/><title>A Kotlin DI Framework in 50 Lines and Thoughts on Kotlin - ddadaal.me</title><meta name="description" content="ddadaal&#x27;s personal website"/><link rel="manifest" href="/site.webmanifest" crossorigin="use-credentials"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><link rel="icon" href="/icon.svg?35be8e76be1c3618" type="image/svg+xml" sizes="any"/><link rel="apple-touch-icon" href="/apple-icon.png?5334a64f42000bb0" type="image/png" sizes="180x180"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="w-full"><div class="items-center sticky z-50 w-full h-13 transition -top-[1px] bg-base-200 text-base-content"><div class="flex justify-between items-center max-w-7xl mx-auto px-4"><a class="flex items-center justify-center space-x-1" href="/"><img alt="logo" loading="lazy" width="42" height="42" decoding="async" data-nimg="1" style="color:transparent" src="/_next/static/media/logo.8f2bd5ec.svg"/><h1 class="text-sm font-bold">ddadaal.me</h1></a><div class="flex items-center gap-1"><div class="hidden lg:flex"><ul class="menu menu-horizontal"><li><a class="" href="/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg>ä¸»é¡µ</a></li><li><a class="active" href="/articles"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"></path></svg>æ–‡ç« </a></li><li><details><summary class=""><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 384 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"></path></svg>ç®€å†</summary><ul class="shadow bg-base-200 text-base-content min-w-max"><li><a class="" href="/resume/cn">ğŸ‡¨ğŸ‡³ <!-- -->ç®€ä½“ä¸­æ–‡</a></li><li><a class="" href="/resume/en">ğŸ‡ºğŸ‡¸ <!-- -->English</a></li></ul></details></li><li><a class="" href="/slides"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M187.7 153.7c-34 0-61.7 25.7-61.7 57.7 0 31.7 27.7 57.7 61.7 57.7s61.7-26 61.7-57.7c0-32-27.7-57.7-61.7-57.7zm143.4 0c-34 0-61.7 25.7-61.7 57.7 0 31.7 27.7 57.7 61.7 57.7 34.3 0 61.7-26 61.7-57.7.1-32-27.4-57.7-61.7-57.7zm156.6 90l-6 4.3V49.7c0-27.4-20.6-49.7-46-49.7H76.6c-25.4 0-46 22.3-46 49.7V248c-2-1.4-4.3-2.9-6.3-4.3-15.1-10.6-25.1 4-16 17.7 18.3 22.6 53.1 50.3 106.3 72C58.3 525.1 252 555.7 248.9 457.5c0-.7.3-56.6.3-96.6 5.1 1.1 9.4 2.3 13.7 3.1 0 39.7.3 92.8.3 93.5-3.1 98.3 190.6 67.7 134.3-124 53.1-21.7 88-49.4 106.3-72 9.1-13.8-.9-28.3-16.1-17.8zm-30.5 19.2c-68.9 37.4-128.3 31.1-160.6 29.7-23.7-.9-32.6 9.1-33.7 24.9-10.3-7.7-18.6-15.5-20.3-17.1-5.1-5.4-13.7-8-27.1-7.7-31.7 1.1-89.7 7.4-157.4-28V72.3c0-34.9 8.9-45.7 40.6-45.7h317.7c30.3 0 40.9 12.9 40.9 45.7v190.6z"></path></svg>å¹»ç¯ç‰‡</a></li><li><details><summary class=""><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 192 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"></path></svg>å…³äº</summary><ul class="shadow bg-base-200 text-base-content min-w-max"><li><a class="" href="/about/odyssey"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"></path></svg>ä¸€ä¸ªä¸ªäººåšå®¢çš„å²è¯—</a></li><li><a class="" href="/about/project"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"></path></svg>å…³äºç½‘ç«™</a></li><li><a class="" href="/about/me"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 192 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M96 0c35.346 0 64 28.654 64 64s-28.654 64-64 64-64-28.654-64-64S60.654 0 96 0m48 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H48c-26.51 0-48 21.49-48 48v136c0 13.255 10.745 24 24 24h16v136c0 13.255 10.745 24 24 24h64c13.255 0 24-10.745 24-24V352h16c13.255 0 24-10.745 24-24V192c0-26.51-21.49-48-48-48z"></path></svg>å…³äºæˆ‘</a></li></ul></details></li></ul></div><div class="dropdown dropdown-end"><label tabindex="0" class="btn"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705 0 184 82.311 184 184 0 101.705-82.311 184-184 184z"></path></svg><span class="hidden sm:block">è‡ªåŠ¨</span></label><ul tabindex="0" class="dropdown-content menu p-2 bg-base-200 text-base-content shadow rounded-box min-w-max"><li><a class="justify-between">è‡ªåŠ¨</a></li><li><a class="justify-between">æ˜äº®</a></li><li><a class="justify-between">æš—è‰²</a></li><li><a class="justify-between">æ¯å­è›‹ç³•</a></li><li><a class="justify-between">å¤§é»„èœ‚</a></li><li><a class="justify-between">ç™½è‰²å•†åŠ¡</a></li><li><a class="justify-between">é»‘è‰²å•†åŠ¡</a></li><li><a class="justify-between">é‡‘è‰²å¥¢å</a></li><li><a class="justify-between">å¤æ—¥æŸ æª¬</a></li><li><a class="justify-between">ç»¿é‡ä»™è¸ª</a></li><li><a class="justify-between">å¤å¤</a></li><li><a class="justify-between">ç²‰è‰²æµªæ¼«</a></li><li><a class="justify-between">èµ›åšæœ‹å…‹</a></li></ul></div><div class="dropdown dropdown-end"><label tabindex="0" class="btn">ğŸ‡¨ğŸ‡³ <span class="hidden sm:block">ç®€ä½“ä¸­æ–‡</span></label><ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-200 rounded-box min-w-max text-base-content"><li><a class="justify-between">ğŸ‡¨ğŸ‡³ <!-- -->ç®€ä½“ä¸­æ–‡</a></li><li><a class="justify-between">ğŸ‡ºğŸ‡¸ <!-- -->English</a></li></ul></div><div class="dropdown dropdown-end lg:hidden"><label tabindex="0" class="btn btn-ghost"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"></path></svg></label><ul tabindex="0" class="menu menu-compact dropdown-content min-w-max mt-3 p-2 shadow rounded-box bg-base-200 text-base-content"><li><a class="" href="/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg>ä¸»é¡µ</a></li><li><a class="active" href="/articles"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"></path></svg>æ–‡ç« </a></li><li><a><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 384 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"></path></svg>ç®€å†</a><ul><li><a class="" href="/resume/cn">ğŸ‡¨ğŸ‡³ <!-- -->ç®€ä½“ä¸­æ–‡</a></li><li><a class="" href="/resume/en">ğŸ‡ºğŸ‡¸ <!-- -->English</a></li></ul></li><li><a class="" href="/slides"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M187.7 153.7c-34 0-61.7 25.7-61.7 57.7 0 31.7 27.7 57.7 61.7 57.7s61.7-26 61.7-57.7c0-32-27.7-57.7-61.7-57.7zm143.4 0c-34 0-61.7 25.7-61.7 57.7 0 31.7 27.7 57.7 61.7 57.7 34.3 0 61.7-26 61.7-57.7.1-32-27.4-57.7-61.7-57.7zm156.6 90l-6 4.3V49.7c0-27.4-20.6-49.7-46-49.7H76.6c-25.4 0-46 22.3-46 49.7V248c-2-1.4-4.3-2.9-6.3-4.3-15.1-10.6-25.1 4-16 17.7 18.3 22.6 53.1 50.3 106.3 72C58.3 525.1 252 555.7 248.9 457.5c0-.7.3-56.6.3-96.6 5.1 1.1 9.4 2.3 13.7 3.1 0 39.7.3 92.8.3 93.5-3.1 98.3 190.6 67.7 134.3-124 53.1-21.7 88-49.4 106.3-72 9.1-13.8-.9-28.3-16.1-17.8zm-30.5 19.2c-68.9 37.4-128.3 31.1-160.6 29.7-23.7-.9-32.6 9.1-33.7 24.9-10.3-7.7-18.6-15.5-20.3-17.1-5.1-5.4-13.7-8-27.1-7.7-31.7 1.1-89.7 7.4-157.4-28V72.3c0-34.9 8.9-45.7 40.6-45.7h317.7c30.3 0 40.9 12.9 40.9 45.7v190.6z"></path></svg>å¹»ç¯ç‰‡</a></li><li><a><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 192 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"></path></svg>å…³äº</a><ul><li><a class="" href="/about/odyssey"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"></path></svg>ä¸€ä¸ªä¸ªäººåšå®¢çš„å²è¯—</a></li><li><a class="" href="/about/project"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"></path></svg>å…³äºç½‘ç«™</a></li><li><a class="" href="/about/me"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 192 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M96 0c35.346 0 64 28.654 64 64s-28.654 64-64 64-64-28.654-64-64S60.654 0 96 0m48 144h-11.36c-22.711 10.443-49.59 10.894-73.28 0H48c-26.51 0-48 21.49-48 48v136c0 13.255 10.745 24 24 24h16v136c0 13.255 10.745 24 24 24h64c13.255 0 24-10.745 24-24V352h16c13.255 0 24-10.745 24-24V192c0-26.51-21.49-48-48-48z"></path></svg>å…³äºæˆ‘</a></li></ul></li></ul></div></div></div></div><div><article><div class="bg-neutral px-4 py-8"><div class="max-w-7xl mx-auto min-h-[256px] flex justify-center text-center text-neutral-content"><div class="flex flex-col justify-center animate-slide-up"><h1 class="text-4xl my-2">A Kotlin DI Framework in 50 Lines and Thoughts on Kotlin</h1><div class="flex flex-wrap gap-3 my-2 text-sm justify-center"><div class="flex flex-wrap gap-1 items-center"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"></path></svg><a class="badge badge-accent mx-0.5 text-accent-content" href="/articles/search?query=Kotlin">Kotlin</a><a class="badge badge-accent mx-0.5 text-accent-content" href="/articles/search?query=code-trick">ä»£ç æŠ€å·§</a><a class="badge badge-accent mx-0.5 text-accent-content" href="/articles/search?query=thoughts">çœ‹æ³•</a></div><div class="flex items-center" title="å‘è¡¨æ—¶é—´"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"></path></svg><span class="mx-0.5">2019-04-06 15:48:00 UTC+8</span></div><div class="flex items-center"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 384 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"></path></svg><span class="mx-0.5">1765 å­—</span></div><div class="flex items-center"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"></path></svg><span class="mx-0.5">9 åˆ†é’Ÿé˜…è¯»</span></div><div class="flex items-center"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"></path></svg><span class="mx-0.5 space-x-1"><a class="link link-hover" href="/articles/a-kotlin-di-framework-in-50-lines-and-thoughts-on-kotlin/en">English</a></span></div></div></div></div></div><div class="animate-slide-up"><div class="max-w-7xl mx-auto p-4"><div class="flex flex-row space-x-4"><div class="prose max-w-full lg:w-[75%]"><div class="p-4 my-4 bg-neutral rounded shadow"><h1 id="summary" class="text-neutral-content"><a href="#summary" class="mr-1 text-neutral-content"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="inline-block opacity-20 hover:opacity-60" height="16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>âœ¨AIå…¨æ–‡æ‘˜è¦</h1><p class="text-neutral-content">The document discusses the challenges and benefits of using a Dependency Injection (DI) framework in a Java project. It highlights the two main options for dependency management: introducing a full-blown DI framework or using traditional object instantiation or simple factory pattern, which can be time-consuming and cumbersome. The author uses the example of a simple Java project where the interface and implementation class pattern was used to decouple the interface and implementation, but it also introduced complexity. The document suggests using delegation and classpath scan capability to achieve minimal dependencies and extra code, and provides a code example to help understand the process.</p><p class="text-sm justify-end flex text-neutral-content">ç”±<a target="_blank" class="text-neutral-content" href="https://learn.microsoft.com/en-us/azure/ai-services/language-service/summarization/overview?tabs=document-summarization">Azure AI Language Service</a>é©±åŠ¨</p></div><h1 id="why"><a href="#why" class="mr-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="inline-block opacity-20 hover:opacity-60" height="16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>Why</h1>
<p>If you have got used to using DI framework (like Spring) to manage and inject dependencies, and now you have to start a new, relatively simpler, but not so simple project, you have 2 options to work with in terms of dependency management:</p>
<ul>
<li><strong>introduce a full blown DI framework</strong> and waste plenty of time in numerous and verbose configurations</li>
<li><strong>use traditional object instantiation or simple factory pattern</strong> and make the code clumsy and hard to modify</li>
</ul>
<p>I encountered this sort of problem a week ago when I was writing <a href="https://github.com/ddadaal/ClassroomAssistant">the demo project for architecture class</a>, which was only a simple JavaFX project that had a simple dependency hierarchy. What was different in this project from other simple and less designed project was that instead of using class directly, it used <strong>interface and implementation class pattern</strong> in order to match the class diagram and meet the course requirement. Using interface decoupled the interface and implementation, which was a good practice, but also introduced complexity in using this code, since it would be impossible to <strong>new</strong> an interface.</p>
<p>As mentioned before, excluding DI framework option, two patterns could be applied: <strong>object instantiation</strong> and <strong>factory pattern</strong>. Kotlin also supports <a href="https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html#object-declarations">singleton object declaration</a> which was also a good choice. All of them, however, made the code <em>less elegant</em>:</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="kotlin" data-theme="one-dark-pro"><code data-language="kotlin" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#7F848E;font-style:italic">// interface and implementation</span></span>
<span data-line=""><span style="color:#C678DD">interface</span><span style="color:#E5C07B"> SomeService</span></span>
<span data-line=""><span style="color:#C678DD">class</span><span style="color:#E5C07B"> SomeServiceImpl</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">SomeService</span></span></code></pre></figure>
<p>Pattern 1: object instantiation</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="kotlin" data-theme="one-dark-pro"><code data-language="kotlin" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> xxx.SomeService</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// highlight-start</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// Problem 1: have to import the impl class</span></span>
<span data-line=""><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> xxx.SomeServiceImpl</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// highlight-end</span></span>
<span data-line=""> </span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">class</span><span style="color:#E5C07B"> User</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // highlight-start</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // Problem 2: have to specify the interface type and the implementation type</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // Problem 3: not valid if we want singleton</span></span>
<span data-line=""><span style="color:#C678DD">  private</span><span style="color:#C678DD"> val</span><span style="color:#ABB2BF"> service: </span><span style="color:#E5C07B">SomeService</span><span style="color:#56B6C2"> =</span><span style="color:#61AFEF"> SomeServiceImpl</span><span style="color:#ABB2BF">()</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // highlight-end</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#ABB2BF">}</span></span></code></pre></figure>
<p>Pattern 2: simple <strong>singleton</strong> factory pattern</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="kotlin" data-theme="one-dark-pro"><code data-language="kotlin" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#7F848E;font-style:italic">// in the same file where Service and ServiceImpl are defined</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// highlight-start</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// Problem1: manual object instantiation</span></span>
<span data-line=""><span style="color:#C678DD">val</span><span style="color:#ABB2BF"> instance </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> SomeServiceImpl</span><span style="color:#ABB2BF">()</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// highlight-end</span></span>
<span data-line=""> </span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// highlight-start</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// Problem2: manually write a factory function</span></span>
<span data-line=""><span style="color:#C678DD">fun</span><span style="color:#61AFEF"> createSomeService</span><span style="color:#ABB2BF">(): </span><span style="color:#E5C07B">SomeService</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> instance</span></span>
<span data-line=""><span style="color:#ABB2BF">}</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// highlight-end</span></span>
<span data-line=""> </span></code></pre></figure>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="kotlin" data-theme="one-dark-pro"><code data-language="kotlin" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#7F848E;font-style:italic">// in another file</span></span>
<span data-line=""><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> xxx.SomeService</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">class</span><span style="color:#E5C07B"> User</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // highlight-start</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // Problem 3: manual factory function call</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // Problem 4: implicit and extra dependency to factory function</span></span>
<span data-line=""><span style="color:#C678DD">  private</span><span style="color:#C678DD"> val</span><span style="color:#ABB2BF"> service </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> createSomeService</span><span style="color:#ABB2BF">()</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // highlight-end</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#ABB2BF">}</span></span></code></pre></figure>
<p>Pattern 2.1: simple <strong>singleton</strong> factory pattern using <a href="https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html#companion-objects">companion object</a></p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="kotlin" data-theme="one-dark-pro"><code data-language="kotlin" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#7F848E;font-style:italic">// in the same file where Service and ServiceImpl are defined</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">interface</span><span style="color:#E5C07B"> SomeService</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#C678DD">  companion</span><span style="color:#C678DD"> object</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">    // highlight-start</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">    // Problem 1: interface relies on implementation??</span></span>
<span data-line=""><span style="color:#C678DD">    val</span><span style="color:#ABB2BF"> service: </span><span style="color:#E5C07B">SomeService</span><span style="color:#56B6C2"> =</span><span style="color:#61AFEF"> SomeServiceImpl</span><span style="color:#ABB2BF">()</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">    // highlight-end</span></span>
<span data-line=""><span style="color:#ABB2BF">  }</span></span>
<span data-line=""><span style="color:#ABB2BF">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">class</span><span style="color:#E5C07B"> SomeServiceImpl</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">SomeService</span></span></code></pre></figure>
<p>Pattern 2.2: <strong>singleton</strong> using <a href="https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html#object-declarations">singleton object declaration</a></p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="kotlin" data-theme="one-dark-pro"><code data-language="kotlin" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#7F848E;font-style:italic">// in the same file where Service and ServiceImpl are defined</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">interface</span><span style="color:#E5C07B"> SomeService</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// highlight-next-line</span></span>
<span data-line=""><span style="color:#C678DD">object</span><span style="color:#E5C07B"> SomeServiceImpl</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">SomeService</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="kotlin" data-theme="one-dark-pro"><code data-language="kotlin" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> xxx.SomeService</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// highlight-start</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// Problem 1: have to import the impl class</span></span>
<span data-line=""><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> xxx.SomeServiceImpl</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// highlight-end</span></span>
<span data-line=""> </span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">class</span><span style="color:#E5C07B"> User</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // highlight-start</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // Problem 2: have to specify the interface type and the implementation type</span></span>
<span data-line=""><span style="color:#C678DD">  private</span><span style="color:#C678DD"> val</span><span style="color:#ABB2BF"> service: </span><span style="color:#E5C07B">SomeService</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> SomeServiceImpl</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // highlight-end</span></span>
<span data-line=""><span style="color:#ABB2BF">}</span></span></code></pre></figure>
<p>All of these problems were of little importance, but to an extent affected my coding experiences. What I would like was <strong>minimal dependencies</strong> and <strong>minimal extra code</strong>.</p>
<p>Luckily, with the help of <a href="https://kotlinlang.org/docs/reference/delegation.html">delegation</a> and classpath scan capability provided by <a href="https://github.com/classgraph/classgraph">classgraph</a>, we could achieve the <em>minimality</em>, with the introduction of only three simple APIs:</p>
<ul>
<li><code>Service</code> annotation to annotate service interface</li>
<li><code>ServiceImpl</code> annotation to annotate implementation</li>
<li><code>di</code> function for delegation</li>
</ul>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="kotlin" data-theme="one-dark-pro"><code data-language="kotlin" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#7F848E;font-style:italic">// annotate service interface with @Service</span></span>
<span data-line=""><span style="color:#E5C07B">@Service</span></span>
<span data-line=""><span style="color:#C678DD">interface</span><span style="color:#E5C07B"> YourService</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#C678DD">  fun</span><span style="color:#61AFEF"> hello</span><span style="color:#ABB2BF">()</span></span>
<span data-line=""><span style="color:#ABB2BF">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// annotate service implementation class with @ServiceImpl</span></span>
<span data-line=""><span style="color:#E5C07B">@ServiceImpl</span></span>
<span data-line=""><span style="color:#C678DD">class</span><span style="color:#E5C07B"> YourServiceImpl</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">YourService</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#C678DD">  override</span><span style="color:#C678DD"> fun</span><span style="color:#61AFEF"> hello</span><span style="color:#ABB2BF">() {</span></span>
<span data-line=""><span style="color:#61AFEF">    println</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;Hello from YourServiceImpl&quot;</span><span style="color:#ABB2BF">)</span></span>
<span data-line=""><span style="color:#ABB2BF">  }</span></span>
<span data-line=""><span style="color:#ABB2BF">}</span></span></code></pre></figure>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="kotlin" data-theme="one-dark-pro"><code data-language="kotlin" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#7F848E;font-style:italic">// in a random class that uses the service</span></span>
<span data-line=""><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> YourService</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">class</span><span style="color:#E5C07B"> AnotherClass</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // declare a property with the interface type and delegate it with di(),</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // the function *where the magic is*</span></span>
<span data-line=""><span style="color:#C678DD">  private</span><span style="color:#C678DD"> val</span><span style="color:#ABB2BF"> yourService: </span><span style="color:#E5C07B">YourService</span><span style="color:#E5C07B"> by</span><span style="color:#E5C07B"> di</span><span style="color:#ABB2BF">()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">  fun</span><span style="color:#61AFEF"> hello</span><span style="color:#ABB2BF">() {</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">    // just call it</span></span>
<span data-line=""><span style="color:#ABB2BF">    yourService.</span><span style="color:#61AFEF">hello</span><span style="color:#ABB2BF">();</span></span>
<span data-line=""><span style="color:#ABB2BF">  }</span></span>
<span data-line=""><span style="color:#ABB2BF">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#C678DD">fun</span><span style="color:#61AFEF"> main</span><span style="color:#ABB2BF">() {</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // just new an instance as usual</span></span>
<span data-line=""><span style="color:#C678DD">  val</span><span style="color:#ABB2BF"> obj </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> AnotherClass</span><span style="color:#ABB2BF">()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#ABB2BF">  obj.</span><span style="color:#61AFEF">hello</span><span style="color:#ABB2BF">() </span><span style="color:#7F848E;font-style:italic">// print out &quot;Hello from YourServiceImpl&quot;</span></span>
<span data-line=""><span style="color:#ABB2BF">}</span></span>
<span data-line=""> </span></code></pre></figure>
<h1 id="how-it-is-done"><a href="#how-it-is-done" class="mr-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="inline-block opacity-20 hover:opacity-60" height="16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>How It is Done?</h1>
<p>Here is the code with some comments to help understanding.</p>
<p>Before getting started, install <a href="https://github.com/classgraph/classgraph">classgraph</a> in your project with Maven or Gradle to have all the Services and ServiceImpls automatically scanned and configured like Spring Boot would do.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="kotlin" data-theme="one-dark-pro"><code data-language="kotlin" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#7F848E;font-style:italic">// imports</span></span>
<span data-line=""><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> io.github.classgraph.ClassGraph</span></span>
<span data-line=""><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> kotlin.reflect.KClass</span></span>
<span data-line=""><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> kotlin.properties.ReadOnlyProperty</span></span>
<span data-line=""><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> kotlin.reflect.KProperty</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// annotations to annotate Service interface and Service implementation class</span></span>
<span data-line=""><span style="color:#E5C07B">@Target</span><span style="color:#ABB2BF">(AnnotationTarget.CLASS)</span></span>
<span data-line=""><span style="color:#E5C07B">@Retention</span><span style="color:#ABB2BF">(AnnotationRetention.RUNTIME)</span></span>
<span data-line=""><span style="color:#C678DD">annotation</span><span style="color:#C678DD"> class</span><span style="color:#E5C07B"> ServiceImpl</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E5C07B">@Target</span><span style="color:#ABB2BF">(AnnotationTarget.CLASS)</span></span>
<span data-line=""><span style="color:#E5C07B">@Retention</span><span style="color:#ABB2BF">(AnnotationRetention.RUNTIME)</span></span>
<span data-line=""><span style="color:#C678DD">annotation</span><span style="color:#C678DD"> class</span><span style="color:#E5C07B"> Service</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// the exception when an implementation is not available</span></span>
<span data-line=""><span style="color:#C678DD">class</span><span style="color:#E5C07B"> NotProvidedException</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">Exception</span><span style="color:#ABB2BF">()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// the container class</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// `scanBase` is the base package that would be scanned</span></span>
<span data-line=""><span style="color:#E5C07B">@Suppress</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;UNCHECKED_CAST&quot;</span><span style="color:#ABB2BF">)</span></span>
<span data-line=""><span style="color:#C678DD">class</span><span style="color:#E5C07B"> CADiContainer</span><span style="color:#ABB2BF">(scanBase: </span><span style="color:#E5C07B">String</span><span style="color:#ABB2BF">) {</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // key as the Java Class object and value as its corresponding singleton instance</span></span>
<span data-line=""><span style="color:#C678DD">  private</span><span style="color:#C678DD"> val</span><span style="color:#ABB2BF"> map </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> mutableMapOf</span><span style="color:#ABB2BF">&lt;</span><span style="color:#E5C07B">Class</span><span style="color:#ABB2BF">&lt;*&gt;, </span><span style="color:#E5C07B">Any</span><span style="color:#ABB2BF">?&gt;()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#61AFEF">  init</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">    // scan specified package</span></span>
<span data-line=""><span style="color:#61AFEF">    ClassGraph</span><span style="color:#ABB2BF">()</span></span>
<span data-line=""><span style="color:#ABB2BF">      .</span><span style="color:#61AFEF">enableAllInfo</span><span style="color:#ABB2BF">()</span></span>
<span data-line=""><span style="color:#ABB2BF">      .</span><span style="color:#61AFEF">whitelistPackages</span><span style="color:#ABB2BF">(scanBase)</span></span>
<span data-line=""><span style="color:#ABB2BF">      .</span><span style="color:#61AFEF">scan</span><span style="color:#ABB2BF">()</span></span>
<span data-line=""><span style="color:#ABB2BF">      .</span><span style="color:#61AFEF">use</span><span style="color:#ABB2BF"> { scanResult </span><span style="color:#C678DD">-&gt;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">        // find out all interfaces annotated with Service</span></span>
<span data-line=""><span style="color:#C678DD">        val</span><span style="color:#ABB2BF"> services </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> scanResult.</span><span style="color:#61AFEF">getClassesWithAnnotation</span><span style="color:#ABB2BF">(Service::</span><span style="color:#61AFEF">class</span><span style="color:#ABB2BF">.qualifiedName).</span><span style="color:#61AFEF">loadClasses</span><span style="color:#ABB2BF">()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">        // find out all implementation classes annotated with ServiceImpl</span></span>
<span data-line=""><span style="color:#C678DD">        val</span><span style="color:#ABB2BF"> impls </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> scanResult.</span><span style="color:#61AFEF">getClassesWithAnnotation</span><span style="color:#ABB2BF">(ServiceImpl::</span><span style="color:#61AFEF">class</span><span style="color:#ABB2BF">.qualifiedName)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">        // fill the instance map with service and service implementation</span></span>
<span data-line=""><span style="color:#ABB2BF">        services.</span><span style="color:#61AFEF">forEach</span><span style="color:#ABB2BF"> { service </span><span style="color:#C678DD">-&gt;</span></span>
<span data-line=""><span style="color:#ABB2BF">            map[service] </span><span style="color:#56B6C2">=</span><span style="color:#ABB2BF"> impls.</span><span style="color:#61AFEF">find</span><span style="color:#ABB2BF"> { it.</span><span style="color:#61AFEF">implementsInterface</span><span style="color:#ABB2BF">(service.name) }?.</span><span style="color:#61AFEF">loadClass</span><span style="color:#ABB2BF">()?.</span><span style="color:#61AFEF">newInstance</span><span style="color:#ABB2BF">()</span></span>
<span data-line=""><span style="color:#ABB2BF">        }</span></span>
<span data-line=""><span style="color:#ABB2BF">      }</span></span>
<span data-line=""><span style="color:#ABB2BF">  }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">  // just look up the map and try to get the instance</span></span>
<span data-line=""><span style="color:#C678DD">  fun</span><span style="color:#ABB2BF"> &lt;</span><span style="color:#E5C07B">T</span><span style="color:#ABB2BF"> : </span><span style="color:#E5C07B">Any</span><span style="color:#ABB2BF">&gt; </span><span style="color:#61AFEF">getInstance</span><span style="color:#ABB2BF">(type: </span><span style="color:#E5C07B">Class</span><span style="color:#ABB2BF">&lt;</span><span style="color:#E5C07B">T</span><span style="color:#ABB2BF">&gt;): </span><span style="color:#E5C07B">T</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#C678DD">    return</span><span style="color:#ABB2BF"> map[type] </span><span style="color:#C678DD">as</span><span style="color:#ABB2BF"> T? ?: </span><span style="color:#C678DD">throw</span><span style="color:#61AFEF"> NotProvidedException</span><span style="color:#ABB2BF">()</span></span>
<span data-line=""><span style="color:#ABB2BF">  }</span></span>
<span data-line=""><span style="color:#ABB2BF">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// instantiate a DI Container</span></span>
<span data-line=""><span style="color:#C678DD">val</span><span style="color:#ABB2BF"> container </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> CADiContainer</span><span style="color:#ABB2BF">(scanBase)</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// Here is where magic is:</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// define a inline function with reified type parameter</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// and return an anonymous ReadOnlyProerty object to be used as a delegate</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// which uses the reified type parameter</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">// to look up and return the instance in the container</span></span>
<span data-line=""><span style="color:#C678DD">inline</span><span style="color:#C678DD"> fun</span><span style="color:#ABB2BF"> &lt;</span><span style="color:#E5C07B">reified</span><span style="color:#E5C07B"> T</span><span style="color:#ABB2BF"> : </span><span style="color:#E5C07B">Any</span><span style="color:#ABB2BF">&gt; </span><span style="color:#61AFEF">di</span><span style="color:#ABB2BF">(): </span><span style="color:#E5C07B">ReadOnlyProperty</span><span style="color:#ABB2BF">&lt;</span><span style="color:#E5C07B">Any</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">T</span><span style="color:#ABB2BF">&gt; {</span></span>
<span data-line=""><span style="color:#C678DD">    return</span><span style="color:#C678DD"> object</span><span style="color:#ABB2BF"> : </span><span style="color:#E5C07B">ReadOnlyProperty</span><span style="color:#ABB2BF">&lt;</span><span style="color:#E5C07B">Any</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">T</span><span style="color:#ABB2BF">&gt; {</span></span>
<span data-line=""><span style="color:#C678DD">        override</span><span style="color:#C678DD"> fun</span><span style="color:#61AFEF"> getValue</span><span style="color:#ABB2BF">(thisRef: </span><span style="color:#E5C07B">Any</span><span style="color:#ABB2BF">, property: </span><span style="color:#E5C07B">KProperty</span><span style="color:#ABB2BF">&lt;*&gt;): </span><span style="color:#E5C07B">T</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#C678DD">            return</span><span style="color:#ABB2BF"> container.</span><span style="color:#61AFEF">getInstance</span><span style="color:#ABB2BF">(T::</span><span style="color:#61AFEF">class</span><span style="color:#ABB2BF">.java)</span></span>
<span data-line=""><span style="color:#ABB2BF">        }</span></span>
<span data-line=""><span style="color:#ABB2BF">    }</span></span>
<span data-line=""><span style="color:#ABB2BF">}</span></span></code></pre></figure>
<h1 id="whats-good"><a href="#whats-good" class="mr-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="inline-block opacity-20 hover:opacity-60" height="16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>What&#x27;s Good?</h1>
<ul>
<li><strong>Singleton</strong> injection</li>
</ul>
<p>All injected instances are singleton, which is how DI is usually used.</p>
<ul>
<li><strong>new</strong> support</li>
</ul>
<p>You can also simply <strong>new</strong> an object (which should not be annotated with @ServiceImpl) if singleton injection is not enough, or context parameters are required when using a service. <strong>New-ed</strong> object can still use its dependencies. No extra learning needed.</p>
<ul>
<li><strong>Circular</strong> and <strong>hierarchy</strong> Dependency</li>
</ul>
<p>Unlike commonly used <strong>constructor injection</strong> and <strong>setter injection</strong>, dependent object are fetched <strong>dynamically</strong> from the container <strong>when the property is being accessed</strong>. Nothing will be injected during the instantiation of objects. So there would be no problem to have circular and hierarchy dependency structure at all.</p>
<ul>
<li><strong>Structure</strong> your project as you wish</li>
</ul>
<p>With other DI frameworks (like <a href="https://autofac.readthedocs.io/en/latest/getting-started/index.html#structuring-the-application">autofac</a> and Spring), the whole application must be structured <strong>from the ground up</strong> and configured in guidance of the DI framework of your choice , which is time-wasting and totally a overkill if a simple application is all what you need.</p>
<h1 id="limitations"><a href="#limitations" class="mr-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="inline-block opacity-20 hover:opacity-60" height="16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>Limitations</h1>
<ul>
<li>Can not use dependency in <code>init</code> block</li>
</ul>
<p>All services are instantiated <strong>randomly</strong> (to be more precise, in the order of time when it is scanned), regardless of <strong>their dependency relationships</strong>. For example, <strong>if A uses B, it is possible that B is instantiated earier than A</strong>, in which case access to B inside A&#x27;s <code>init</code> block would cause <code>NotProvidedException</code> since at that time A instance has not been in the container. This problem can be solved with <strong>prior dependency relationship analysis</strong> or <strong>custom after-instantiation hook</strong>.</p>
<ul>
<li>No advanced features like object lifetime control, scope, test...</li>
</ul>
<p>It should be emphasized that our 50 lines of code only targets to <strong>small application</strong> and <strong>is not for production</strong>, so advanced features are never considered. Use full blown DI framework if your application is serious.</p>
<h1 id="my-thoughts-on-kotlin"><a href="#my-thoughts-on-kotlin" class="mr-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="inline-block opacity-20 hover:opacity-60" height="16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path></svg></a>My Thoughts on Kotlin</h1>
<p>My first impression to Kotlin was a mixed bag:</p>
<p>It had lots of features that C# and Java did&#x27;t, which does improve coding experience a lot: <strong>strict nullity check</strong>, <strong>pattern matching</strong>(which C# is introducing), <strong>delegation</strong>, <strong>function type</strong> (<span data-rehype-pretty-code-figure=""><code data-language="kotlin" data-theme="one-dark-pro" style="background-color:#282c34;color:#abb2bf"><span data-line=""><span style="color:#ABB2BF">(Int, String) </span><span style="color:#C678DD">-&gt;</span><span style="color:#ABB2BF"> String</span></span></code></span>, which is more intuitive than <code>Action</code> delegations in C#, and various and differently named built-in functional interfaces (like <code>Consumer</code>, <code>Producer</code>) in Java which are hard to remember), <strong>inline functons</strong> and more;</p>
<p>Some parts of language seemed confusing at first, but later was proved to be excellent. For example <strong><a href="https://kotlinlang.org/docs/reference/lambdas.html#lambda-expressions-and-anonymous-functions">lambda</a></strong> in Kotlin needs to be wrapped with a brace(<code>{}</code>) pair  (like <span data-rehype-pretty-code-figure=""><code data-language="kotlin" data-theme="one-dark-pro" style="background-color:#282c34;color:#abb2bf"><span data-line=""><span style="color:#61AFEF">func</span><span style="color:#ABB2BF">(arr, {a, b </span><span style="color:#C678DD">-&gt;</span><span style="color:#ABB2BF">  a </span><span style="color:#56B6C2">&lt;</span><span style="color:#ABB2BF"> b})</span></span></code></span> (just an example)), where Java doesn&#x27;t (<span data-rehype-pretty-code-figure=""><code data-language="java" data-theme="one-dark-pro" style="background-color:#282c34;color:#abb2bf"><span data-line=""><span style="color:#61AFEF">func</span><span style="color:#E06C75">(arr</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75"> (a</span><span style="color:#ABB2BF">,</span><span style="color:#E06C75"> b) </span><span style="color:#C678DD">-&gt;</span><span style="color:#E06C75"> a </span><span style="color:#56B6C2">&lt;</span><span style="color:#E06C75"> b)</span></span></code></span>). However with the ability to <a href="https://kotlinlang.org/docs/reference/lambdas.html#lambda-expressions-and-anonymous-functions">write the last lambda parameter outside of parentheses</a> (<span data-rehype-pretty-code-figure=""><code data-language="kotlin" data-theme="one-dark-pro" style="background-color:#282c34;color:#abb2bf"><span data-line=""><span style="color:#61AFEF">func</span><span style="color:#ABB2BF">(arr) {a, b </span><span style="color:#C678DD">-&gt;</span><span style="color:#ABB2BF"> x a </span><span style="color:#56B6C2">&lt;</span><span style="color:#ABB2BF"> b}</span></span></code></span>), the extra abilities it brings overweigh the disadvantages.</p>
<p>For example, with the help of <a href="https://tornadofx.io/">TornadoFX</a>, an excellent JavaFX framework for Kotlin, building JavaFX views can be done <strong>directly in Kotlin</strong> elegantly, which is even better than FXML, since <em>strongly-typed-ness</em> makes coding way less error-prone, verbose and intuitive than XML.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#282c34;color:#abb2bf" tabindex="0" data-language="kotlin" data-theme="one-dark-pro"><code data-language="kotlin" data-theme="one-dark-pro" style="display:grid"><span data-line=""><span style="color:#7F848E;font-style:italic">// define a vbox</span></span>
<span data-line=""><span style="color:#61AFEF">vbox</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">	// define a button as a child component, with &quot;Button&quot; as text, and an onAction function</span></span>
<span data-line=""><span style="color:#61AFEF">	button</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;Button&quot;</span><span style="color:#ABB2BF">) {</span></span>
<span data-line=""><span style="color:#61AFEF">		action</span><span style="color:#ABB2BF"> {</span></span>
<span data-line=""><span style="color:#61AFEF">			replaceWith</span><span style="color:#ABB2BF">&lt;</span><span style="color:#E5C07B">StudentCheckinView</span><span style="color:#ABB2BF">&gt;(sizeToScene </span><span style="color:#56B6C2">=</span><span style="color:#D19A66"> true</span><span style="color:#ABB2BF">)</span></span>
<span data-line=""><span style="color:#ABB2BF">		}</span></span>
<span data-line=""><span style="color:#ABB2BF">	}</span></span>
<span data-line=""><span style="color:#7F848E;font-style:italic">	// a list view whose data source is aList</span></span>
<span data-line=""><span style="color:#61AFEF">	listview</span><span style="color:#ABB2BF">(aList)</span></span>
<span data-line=""><span style="color:#ABB2BF">}</span></span></code></pre></figure>
<p>Gradle also <a href="https://docs.gradle.org/current/userguide/kotlin_dsl.html">supports Kotlin as its DSL</a> alongside Groovy, which also proves the benefits of this grammar are phenomenal.</p>
<p>Of course Kotlin has some problems, like the grammar of anonymous object is more verbose than Java&#x27;s (where just a lambda would be enough) and some type system related problems thanks to the type erasure of JVM.</p>
<p>But the defects cannot obscure the virtues.</p>
<p>The features (including <em>grammar sugars</em>) Kotlin has have opened my eyes, showing me how a programming language that is modern, well-designed and has no history burdens can be like, how these features and grammar sugars can make coding much more productive and enjoyful, and most importantly, <strong>how our ways of thinking a problem can be different</strong>.</p>
<p>Everyone knows that programming languages are just tools: that&#x27;s true, but <strong>tools can also influence how we look at problems</strong>.</p>
<p>A programmer who only knew procedural programming language would try to solve every problems procedurally, quickly being overwhelmed by exponentially growing complexity; A OOP only programmer would wrap everything into objects, resulting in piles of useless boilerplate codes and a class hierarchy so complicated that only god could understand it; A FP originalist would try to use FP on everything, ignoring the nature of the problem, the communities of selected technologies and his/her teammates, all leading to the failure of the project.</p>
<p>Learning different languages can bring different angles to view a problem and different tools to solve a problem, and that is valuable for any programmers.</p></div><div class="hidden lg:block lg:w-[25%]"><div class="px-1 sticky top-24 max-h-[60vh] overflow-auto"><div class="flex space-x-1 items-center py-2"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0z"></path><path d="M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"></path></svg><span>ç›®å½•</span></div><ul class="pl-2 border-l border-neutral"><li class="w-full text-sm"><a class="transition hover:bg-base-300 rounded w-full flex p-1" data-tocid="summary" href="#summary"><span class="font-bold">âœ¨AIå…¨æ–‡æ‘˜è¦</span></a></li><li class="w-full text-sm"><a class="transition hover:bg-base-300 rounded w-full flex p-1" data-tocid="why" href="#why">Why</a></li><li class="w-full text-sm"><a class="transition hover:bg-base-300 rounded w-full flex p-1" data-tocid="how-it-is-done" href="#how-it-is-done">How It is Done?</a></li><li class="w-full text-sm"><a class="transition hover:bg-base-300 rounded w-full flex p-1" data-tocid="whats-good" href="#whats-good">What&#x27;s Good?</a></li><li class="w-full text-sm"><a class="transition hover:bg-base-300 rounded w-full flex p-1" data-tocid="limitations" href="#limitations">Limitations</a></li><li class="w-full text-sm"><a class="transition hover:bg-base-300 rounded w-full flex p-1" data-tocid="my-thoughts-on-kotlin" href="#my-thoughts-on-kotlin">My Thoughts on Kotlin</a></li></ul></div></div></div></div><div class="max-w-7xl mx-auto p-4"></div><div class="max-w-7xl mx-auto p-4"><div><h2 class="text-2xl font-bold mb-2 flex items-center"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"></path></svg><span class="mx-2"> è¯„è®º</span></h2></div></div></div></article></div><footer class="bg-base-200 text-base-content"><div class="footer py-6 max-w-7xl mx-auto px-4"><div class="space-y-1"><p>ğŸ‘¨ğŸ¼â€ğŸ’»Â <!-- -->æœ¬ç½‘ç«™ç”±<a class="link link-hover" href="/about/me/cn">ddadaal</a>è‡ªè±ªåœ°ç¼–å†™</p><p>ğŸ“<!-- -->æœ¬ç«™æ–‡ç« åœ¨<a rel="licene noreferrer" target="_blank" class="link" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>åè®®ä¸‹æˆæƒ</p><div class="tooltip" data-tip="2018-11-17 06:51:00 UTC+0"><p>ğŸ“… <!-- -->åšå®¢å·²ç»è¿è¡Œ <span class="countdown"><span style="--value:5"></span></span> å¹´ <span class="countdown"><span style="--value:7"></span></span> æœˆ <span class="countdown"><span style="--value:24"></span></span> å¤© <span class="countdown"><span style="--value:4"></span></span> æ—¶ <span class="countdown"><span style="--value:8"></span></span> åˆ† <span class="countdown"><span style="--value:55"></span></span> ç§’</p></div><p>â²ï¸ <!-- -->æœ€åæ›´æ–°<!-- -->: Â <!-- -->2024-06-12 10:59:55 UTC+0</p><div><p>ğŸ“² <!-- -->è”ç³»æˆ‘</p><div class="flex py-2 gap-2"><span><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=540232834&amp;site=qq&amp;menu=yes" title="QQ: 540232834" target="_blank" class="block transition hover:scale-125" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="22.400000000000002" width="22.400000000000002" xmlns="http://www.w3.org/2000/svg"><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704z"></path></svg></a></span><span><a href="mailto://ddadaal.me@outlook.com" title="E-mail: ddadaal@outlook.com" target="_blank" class="block transition hover:scale-125" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="22.400000000000002" width="22.400000000000002" xmlns="http://www.w3.org/2000/svg"><path d="M160 448c-25.6 0-51.2-22.4-64-32-64-44.8-83.2-60.8-96-70.4V480c0 17.67 14.33 32 32 32h256c17.67 0 32-14.33 32-32V345.6c-12.8 9.6-32 25.6-96 70.4-12.8 9.6-38.4 32-64 32zm128-192H32c-17.67 0-32 14.33-32 32v16c25.6 19.2 22.4 19.2 115.2 86.4 9.6 6.4 28.8 25.6 44.8 25.6s35.2-19.2 44.8-22.4c92.8-67.2 89.6-67.2 115.2-86.4V288c0-17.67-14.33-32-32-32zm256-96H224c-17.67 0-32 14.33-32 32v32h96c33.21 0 60.59 25.42 63.71 57.82l.29-.22V416h192c17.67 0 32-14.33 32-32V192c0-17.67-14.33-32-32-32zm-32 128h-64v-64h64v64zm-352-96c0-35.29 28.71-64 64-64h224V32c0-17.67-14.33-32-32-32H96C78.33 0 64 14.33 64 32v192h96v-32z"></path></svg></a></span><span><a href="https://www.linkedin.com/in/chenjunda/" title="LinkedIn: é™ˆä¿Šè¾¾" target="_blank" class="block transition hover:scale-125" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="22.400000000000002" width="22.400000000000002" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></span><span><a href="https://github.com/ddadaal" title="GitHub: ddadaal" target="_blank" class="block transition hover:scale-125" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="22.400000000000002" width="22.400000000000002" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></span><span><a href="https://steamcommunity.com/profiles/76561198104889782" title="Steam: Victor Crubs" target="_blank" class="block transition hover:scale-125" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="22.400000000000002" width="22.400000000000002" xmlns="http://www.w3.org/2000/svg"><path d="M496 256c0 137-111.2 248-248.4 248-113.8 0-209.6-76.3-239-180.4l95.2 39.3c6.4 32.1 34.9 56.4 68.9 56.4 39.2 0 71.9-32.4 70.2-73.5l84.5-60.2c52.1 1.3 95.8-40.9 95.8-93.5 0-51.6-42-93.5-93.7-93.5s-93.7 42-93.7 93.5v1.2L176.6 279c-15.5-.9-30.7 3.4-43.5 12.1L0 236.1C10.2 108.4 117.1 8 247.6 8 384.8 8 496 119 496 256zM155.7 384.3l-30.5-12.6a52.79 52.79 0 0 0 27.2 25.8c26.9 11.2 57.8-1.6 69-28.4 5.4-13 5.5-27.3.1-40.3-5.4-13-15.5-23.2-28.5-28.6-12.9-5.4-26.7-5.2-38.9-.6l31.5 13c19.8 8.2 29.2 30.9 20.9 50.7-8.3 19.9-31 29.2-50.8 21zm173.8-129.9c-34.4 0-62.4-28-62.4-62.3s28-62.3 62.4-62.3 62.4 28 62.4 62.3-27.9 62.3-62.4 62.3zm.1-15.6c25.9 0 46.9-21 46.9-46.8 0-25.9-21-46.8-46.9-46.8s-46.9 21-46.9 46.8c.1 25.8 21.1 46.8 46.9 46.8z"></path></svg></a></span><span><a href="https://zhihu.com/people/VicCrubs" title="çŸ¥ä¹ï¼šé™ˆä¿Šè¾¾" target="_blank" class="block transition hover:scale-125" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 640 512" height="22.400000000000002" width="22.400000000000002" xmlns="http://www.w3.org/2000/svg"><path d="M170.54 148.13v217.54l23.43.01 7.71 26.37 42.01-26.37h49.53V148.13H170.54zm97.75 193.93h-27.94l-27.9 17.51-5.08-17.47-11.9-.04V171.75h72.82v170.31zm-118.46-94.39H97.5c1.74-27.1 2.2-51.59 2.2-73.46h51.16s1.97-22.56-8.58-22.31h-88.5c3.49-13.12 7.87-26.66 13.12-40.67 0 0-24.07 0-32.27 21.57-3.39 8.9-13.21 43.14-30.7 78.12 5.89-.64 25.37-1.18 36.84-22.21 2.11-5.89 2.51-6.66 5.14-14.53h28.87c0 10.5-1.2 66.88-1.68 73.44H20.83c-11.74 0-15.56 23.62-15.56 23.62h65.58C66.45 321.1 42.83 363.12 0 396.34c20.49 5.85 40.91-.93 51-9.9 0 0 22.98-20.9 35.59-69.25l53.96 64.94s7.91-26.89-1.24-39.99c-7.58-8.92-28.06-33.06-36.79-41.81L87.9 311.95c4.36-13.98 6.99-27.55 7.87-40.67h61.65s-.09-23.62-7.59-23.62v.01zm412.02-1.6c20.83-25.64 44.98-58.57 44.98-58.57s-18.65-14.8-27.38-4.06c-6 8.15-36.83 48.2-36.83 48.2l19.23 14.43zm-150.09-59.09c-9.01-8.25-25.91 2.13-25.91 2.13s39.52 55.04 41.12 57.45l19.46-13.73s-25.67-37.61-34.66-45.86h-.01zM640 258.35c-19.78 0-130.91.93-131.06.93v-101c4.81 0 12.42-.4 22.85-1.2 40.88-2.41 70.13-4 87.77-4.81 0 0 12.22-27.19-.59-33.44-3.07-1.18-23.17 4.58-23.17 4.58s-165.22 16.49-232.36 18.05c1.6 8.82 7.62 17.08 15.78 19.55 13.31 3.48 22.69 1.7 49.15.89 24.83-1.6 43.68-2.43 56.51-2.43v99.81H351.41s2.82 22.31 25.51 22.85h107.94v70.92c0 13.97-11.19 21.99-24.48 21.12-14.08.11-26.08-1.15-41.69-1.81 1.99 3.97 6.33 14.39 19.31 21.84 9.88 4.81 16.17 6.57 26.02 6.57 29.56 0 45.67-17.28 44.89-45.31v-73.32h122.36c9.68 0 8.7-23.78 8.7-23.78l.03-.01z"></path></svg></a></span><span><a href="https://www.douban.com/people/183064260/" title="è±†ç“£: ddadaal" target="_blank" class="block transition hover:scale-125" rel="noreferrer"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" height="22.400000000000002" width="22.400000000000002" xmlns="http://www.w3.org/2000/svg"><path d="M.51 3.06h22.98V.755H.51V3.06Zm20.976 2.537v9.608h-2.137l-1.669 5.76H24v2.28H0v-2.28h6.32l-1.67-5.76H2.515V5.597h18.972Zm-5.066 9.608H7.58l1.67 5.76h5.501l1.67-5.76ZM18.367 7.9H5.634v5.025h12.733V7.9Z"></path></svg></a></span></div></div><p class="text-center">Â© <!-- -->2024<!-- --> | <!-- -->ç”¨ â¤ åˆ¶ä½œ</p></div><div><span class="footer-title">ğŸš€ <!-- -->å¼ºåŠ›é©±åŠ¨</span><a class="link link-hover" target="_blank" href="https://reactjs.org/" rel="noreferrer">React</a><a class="link link-hover" target="_blank" href="https://nextjs.org/" rel="noreferrer">Next.js</a><a class="link link-hover" target="_blank" href="https://pages.github.com/" rel="noreferrer">GitHub Pages</a><a class="link link-hover" target="_blank" href="https://www.typescriptlang.org/" rel="noreferrer">TypeScript</a></div><div><span class="footer-title">ğŸ¨ <!-- -->æç»˜ä¸»é¢˜</span><a class="link link-hover" target="_blank" href="https://daisyui.com/" rel="noreferrer">daisyui</a><a class="link link-hover" target="_blank" href="https://tailwindcss.com/" rel="noreferrer">tailwind</a></div><div><span class="footer-title">ğŸ“ <!-- -->è”ç³»æˆ‘</span><a class="link link-hover" target="_blank" href="https://idealclover.top" rel="noreferrer">idealclover - ç¿ ç¿ é…±çš„ä¸ªäººç½‘ç«™</a><a class="link link-hover" target="_blank" href="https://sephidator.xyz" rel="noreferrer">Sephidator - Sephidatorçš„ä¸ªäººåšå®¢</a><a class="link link-hover" target="_blank" href="https://iznauy.github.io/" rel="noreferrer">iznauy - ä¸ªäººåšå®¢</a><a class="link link-hover" target="_blank" href="https://aironoria.github.io" rel="noreferrer">Aironoria - é™ˆä¿Šå®‡çš„ä¸ªäººåšå®¢</a><a class="link link-hover" target="_blank" href="https://jbesu.com/" rel="noreferrer">forewing - ä¸ªäººä¸»é¡µ</a><a class="link link-hover" target="_blank" href="https://weiser.fun" rel="noreferrer">Weiser - ä¸ªäººä¸»é¡µ</a></div></div></footer><button class="fixed animate-slide-up bottom-8 right-8 z-50 p-3 rounded-full bg-base-300 text-base-content shadow" title="To top"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" class="w-6 h-6" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"></path></svg></button><script src="/_next/static/chunks/webpack-348e7a1c25ed629b.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/3daf2b50b39d4bbf.css\",\"style\"]\n2:HL[\"/_next/static/css/03113452114c7082.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"3:I[5921,[],\"\"]\n6:I[9986,[],\"\"]\n8:I[3582,[],\"\"]\nb:I[3765,[],\"\"]\n7:[\"params\",\"a-kotlin-di-framework-in-50-lines-and-thoughts-on-kotlin\",\"oc\"]\nc:[]\n0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/3daf2b50b39d4bbf.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"cDyTELR-iPzKYu_jH_G3s\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/articles/a-kotlin-di-framework-in-50-lines-and-thoughts-on-kotlin\",\"initialTree\":[\"\",{\"children\":[\"articles\",{\"children\":[[\"params\",\"a-kotlin-di-framework-in-50-lines-and-thoughts-on-kotlin\",\"oc\"],{\"children\":[\"__PAGE__?{\\\"params\\\":[\\\"a-kotlin-di-framework-in-50-lines-and-thoughts-on-kotlin\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"articles\",{\"children\":[[\"params\",\"a-kotlin-di-framework-in-50-lines-and-thoughts-on-kotlin\",\"oc\"],{\"children\":[\"__PAGE__\",{},[[\"$L4\",\"$L5\"],null],null]},[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"articles\",\"children\",\"$7\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/03113452114c7082.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],null]},[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"articles\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[\"$L9\",null],null],\"couldBeIntercepted\":false,\"initialHead\":[false,\"$La\"],\"globalErrorComponent\":\"$b\",\"missingSlots\":\"$Wc\"}]]\n"])</script><script>self.__next_f.push([1,"d:I[7073,[\"156\",\"static/chunks/da31e3a9-c9dd7e25b467e5f9.js\",\"829\",\"static/chunks/829-6679bad8cde17d95.js\",\"784\",\"static/chunks/784-6a92315793ec2730.js\",\"468\",\"static/chunks/468-70c2eb03805d66ab.js\",\"185\",\"static/chunks/app/layout-3fab0ac878636d50.js\"],\"RootLayout\"]\ne:I[1638,[\"156\",\"static/chunks/da31e3a9-c9dd7e25b467e5f9.js\",\"829\",\"static/chunks/829-6679bad8cde17d95.js\",\"784\",\"static/chunks/784-6a92315793ec2730.js\",\"468\",\"static/chunks/468-70c2eb03805d66ab.js\",\"185\",\"static/chunks/app/layout-3fab0ac878636d50.js\"],\"\"]\nf:I[6553,[\"156\",\"static/chunks/da31e3a9-c9dd7e25b467e5f9.js\",\"829\",\"static/chunks/829-6679bad8cde17d95.js\",\"784\",\"static/chunks/784-6a92315793ec2730.js\",\"468\",\"static/chunks/468-70c2eb03805d66ab.js\",\"185\",\"static/chunks/app/layout-3fab0ac878636d50.js\"],\"Header\"]\n10:I[831,[\"156\",\"static/chunks/da31e3a9-c9dd7e25b467e5f9.js\",\"478\",\"static/chunks/9ce7dea4-934f67cd307f40b4.js\",\"431\",\"static/chunks/e1bbbf97-0e7c7aedacd0f5f2.js\",\"73\",\"static/chunks/1b3e99d6-f8ba0bfcb62ad5ba.js\",\"829\",\"static/chunks/829-6679bad8cde17d95.js\",\"784\",\"static/chunks/784-6a92315793ec2730.js\",\"448\",\"static/chunks/448-d410ef824bc324dc.js\",\"464\",\"static/chunks/app/articles/%5B%5B...params%5D%5D/page-e8040f581dd37e43.js\"],\"Localized\"]\n11:I[1182,[\"829\",\"static/chunks/829-6679bad8cde17d95.js\",\"784\",\"static/chunks/784-6a92315793ec2730.js\",\"931\",\"static/chunks/app/page-93a751bf5f2bd749.js\"],\"LocalizedArticleLink\"]\n12:I[1192,[\"156\",\"static/chunks/da31e3a9-c9dd7e25b467e5f9.js\",\"829\",\"static/chunks/829-6679bad8cde17d95.js\",\"784\",\"static/chunks/784-6a92315793ec2730.js\",\"468\",\"static/chunks/468-70c2eb03805d66ab.js\",\"185\",\"static/chunks/app/layout-3fab0ac878636d50.js\"],\"RunningTime\"]\n13:I[3912,[\"829\",\"static/chunks/829-6679bad8cde17d95.js\",\"784\",\"static/chunks/784-6a92315793ec2730.js\",\"931\",\"static/chunks/app/page-93a751bf5f2bd749.js\"],\"LastUpdateTime\"]\n16:I[5357,[\"156\",\"static/chunks/da31e3a9-c9dd7e25b467e5f9.js\",\"829\",\"static/chunks/829-6679bad8cde17d95.js\",\"784\",\"static/chunks/784-6a92315793ec2730.js\",\"468\",\"static/chunks/468-70c2eb03805d66"])</script><script>self.__next_f.push([1,"ab.js\",\"185\",\"static/chunks/app/layout-3fab0ac878636d50.js\"],\"ToTop\"]\n14:T518,M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z15:T5b8,M170.54 148.13v217.54l23.43.01 7.71 26.37 42.01-26.37h49.53V148.13H170.54zm97.75 193.93h-27.94l-27.9 17.51-5.08-17.47-11.9-.04V171.75h72.82v170.31zm-118.46-94.39H97.5c1.74-27.1 2.2-51.59 2.2-73.46h51.16s1.97-22.56-8.58-22.31h-88.5c3.49-13.12 7.87-26.66 13.12-40.67 0 0-24.07 0-32.27 21.57-3.39 8.9-13.21 43.14-30.7 78.12 5.89-.64 25.37-1.18 36.84-22.21 2.11-5.89 2.51-6.66 5.14-14.53h28.87c0 10.5-1.2 66.88-1.68 73.44H20.83c-11.74 0-15.56 23.62-15.56 23.62h65.58C66.45 321.1 42.83 363.12 0 396.34c20.49 5.85 40.91-.93 51-9.9 0 0 22.98-20.9 35.59-69.25l53.96 64.94s7.91-26.89-1.24-39.99c-7.58-8.92-28.06-33.06-36.79-41.81L87.9 311.95c4.36-13.98 6.99-27.55 7.8"])</script><script>self.__next_f.push([1,"7-40.67h61.65s-.09-23.62-7.59-23.62v.01zm412.02-1.6c20.83-25.64 44.98-58.57 44.98-58.57s-18.65-14.8-27.38-4.06c-6 8.15-36.83 48.2-36.83 48.2l19.23 14.43zm-150.09-59.09c-9.01-8.25-25.91 2.13-25.91 2.13s39.52 55.04 41.12 57.45l19.46-13.73s-25.67-37.61-34.66-45.86h-.01zM640 258.35c-19.78 0-130.91.93-131.06.93v-101c4.81 0 12.42-.4 22.85-1.2 40.88-2.41 70.13-4 87.77-4.81 0 0 12.22-27.19-.59-33.44-3.07-1.18-23.17 4.58-23.17 4.58s-165.22 16.49-232.36 18.05c1.6 8.82 7.62 17.08 15.78 19.55 13.31 3.48 22.69 1.7 49.15.89 24.83-1.6 43.68-2.43 56.51-2.43v99.81H351.41s2.82 22.31 25.51 22.85h107.94v70.92c0 13.97-11.19 21.99-24.48 21.12-14.08.11-26.08-1.15-41.69-1.81 1.99 3.97 6.33 14.39 19.31 21.84 9.88 4.81 16.17 6.57 26.02 6.57 29.56 0 45.67-17.28 44.89-45.31v-73.32h122.36c9.68 0 8.7-23.78 8.7-23.78l.03-.01z"])</script><script>self.__next_f.push([1,"9:[\"$\",\"$Ld\",null,{\"children\":[[\"$\",\"$Le\",null,{\"data-host\":\"https://services.ddadaal.me\",\"data-dnt\":\"false\",\"src\":\"https://services.ddadaal.me/monitor/script.js\",\"id\":\"ZwSg9rf6GA\",\"async\":true,\"defer\":true}],[\"$\",\"$Lf\",null,{\"resumeLangs\":[\"cn\",\"en\"]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L8\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}],[\"$\",\"footer\",null,{\"className\":\"bg-base-200 text-base-content\",\"children\":[\"$\",\"div\",null,{\"className\":\"footer py-6 max-w-7xl mx-auto px-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"p\",null,{\"children\":[\"ğŸ‘¨ğŸ¼â€ğŸ’»Â \",[\"$\",\"$L10\",null,{\"id\":\"footer.codeBy\",\"args\":[[\"$\",\"$L11\",\"about/me\",{\"className\":\"link link-hover\",\"basePath\":\"/about/me\",\"children\":\"ddadaal\"}]]}]]}],[\"$\",\"p\",null,{\"children\":[\"ğŸ“\",[\"$\",\"$L10\",null,{\"id\":\"footer.license\",\"args\":[[\"$\",\"a\",\"license\",{\"rel\":\"licene noreferrer\",\"target\":\"_blank\",\"className\":\"link\",\"href\":\"https://creativecommons.org/licenses/by-sa/4.0/\",\"children\":\"CC BY-SA 4.0\"}]]}]]}],[\"$\",\"$L12\",null,{\"serverStartTime\":\"2024-06-12T10:59:55.017+00:00\"}],[\"$\",\"$L13\",null,{\"time\":\"2024-06-12T10:59:55.017+00:00\"}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"ğŸ“² \",[\"$\",\"$L10\",null,{\"id\":\"footer.contacts\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex py-2 gap-2\",\"children\":[[\"$\",\"span\",\"http://wpa.qq.com/msgrd?v=3\u0026uin=540232834\u0026site=qq\u0026menu=yes\",{\"children\":[\"$\",\"a\",null,{\"href\":\"http://wpa.qq.com/msgrd?v=3\u0026uin=540232834\u0026site=qq\u0026menu=yes\",\"title\":\"QQ: 540232834\",\"target\":\"_blank\",\"className\":\"block transition hover:scale-125\",\"rel\":\"noreferrer\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 448 512\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704z\",\"children\":[]}]]],\"className\":\"$undefined\",\"style\":{\"color\":\"$undefined\"},\"height\":22.400000000000002,\"width\":22.400000000000002,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}]}],[\"$\",\"span\",\"mailto://ddadaal.me@outlook.com\",{\"children\":[\"$\",\"a\",null,{\"href\":\"mailto://ddadaal.me@outlook.com\",\"title\":\"E-mail: ddadaal@outlook.com\",\"target\":\"_blank\",\"className\":\"block transition hover:scale-125\",\"rel\":\"noreferrer\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 576 512\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M160 448c-25.6 0-51.2-22.4-64-32-64-44.8-83.2-60.8-96-70.4V480c0 17.67 14.33 32 32 32h256c17.67 0 32-14.33 32-32V345.6c-12.8 9.6-32 25.6-96 70.4-12.8 9.6-38.4 32-64 32zm128-192H32c-17.67 0-32 14.33-32 32v16c25.6 19.2 22.4 19.2 115.2 86.4 9.6 6.4 28.8 25.6 44.8 25.6s35.2-19.2 44.8-22.4c92.8-67.2 89.6-67.2 115.2-86.4V288c0-17.67-14.33-32-32-32zm256-96H224c-17.67 0-32 14.33-32 32v32h96c33.21 0 60.59 25.42 63.71 57.82l.29-.22V416h192c17.67 0 32-14.33 32-32V192c0-17.67-14.33-32-32-32zm-32 128h-64v-64h64v64zm-352-96c0-35.29 28.71-64 64-64h224V32c0-17.67-14.33-32-32-32H96C78.33 0 64 14.33 64 32v192h96v-32z\",\"children\":[]}]]],\"className\":\"$undefined\",\"style\":{\"color\":\"$undefined\"},\"height\":22.400000000000002,\"width\":22.400000000000002,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}]}],[\"$\",\"span\",\"https://www.linkedin.com/in/chenjunda/\",{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.linkedin.com/in/chenjunda/\",\"title\":\"LinkedIn: é™ˆä¿Šè¾¾\",\"target\":\"_blank\",\"className\":\"block transition hover:scale-125\",\"rel\":\"noreferrer\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 448 512\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z\",\"children\":[]}]]],\"className\":\"$undefined\",\"style\":{\"color\":\"$undefined\"},\"height\":22.400000000000002,\"width\":22.400000000000002,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}]}],[\"$\",\"span\",\"https://github.com/ddadaal\",{\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/ddadaal\",\"title\":\"GitHub: ddadaal\",\"target\":\"_blank\",\"className\":\"block transition hover:scale-125\",\"rel\":\"noreferrer\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 496 512\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"$14\",\"children\":[]}]]],\"className\":\"$undefined\",\"style\":{\"color\":\"$undefined\"},\"height\":22.400000000000002,\"width\":22.400000000000002,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}]}],[\"$\",\"span\",\"https://steamcommunity.com/profiles/76561198104889782\",{\"children\":[\"$\",\"a\",null,{\"href\":\"https://steamcommunity.com/profiles/76561198104889782\",\"title\":\"Steam: Victor Crubs\",\"target\":\"_blank\",\"className\":\"block transition hover:scale-125\",\"rel\":\"noreferrer\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 496 512\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M496 256c0 137-111.2 248-248.4 248-113.8 0-209.6-76.3-239-180.4l95.2 39.3c6.4 32.1 34.9 56.4 68.9 56.4 39.2 0 71.9-32.4 70.2-73.5l84.5-60.2c52.1 1.3 95.8-40.9 95.8-93.5 0-51.6-42-93.5-93.7-93.5s-93.7 42-93.7 93.5v1.2L176.6 279c-15.5-.9-30.7 3.4-43.5 12.1L0 236.1C10.2 108.4 117.1 8 247.6 8 384.8 8 496 119 496 256zM155.7 384.3l-30.5-12.6a52.79 52.79 0 0 0 27.2 25.8c26.9 11.2 57.8-1.6 69-28.4 5.4-13 5.5-27.3.1-40.3-5.4-13-15.5-23.2-28.5-28.6-12.9-5.4-26.7-5.2-38.9-.6l31.5 13c19.8 8.2 29.2 30.9 20.9 50.7-8.3 19.9-31 29.2-50.8 21zm173.8-129.9c-34.4 0-62.4-28-62.4-62.3s28-62.3 62.4-62.3 62.4 28 62.4 62.3-27.9 62.3-62.4 62.3zm.1-15.6c25.9 0 46.9-21 46.9-46.8 0-25.9-21-46.8-46.9-46.8s-46.9 21-46.9 46.8c.1 25.8 21.1 46.8 46.9 46.8z\",\"children\":[]}]]],\"className\":\"$undefined\",\"style\":{\"color\":\"$undefined\"},\"height\":22.400000000000002,\"width\":22.400000000000002,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}]}],[\"$\",\"span\",\"https://zhihu.com/people/VicCrubs\",{\"children\":[\"$\",\"a\",null,{\"href\":\"https://zhihu.com/people/VicCrubs\",\"title\":\"çŸ¥ä¹ï¼šé™ˆä¿Šè¾¾\",\"target\":\"_blank\",\"className\":\"block transition hover:scale-125\",\"rel\":\"noreferrer\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 640 512\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"$15\",\"children\":[]}]]],\"className\":\"$undefined\",\"style\":{\"color\":\"$undefined\"},\"height\":22.400000000000002,\"width\":22.400000000000002,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}]}],[\"$\",\"span\",\"https://www.douban.com/people/183064260/\",{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.douban.com/people/183064260/\",\"title\":\"è±†ç“£: ddadaal\",\"target\":\"_blank\",\"className\":\"block transition hover:scale-125\",\"rel\":\"noreferrer\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"role\":\"img\",\"viewBox\":\"0 0 24 24\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M.51 3.06h22.98V.755H.51V3.06Zm20.976 2.537v9.608h-2.137l-1.669 5.76H24v2.28H0v-2.28h6.32l-1.67-5.76H2.515V5.597h18.972Zm-5.066 9.608H7.58l1.67 5.76h5.501l1.67-5.76ZM18.367 7.9H5.634v5.025h12.733V7.9Z\",\"children\":[]}]]],\"className\":\"$undefined\",\"style\":{\"color\":\"$undefined\"},\"height\":22.400000000000002,\"width\":22.400000000000002,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}]}]]}]]}],[\"$\",\"p\",null,{\"className\":\"text-center\",\"children\":[\"Â© \",2024,\" | \",[\"$\",\"$L10\",null,{\"id\":\"footer.madeWithLove\"}]]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"footer-title\",\"children\":[\"ğŸš€ \",[\"$\",\"$L10\",null,{\"id\":\"footer.poweredBy\"}]]}],[[\"$\",\"a\",null,{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://reactjs.org/\",\"rel\":\"noreferrer\",\"children\":\"React\"}],[\"$\",\"a\",null,{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://nextjs.org/\",\"rel\":\"noreferrer\",\"children\":\"Next.js\"}],[\"$\",\"a\",null,{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://pages.github.com/\",\"rel\":\"noreferrer\",\"children\":\"GitHub Pages\"}],[\"$\",\"a\",null,{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://www.typescriptlang.org/\",\"rel\":\"noreferrer\",\"children\":\"TypeScript\"}]]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"footer-title\",\"children\":[\"ğŸ¨ \",[\"$\",\"$L10\",null,{\"id\":\"footer.themedWith\"}]]}],[[\"$\",\"a\",null,{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://daisyui.com/\",\"rel\":\"noreferrer\",\"children\":\"daisyui\"}],[\"$\",\"a\",null,{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://tailwindcss.com/\",\"rel\":\"noreferrer\",\"children\":\"tailwind\"}]]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"footer-title\",\"children\":[\"ğŸ“ \",[\"$\",\"$L10\",null,{\"id\":\"footer.contacts\"}]]}],[[\"$\",\"a\",null,{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://idealclover.top\",\"rel\":\"noreferrer\",\"children\":\"idealclover - ç¿ ç¿ é…±çš„ä¸ªäººç½‘ç«™\"}],[\"$\",\"a\",null,{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://sephidator.xyz\",\"rel\":\"noreferrer\",\"children\":\"Sephidator - Sephidatorçš„ä¸ªäººåšå®¢\"}],[\"$\",\"a\",null,{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://iznauy.github.io/\",\"rel\":\"noreferrer\",\"children\":\"iznauy - ä¸ªäººåšå®¢\"}],[\"$\",\"a\",null,{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://aironoria.github.io\",\"rel\":\"noreferrer\",\"children\":\"Aironoria - é™ˆä¿Šå®‡çš„ä¸ªäººåšå®¢\"}],[\"$\",\"a\",null,{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://jbesu.com/\",\"rel\":\"noreferrer\",\"children\":\"forewing - ä¸ªäººä¸»é¡µ\"}],[\"$\",\"a\",null,{\"className\":\"link link-hover\",\"target\":\"_blank\",\"href\":\"https://weiser.fun\",\"rel\":\"noreferrer\",\"children\":\"Weiser - ä¸ªäººä¸»é¡µ\"}]]]}]]}]}],[\"$\",\"$L16\",null,{}]]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"A Kotlin DI Framework in 50 Lines and Thoughts on Kotlin - ddadaal.me\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"ddadaal's personal website\"}],[\"$\",\"link\",\"4\",{\"rel\":\"manifest\",\"href\":\"/site.webmanifest\",\"crossOrigin\":\"use-credentials\"}],[\"$\",\"link\",\"5\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"link\",\"6\",{\"rel\":\"icon\",\"href\":\"/icon.svg?35be8e76be1c3618\",\"type\":\"image/svg+xml\",\"sizes\":\"any\"}],[\"$\",\"link\",\"7\",{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-icon.png?5334a64f42000bb0\",\"type\":\"image/png\",\"sizes\":\"180x180\"}]]\n4:null\n"])</script><script>self.__next_f.push([1,"17:I[6500,[\"156\",\"static/chunks/da31e3a9-c9dd7e25b467e5f9.js\",\"478\",\"static/chunks/9ce7dea4-934f67cd307f40b4.js\",\"431\",\"static/chunks/e1bbbf97-0e7c7aedacd0f5f2.js\",\"73\",\"static/chunks/1b3e99d6-f8ba0bfcb62ad5ba.js\",\"829\",\"static/chunks/829-6679bad8cde17d95.js\",\"784\",\"static/chunks/784-6a92315793ec2730.js\",\"448\",\"static/chunks/448-d410ef824bc324dc.js\",\"464\",\"static/chunks/app/articles/%5B%5B...params%5D%5D/page-e8040f581dd37e43.js\"],\"ArticleFrontmatter\"]\n1a:I[3564,[\"156\",\"static/chunks/da31e3a9-c9dd7e25b467e5f9.js\",\"478\",\"static/chunks/9ce7dea4-934f67cd307f40b4.js\",\"431\",\"static/chunks/e1bbbf97-0e7c7aedacd0f5f2.js\",\"73\",\"static/chunks/1b3e99d6-f8ba0bfcb62ad5ba.js\",\"829\",\"static/chunks/829-6679bad8cde17d95.js\",\"784\",\"static/chunks/784-6a92315793ec2730.js\",\"448\",\"static/chunks/448-d410ef824bc324dc.js\",\"464\",\"static/chunks/app/articles/%5B%5B...params%5D%5D/page-e8040f581dd37e43.js\"],\"RelatedArticles\"]\n1b:I[5424,[\"156\",\"static/chunks/da31e3a9-c9dd7e25b467e5f9.js\",\"478\",\"static/chunks/9ce7dea4-934f67cd307f40b4.js\",\"431\",\"static/chunks/e1bbbf97-0e7c7aedacd0f5f2.js\",\"73\",\"static/chunks/1b3e99d6-f8ba0bfcb62ad5ba.js\",\"829\",\"static/chunks/829-6679bad8cde17d95.js\",\"784\",\"static/chunks/784-6a92315793ec2730.js\",\"448\",\"static/chunks/448-d410ef824bc324dc.js\",\"464\",\"static/chunks/app/articles/%5B%5B...params%5D%5D/page-e8040f581dd37e43.js\"],\"CommentPanelWithCurrentLanguage\"]\n18:T33c9,"])</script><script>self.__next_f.push([1,"\n# Why\n\nIf you have got used to using DI framework (like Spring) to manage and inject dependencies, and now you have to start a new, relatively simpler, but not so simple project, you have 2 options to work with in terms of dependency management:\n\n- **introduce a full blown DI framework** and waste plenty of time in numerous and verbose configurations\n- **use traditional object instantiation or simple factory pattern** and make the code clumsy and hard to modify\n\nI encountered this sort of problem a week ago when I was writing [the demo project for architecture class](https://github.com/ddadaal/ClassroomAssistant), which was only a simple JavaFX project that had a simple dependency hierarchy. What was different in this project from other simple and less designed project was that instead of using class directly, it used **interface and implementation class pattern** in order to match the class diagram and meet the course requirement. Using interface decoupled the interface and implementation, which was a good practice, but also introduced complexity in using this code, since it would be impossible to **new** an interface.\n\nAs mentioned before, excluding DI framework option, two patterns could be applied: **object instantiation** and **factory pattern**. Kotlin also supports [singleton object declaration](https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html#object-declarations) which was also a good choice. All of them, however, made the code *less elegant*:\n\n\n```kotlin\n// interface and implementation\ninterface SomeService\nclass SomeServiceImpl: SomeService\n```\n\nPattern 1: object instantiation\n\n```kotlin\nimport xxx.SomeService\n\n// highlight-start\n// Problem 1: have to import the impl class\nimport xxx.SomeServiceImpl\n// highlight-end\n\n\nclass User {\n  // highlight-start\n  // Problem 2: have to specify the interface type and the implementation type\n  // Problem 3: not valid if we want singleton\n  private val service: SomeService = SomeServiceImpl()\n  // highlight-end\n\n}\n```\n\nPattern 2: simple **singleton** factory pattern\n\n```kotlin\n// in the same file where Service and ServiceImpl are defined\n\n// highlight-start\n// Problem1: manual object instantiation\nval instance = SomeServiceImpl()\n// highlight-end\n\n\n// highlight-start\n// Problem2: manually write a factory function\nfun createSomeService(): SomeService {\n  return instance\n}\n// highlight-end\n\n```\n\n```kotlin\n// in another file\nimport xxx.SomeService\n\nclass User {\n  // highlight-start\n  // Problem 3: manual factory function call\n  // Problem 4: implicit and extra dependency to factory function\n  private val service = createSomeService()\n  // highlight-end\n\n}\n```\n\nPattern 2.1: simple **singleton** factory pattern using [companion object](https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html#companion-objects)\n\n```kotlin\n// in the same file where Service and ServiceImpl are defined\n\ninterface SomeService {\n  companion object {\n    // highlight-start\n    // Problem 1: interface relies on implementation??\n    val service: SomeService = SomeServiceImpl()\n    // highlight-end\n  }\n}\n\nclass SomeServiceImpl: SomeService\n```\n\nPattern 2.2: **singleton** using [singleton object declaration](https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html#object-declarations)\n\n```kotlin\n// in the same file where Service and ServiceImpl are defined\n\ninterface SomeService\n\n// highlight-next-line\nobject SomeServiceImpl: SomeService\n```\n\n```kotlin\nimport xxx.SomeService\n\n// highlight-start\n// Problem 1: have to import the impl class\nimport xxx.SomeServiceImpl\n// highlight-end\n\n\nclass User {\n  // highlight-start\n  // Problem 2: have to specify the interface type and the implementation type\n  private val service: SomeService = SomeServiceImpl\n  // highlight-end\n}\n```\n\nAll of these problems were of little importance, but to an extent affected my coding experiences. What I would like was **minimal dependencies** and **minimal extra code**.\n\nLuckily, with the help of [delegation](https://kotlinlang.org/docs/reference/delegation.html) and classpath scan capability provided by [classgraph](https://github.com/classgraph/classgraph), we could achieve the *minimality*, with the introduction of only three simple APIs:\n\n- `Service` annotation to annotate service interface\n- `ServiceImpl` annotation to annotate implementation\n- `di` function for delegation\n\n```kotlin\n// annotate service interface with @Service\n@Service\ninterface YourService {\n  fun hello()\n}\n\n// annotate service implementation class with @ServiceImpl\n@ServiceImpl\nclass YourServiceImpl: YourService {\n  override fun hello() {\n    println(\"Hello from YourServiceImpl\")\n  }\n}\n```\n\n```kotlin\n// in a random class that uses the service\nimport YourService\n\nclass AnotherClass {\n  // declare a property with the interface type and delegate it with di(),\n  // the function *where the magic is*\n  private val yourService: YourService by di()\n\n  fun hello() {\n    // just call it\n    yourService.hello();\n  }\n}\n\nfun main() {\n  // just new an instance as usual\n  val obj = AnotherClass()\n\n  obj.hello() // print out \"Hello from YourServiceImpl\"\n}\n\n```\n\n# How It is Done?\n\nHere is the code with some comments to help understanding.\n\nBefore getting started, install [classgraph](https://github.com/classgraph/classgraph) in your project with Maven or Gradle to have all the Services and ServiceImpls automatically scanned and configured like Spring Boot would do.\n\n```kotlin\n// imports\nimport io.github.classgraph.ClassGraph\nimport kotlin.reflect.KClass\nimport kotlin.properties.ReadOnlyProperty\nimport kotlin.reflect.KProperty\n\n// annotations to annotate Service interface and Service implementation class\n@Target(AnnotationTarget.CLASS)\n@Retention(AnnotationRetention.RUNTIME)\nannotation class ServiceImpl\n\n@Target(AnnotationTarget.CLASS)\n@Retention(AnnotationRetention.RUNTIME)\nannotation class Service\n\n// the exception when an implementation is not available\nclass NotProvidedException: Exception()\n\n// the container class\n// `scanBase` is the base package that would be scanned\n@Suppress(\"UNCHECKED_CAST\")\nclass CADiContainer(scanBase: String) {\n\n  // key as the Java Class object and value as its corresponding singleton instance\n  private val map = mutableMapOf\u003cClass\u003c*\u003e, Any?\u003e()\n\n  init {\n    // scan specified package\n    ClassGraph()\n      .enableAllInfo()\n      .whitelistPackages(scanBase)\n      .scan()\n      .use { scanResult -\u003e\n\n        // find out all interfaces annotated with Service\n        val services = scanResult.getClassesWithAnnotation(Service::class.qualifiedName).loadClasses()\n\n        // find out all implementation classes annotated with ServiceImpl\n        val impls = scanResult.getClassesWithAnnotation(ServiceImpl::class.qualifiedName)\n\n        // fill the instance map with service and service implementation\n        services.forEach { service -\u003e\n            map[service] = impls.find { it.implementsInterface(service.name) }?.loadClass()?.newInstance()\n        }\n      }\n  }\n\n  // just look up the map and try to get the instance\n  fun \u003cT : Any\u003e getInstance(type: Class\u003cT\u003e): T {\n    return map[type] as T? ?: throw NotProvidedException()\n  }\n}\n\n// instantiate a DI Container\nval container = CADiContainer(scanBase)\n\n// Here is where magic is:\n// define a inline function with reified type parameter\n// and return an anonymous ReadOnlyProerty object to be used as a delegate\n// which uses the reified type parameter\n// to look up and return the instance in the container\ninline fun \u003creified T : Any\u003e di(): ReadOnlyProperty\u003cAny, T\u003e {\n    return object : ReadOnlyProperty\u003cAny, T\u003e {\n        override fun getValue(thisRef: Any, property: KProperty\u003c*\u003e): T {\n            return container.getInstance(T::class.java)\n        }\n    }\n}\n```\n\n# What's Good?\n\n- **Singleton** injection\n\nAll injected instances are singleton, which is how DI is usually used.\n\n- **new** support\n\nYou can also simply **new** an object (which should not be annotated with @ServiceImpl) if singleton injection is not enough, or context parameters are required when using a service. **New-ed** object can still use its dependencies. No extra learning needed.\n\n- **Circular** and **hierarchy** Dependency\n\nUnlike commonly used **constructor injection** and **setter injection**, dependent object are fetched **dynamically** from the container **when the property is being accessed**. Nothing will be injected during the instantiation of objects. So there would be no problem to have circular and hierarchy dependency structure at all.\n\n- **Structure** your project as you wish\n\nWith other DI frameworks (like [autofac](https://autofac.readthedocs.io/en/latest/getting-started/index.html#structuring-the-application) and Spring), the whole application must be structured **from the ground up** and configured in guidance of the DI framework of your choice , which is time-wasting and totally a overkill if a simple application is all what you need.\n\n# Limitations\n\n- Can not use dependency in `init` block\n\nAll services are instantiated **randomly** (to be more precise, in the order of time when it is scanned), regardless of **their dependency relationships**. For example, **if A uses B, it is possible that B is instantiated earier than A**, in which case access to B inside A's `init` block would cause `NotProvidedException` since at that time A instance has not been in the container. This problem can be solved with **prior dependency relationship analysis** or **custom after-instantiation hook**.\n\n- No advanced features like object lifetime control, scope, test...\n\nIt should be emphasized that our 50 lines of code only targets to **small application** and **is not for production**, so advanced features are never considered. Use full blown DI framework if your application is serious.\n\n# My Thoughts on Kotlin\n\nMy first impression to Kotlin was a mixed bag:\n\nIt had lots of features that C# and Java did't, which does improve coding experience a lot: **strict nullity check**, **pattern matching**(which C# is introducing), **delegation**, **function type** (`(Int, String) -\u003e String{:kotlin}`, which is more intuitive than `Action` delegations in C#, and various and differently named built-in functional interfaces (like `Consumer`, `Producer`) in Java which are hard to remember), **inline functons** and more;\n\nSome parts of language seemed confusing at first, but later was proved to be excellent. For example **[lambda](https://kotlinlang.org/docs/reference/lambdas.html#lambda-expressions-and-anonymous-functions)** in Kotlin needs to be wrapped with a brace(`{}`) pair  (like `func(arr, {a, b -\u003e  a \u003c b}){:kotlin}` (just an example)), where Java doesn't (`func(arr, (a, b) -\u003e a \u003c b){:java}`). However with the ability to [write the last lambda parameter outside of parentheses](https://kotlinlang.org/docs/reference/lambdas.html#lambda-expressions-and-anonymous-functions) (`func(arr) {a, b -\u003e x a \u003c b}{:kotlin}`), the extra abilities it brings overweigh the disadvantages.\n\nFor example, with the help of [TornadoFX](https://tornadofx.io/), an excellent JavaFX framework for Kotlin, building JavaFX views can be done **directly in Kotlin** elegantly, which is even better than FXML, since *strongly-typed-ness* makes coding way less error-prone, verbose and intuitive than XML.\n\n```kotlin\n// define a vbox\nvbox {\n\t// define a button as a child component, with \"Button\" as text, and an onAction function\n\tbutton(\"Button\") {\n\t\taction {\n\t\t\treplaceWith\u003cStudentCheckinView\u003e(sizeToScene = true)\n\t\t}\n\t}\n\t// a list view whose data source is aList\n\tlistview(aList)\n}\n```\n\nGradle also [supports Kotlin as its DSL](https://docs.gradle.org/current/userguide/kotlin_dsl.html) alongside Groovy, which also proves the benefits of this grammar are phenomenal.\n\nOf course Kotlin has some problems, like the grammar of anonymous object is more verbose than Java's (where just a lambda would be enough) and some type system related problems thanks to the type erasure of JVM.\n\nBut the defects cannot obscure the virtues.\n\nThe features (including *grammar sugars*) Kotlin has have opened my eyes, showing me how a programming language that is modern, well-designed and has no history burdens can be like, how these features and grammar sugars can make coding much more productive and enjoyful, and most importantly, **how our ways of thinking a problem can be different**.\n\nEveryone knows that programming languages are just tools: that's true, but **tools can also influence how we look at problems**.\n\nA programmer who only knew procedural programming language would try to solve every problems procedurally, quickly being overwhelmed by exponentially growing complexity; A OOP only programmer would wrap everything into objects, resulting in piles of useless boilerplate codes and a class hierarchy so complicated that only god could understand it; A FP originalist would try to use FP on everything, ignoring the nature of the problem, the communities of selected technologies and his/her teammates, all leading to the failure of the project.\n\nLearning different languages can bring different angles to view a problem and different tools to solve a problem, and that is valuable for any programmers.\n\n\n\n\n\n\n\n\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"article\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"bg-neutral px-4 py-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-7xl mx-auto min-h-[256px] flex justify-center text-center text-neutral-content\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col justify-center animate-slide-up\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-4xl my-2\",\"children\":\"A Kotlin DI Framework in 50 Lines and Thoughts on Kotlin\"}],[\"$\",\"$L17\",null,{\"className\":\"justify-center\",\"articleId\":\"a-kotlin-di-framework-in-50-lines-and-thoughts-on-kotlin\",\"info\":{\"content\":\"$18\",\"title\":\"A Kotlin DI Framework in 50 Lines and Thoughts on Kotlin\",\"date\":\"2019-04-06 15:48\",\"id\":\"a-kotlin-di-framework-in-50-lines-and-thoughts-on-kotlin\",\"lang\":\"en\",\"tags\":[\"Kotlin\",\"code-trick\",\"thoughts\"],\"related\":\"$undefined\",\"ignored_in_list\":\"$undefined\",\"hide_heading\":\"$undefined\",\"no_toc\":\"$undefined\",\"absolute_path\":\"$undefined\",\"last_updated\":\"$undefined\",\"wordCount\":1765,\"readingTime\":8.825,\"filePath\":\"contents/20190406-a-kotlin-di-framework-in-50-lines-and-thoughts-on-kotlin/en.md\",\"summaries\":[\"The document discusses the challenges and benefits of using a Dependency Injection (DI) framework in a Java project. It highlights the two main options for dependency management: introducing a full-blown DI framework or using traditional object instantiation or simple factory pattern, which can be time-consuming and cumbersome. The author uses the example of a simple Java project where the interface and implementation class pattern was used to decouple the interface and implementation, but it also introduced complexity. The document suggests using delegation and classpath scan capability to achieve minimal dependencies and extra code, and provides a code example to help understand the process.\"]},\"langVersions\":[\"en\"]}]]}]}]}],[\"$\",\"div\",null,{\"className\":\"animate-slide-up\",\"children\":[[\"$\",\"div\",null,{\"className\":\"max-w-7xl mx-auto p-4\",\"children\":\"$L19\"}],[\"$\",\"div\",null,{\"className\":\"max-w-7xl mx-auto p-4\",\"children\":[\"$\",\"$L1a\",null,{\"relatedArticles\":[]}]}],[\"$\",\"div\",null,{\"className\":\"max-w-7xl mx-auto p-4\",\"children\":[\"$\",\"$L1b\",null,{\"articleId\":\"a-kotlin-di-framework-in-50-lines-and-thoughts-on-kotlin\",\"articleTitle\":\"A Kotlin DI Framework in 50 Lines and Thoughts on Kotlin\"}]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"1d:I[3547,[\"156\",\"static/chunks/da31e3a9-c9dd7e25b467e5f9.js\",\"478\",\"static/chunks/9ce7dea4-934f67cd307f40b4.js\",\"431\",\"static/chunks/e1bbbf97-0e7c7aedacd0f5f2.js\",\"73\",\"static/chunks/1b3e99d6-f8ba0bfcb62ad5ba.js\",\"829\",\"static/chunks/829-6679bad8cde17d95.js\",\"784\",\"static/chunks/784-6a92315793ec2730.js\",\"448\",\"static/chunks/448-d410ef824bc324dc.js\",\"464\",\"static/chunks/app/articles/%5B%5B...params%5D%5D/page-e8040f581dd37e43.js\"],\"\"]\n1e:I[770,[\"156\",\"static/chunks/da31e3a9-c9dd7e25b467e5f9.js\",\"478\",\"static/chunks/9ce7dea4-934f67cd307f40b4.js\",\"431\",\"static/chunks/e1bbbf97-0e7c7aedacd0f5f2.js\",\"73\",\"static/chunks/1b3e99d6-f8ba0bfcb62ad5ba.js\",\"829\",\"static/chunks/829-6679bad8cde17d95.js\",\"784\",\"static/chunks/784-6a92315793ec2730.js\",\"448\",\"static/chunks/448-d410ef824bc324dc.js\",\"464\",\"static/chunks/app/articles/%5B%5B...params%5D%5D/page-e8040f581dd37e43.js\"],\"Gallery\"]\n24:I[9284,[\"156\",\"static/chunks/da31e3a9-c9dd7e25b467e5f9.js\",\"478\",\"static/chunks/9ce7dea4-934f67cd307f40b4.js\",\"431\",\"static/chunks/e1bbbf97-0e7c7aedacd0f5f2.js\",\"73\",\"static/chunks/1b3e99d6-f8ba0bfcb62ad5ba.js\",\"829\",\"static/chunks/829-6679bad8cde17d95.js\",\"784\",\"static/chunks/784-6a92315793ec2730.js\",\"448\",\"static/chunks/448-d410ef824bc324dc.js\",\"464\",\"static/chunks/app/articles/%5B%5B...params%5D%5D/page-e8040f581dd37e43.js\"],\"ArticleToc\"]\n1c:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-5"])</script><script>self.__next_f.push([1,"8.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z1f:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z20:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1."])</script><script>self.__next_f.push([1,"986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z21:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 2"])</script><script>self.__next_f.push([1,"6.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z22:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z23:T4df,M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.58"])</script><script>self.__next_f.push([1,"4-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"])</script><script>self.__next_f.push([1,"19:[\"$\",\"div\",null,{\"className\":\"flex flex-row space-x-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"prose max-w-full lg:w-[75%]\",\"children\":[[\"$\",\"div\",null,{\"className\":\"p-4 my-4 bg-neutral rounded shadow\",\"children\":[[\"$\",\"h1\",null,{\"id\":\"summary\",\"className\":\"text-neutral-content\",\"children\":[[\"$\",\"a\",\"summary\",{\"href\":\"#summary\",\"className\":\"mr-1 text-neutral-content\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 512 512\",\"className\":\"inline-block opacity-20 hover:opacity-60\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"$1c\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":16,\"width\":16,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}],[\"$\",\"$L10\",\"summaryTitle\",{\"id\":\"articlePage.summary.title\"}]]}],[[\"$\",\"p\",\"0\",{\"className\":\"text-neutral-content\",\"children\":\"The document discusses the challenges and benefits of using a Dependency Injection (DI) framework in a Java project. It highlights the two main options for dependency management: introducing a full-blown DI framework or using traditional object instantiation or simple factory pattern, which can be time-consuming and cumbersome. The author uses the example of a simple Java project where the interface and implementation class pattern was used to decouple the interface and implementation, but it also introduced complexity. The document suggests using delegation and classpath scan capability to achieve minimal dependencies and extra code, and provides a code example to help understand the process.\"}]],[\"$\",\"p\",null,{\"className\":\"text-sm justify-end flex text-neutral-content\",\"children\":[\"$\",\"$L10\",null,{\"id\":\"articlePage.summary.poweredBy\",\"args\":[[\"$\",\"$L1d\",\"docUrl\",{\"target\":\"_blank\",\"className\":\"text-neutral-content\",\"href\":\"https://learn.microsoft.com/en-us/azure/ai-services/language-service/summarization/overview?tabs=document-summarization\",\"children\":\"Azure AI Language Service\"}]]}]}]]}],[\"$\",\"$L1e\",null,{\"withCaption\":true,\"id\":\"a-kotlin-di-framework-in-50-lines-and-thoughts-on-kotlin\",\"children\":[[\"$\",\"h1\",null,{\"id\":\"why\",\"children\":[[\"$\",\"a\",\"why\",{\"href\":\"#why\",\"className\":\"mr-1\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 512 512\",\"className\":\"inline-block opacity-20 hover:opacity-60\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"$1f\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":16,\"width\":16,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}],\"Why\"]}],\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":\"If you have got used to using DI framework (like Spring) to manage and inject dependencies, and now you have to start a new, relatively simpler, but not so simple project, you have 2 options to work with in terms of dependency management:\"}],\"\\n\",[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"introduce a full blown DI framework\"}],\" and waste plenty of time in numerous and verbose configurations\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"use traditional object instantiation or simple factory pattern\"}],\" and make the code clumsy and hard to modify\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-1\",{\"children\":[\"I encountered this sort of problem a week ago when I was writing \",[\"$\",\"a\",\"a-0\",{\"href\":\"https://github.com/ddadaal/ClassroomAssistant\",\"children\":\"the demo project for architecture class\"}],\", which was only a simple JavaFX project that had a simple dependency hierarchy. What was different in this project from other simple and less designed project was that instead of using class directly, it used \",[\"$\",\"strong\",\"strong-0\",{\"children\":\"interface and implementation class pattern\"}],\" in order to match the class diagram and meet the course requirement. Using interface decoupled the interface and implementation, which was a good practice, but also introduced complexity in using this code, since it would be impossible to \",[\"$\",\"strong\",\"strong-1\",{\"children\":\"new\"}],\" an interface.\"]}],\"\\n\",[\"$\",\"p\",\"p-2\",{\"children\":[\"As mentioned before, excluding DI framework option, two patterns could be applied: \",[\"$\",\"strong\",\"strong-0\",{\"children\":\"object instantiation\"}],\" and \",[\"$\",\"strong\",\"strong-1\",{\"children\":\"factory pattern\"}],\". Kotlin also supports \",[\"$\",\"a\",\"a-0\",{\"href\":\"https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html#object-declarations\",\"children\":\"singleton object declaration\"}],\" which was also a good choice. All of them, however, made the code \",[\"$\",\"em\",\"em-0\",{\"children\":\"less elegant\"}],\":\"]}],\"\\n\",[\"$\",\"figure\",\"figure-0\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// interface and implementation\"}]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"interface\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" SomeService\"}]]}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"class\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" SomeServiceImpl\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\": \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"SomeService\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",\"p-3\",{\"children\":\"Pattern 1: object instantiation\"}],\"\\n\",[\"$\",\"figure\",\"figure-1\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"import\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" xxx.SomeService\"}]]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// highlight-start\"}]}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// Problem 1: have to import the impl class\"}]}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"import\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" xxx.SomeServiceImpl\"}]]}],\"\\n\",[\"$\",\"span\",\"span-5\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// highlight-end\"}]}],\"\\n\",[\"$\",\"span\",\"span-6\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-7\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-8\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"class\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" User\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-9\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"  // highlight-start\"}]}],\"\\n\",[\"$\",\"span\",\"span-10\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"  // Problem 2: have to specify the interface type and the implementation type\"}]}],\"\\n\",[\"$\",\"span\",\"span-11\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"  // Problem 3: not valid if we want singleton\"}]}],\"\\n\",[\"$\",\"span\",\"span-12\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"  private\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" val\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" service: \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"SomeService\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" SomeServiceImpl\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",\"span-13\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"  // highlight-end\"}]}],\"\\n\",[\"$\",\"span\",\"span-14\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-15\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",\"p-4\",{\"children\":[\"Pattern 2: simple \",[\"$\",\"strong\",\"strong-0\",{\"children\":\"singleton\"}],\" factory pattern\"]}],\"\\n\",[\"$\",\"figure\",\"figure-2\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// in the same file where Service and ServiceImpl are defined\"}]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// highlight-start\"}]}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// Problem1: manual object instantiation\"}]}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"val\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" instance \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" SomeServiceImpl\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",\"span-5\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// highlight-end\"}]}],\"\\n\",[\"$\",\"span\",\"span-6\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-7\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-8\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// highlight-start\"}]}],\"\\n\",[\"$\",\"span\",\"span-9\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// Problem2: manually write a factory function\"}]}],\"\\n\",[\"$\",\"span\",\"span-10\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"fun\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" createSomeService\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(): \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"SomeService\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-11\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"  return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" instance\"}]]}],\"\\n\",[\"$\",\"span\",\"span-12\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",\"span-13\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// highlight-end\"}]}],\"\\n\",[\"$\",\"span\",\"span-14\",{\"data-line\":\"\",\"children\":\" \"}]]}]}]}],\"\\n\",[\"$\",\"figure\",\"figure-3\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// in another file\"}]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"import\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" xxx.SomeService\"}]]}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"class\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" User\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"  // highlight-start\"}]}],\"\\n\",[\"$\",\"span\",\"span-5\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"  // Problem 3: manual factory function call\"}]}],\"\\n\",[\"$\",\"span\",\"span-6\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"  // Problem 4: implicit and extra dependency to factory function\"}]}],\"\\n\",[\"$\",\"span\",\"span-7\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"  private\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" val\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" service \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" createSomeService\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",\"span-8\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"  // highlight-end\"}]}],\"\\n\",[\"$\",\"span\",\"span-9\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-10\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",\"p-5\",{\"children\":[\"Pattern 2.1: simple \",[\"$\",\"strong\",\"strong-0\",{\"children\":\"singleton\"}],\" factory pattern using \",[\"$\",\"a\",\"a-0\",{\"href\":\"https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html#companion-objects\",\"children\":\"companion object\"}]]}],\"\\n\",[\"$\",\"figure\",\"figure-4\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// in the same file where Service and ServiceImpl are defined\"}]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"interface\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" SomeService\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"  companion\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" object\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"    // highlight-start\"}]}],\"\\n\",[\"$\",\"span\",\"span-5\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"    // Problem 1: interface relies on implementation??\"}]}],\"\\n\",[\"$\",\"span\",\"span-6\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    val\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" service: \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"SomeService\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" SomeServiceImpl\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",\"span-7\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"    // highlight-end\"}]}],\"\\n\",[\"$\",\"span\",\"span-8\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",\"span-9\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",\"span-10\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-11\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"class\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" SomeServiceImpl\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\": \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"SomeService\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",\"p-6\",{\"children\":[\"Pattern 2.2: \",[\"$\",\"strong\",\"strong-0\",{\"children\":\"singleton\"}],\" using \",[\"$\",\"a\",\"a-0\",{\"href\":\"https://kotlinlang.org/docs/tutorials/kotlin-for-py/objects-and-companion-objects.html#object-declarations\",\"children\":\"singleton object declaration\"}]]}],\"\\n\",[\"$\",\"figure\",\"figure-5\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// in the same file where Service and ServiceImpl are defined\"}]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"interface\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" SomeService\"}]]}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// highlight-next-line\"}]}],\"\\n\",[\"$\",\"span\",\"span-5\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"object\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" SomeServiceImpl\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\": \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"SomeService\"}]]}]]}]}]}],\"\\n\",[\"$\",\"figure\",\"figure-6\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"import\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" xxx.SomeService\"}]]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// highlight-start\"}]}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// Problem 1: have to import the impl class\"}]}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"import\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" xxx.SomeServiceImpl\"}]]}],\"\\n\",[\"$\",\"span\",\"span-5\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// highlight-end\"}]}],\"\\n\",[\"$\",\"span\",\"span-6\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-7\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-8\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"class\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" User\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-9\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"  // highlight-start\"}]}],\"\\n\",[\"$\",\"span\",\"span-10\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"  // Problem 2: have to specify the interface type and the implementation type\"}]}],\"\\n\",[\"$\",\"span\",\"span-11\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"  private\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" val\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" service: \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"SomeService\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\" =\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" SomeServiceImpl\"}]]}],\"\\n\",[\"$\",\"span\",\"span-12\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"  // highlight-end\"}]}],\"\\n\",[\"$\",\"span\",\"span-13\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",\"p-7\",{\"children\":[\"All of these problems were of little importance, but to an extent affected my coding experiences. What I would like was \",[\"$\",\"strong\",\"strong-0\",{\"children\":\"minimal dependencies\"}],\" and \",[\"$\",\"strong\",\"strong-1\",{\"children\":\"minimal extra code\"}],\".\"]}],\"\\n\",[\"$\",\"p\",\"p-8\",{\"children\":[\"Luckily, with the help of \",[\"$\",\"a\",\"a-0\",{\"href\":\"https://kotlinlang.org/docs/reference/delegation.html\",\"children\":\"delegation\"}],\" and classpath scan capability provided by \",[\"$\",\"a\",\"a-1\",{\"href\":\"https://github.com/classgraph/classgraph\",\"children\":\"classgraph\"}],\", we could achieve the \",[\"$\",\"em\",\"em-0\",{\"children\":\"minimality\"}],\", with the introduction of only three simple APIs:\"]}],\"\\n\",[\"$\",\"ul\",\"ul-1\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"Service\"}],\" annotation to annotate service interface\"]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"ServiceImpl\"}],\" annotation to annotate implementation\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[[\"$\",\"code\",\"code-0\",{\"children\":\"di\"}],\" function for delegation\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"figure\",\"figure-7\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// annotate service interface with @Service\"}]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"@Service\"}]}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"interface\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" YourService\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"  fun\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" hello\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",\"span-5\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-6\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// annotate service implementation class with @ServiceImpl\"}]}],\"\\n\",[\"$\",\"span\",\"span-7\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"@ServiceImpl\"}]}],\"\\n\",[\"$\",\"span\",\"span-8\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"class\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" YourServiceImpl\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\": \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"YourService\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-9\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"  override\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" fun\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" hello\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"() {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-10\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"    println\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"Hello from YourServiceImpl\\\"\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",\"span-11\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",\"span-12\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"figure\",\"figure-8\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// in a random class that uses the service\"}]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"import\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" YourService\"}]]}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"class\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" AnotherClass\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"  // declare a property with the interface type and delegate it with di(),\"}]}],\"\\n\",[\"$\",\"span\",\"span-5\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"  // the function *where the magic is*\"}]}],\"\\n\",[\"$\",\"span\",\"span-6\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"  private\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" val\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" yourService: \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"YourService\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" by\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" di\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",\"span-7\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-8\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"  fun\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" hello\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"() {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-9\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"    // just call it\"}]}],\"\\n\",[\"$\",\"span\",\"span-10\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"    yourService.\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"hello\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",\"span-11\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",\"span-12\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",\"span-13\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-14\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"fun\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" main\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"() {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-15\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"  // just new an instance as usual\"}]}],\"\\n\",[\"$\",\"span\",\"span-16\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"  val\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" obj \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" AnotherClass\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",\"span-17\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-18\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"  obj.\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"hello\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"() \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// print out \\\"Hello from YourServiceImpl\\\"\"}]]}],\"\\n\",[\"$\",\"span\",\"span-19\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",\"span-20\",{\"data-line\":\"\",\"children\":\" \"}]]}]}]}],\"\\n\",[\"$\",\"h1\",null,{\"id\":\"how-it-is-done\",\"children\":[[\"$\",\"a\",\"how-it-is-done\",{\"href\":\"#how-it-is-done\",\"className\":\"mr-1\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 512 512\",\"className\":\"inline-block opacity-20 hover:opacity-60\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"$20\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":16,\"width\":16,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}],\"How It is Done?\"]}],\"\\n\",[\"$\",\"p\",\"p-9\",{\"children\":\"Here is the code with some comments to help understanding.\"}],\"\\n\",[\"$\",\"p\",\"p-10\",{\"children\":[\"Before getting started, install \",[\"$\",\"a\",\"a-0\",{\"href\":\"https://github.com/classgraph/classgraph\",\"children\":\"classgraph\"}],\" in your project with Maven or Gradle to have all the Services and ServiceImpls automatically scanned and configured like Spring Boot would do.\"]}],\"\\n\",[\"$\",\"figure\",\"figure-9\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// imports\"}]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"import\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" io.github.classgraph.ClassGraph\"}]]}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"import\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" kotlin.reflect.KClass\"}]]}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"import\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" kotlin.properties.ReadOnlyProperty\"}]]}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"import\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" kotlin.reflect.KProperty\"}]]}],\"\\n\",[\"$\",\"span\",\"span-5\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-6\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// annotations to annotate Service interface and Service implementation class\"}]}],\"\\n\",[\"$\",\"span\",\"span-7\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"@Target\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(AnnotationTarget.CLASS)\"}]]}],\"\\n\",[\"$\",\"span\",\"span-8\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"@Retention\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(AnnotationRetention.RUNTIME)\"}]]}],\"\\n\",[\"$\",\"span\",\"span-9\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"annotation\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" class\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" ServiceImpl\"}]]}],\"\\n\",[\"$\",\"span\",\"span-10\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-11\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"@Target\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(AnnotationTarget.CLASS)\"}]]}],\"\\n\",[\"$\",\"span\",\"span-12\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"@Retention\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(AnnotationRetention.RUNTIME)\"}]]}],\"\\n\",[\"$\",\"span\",\"span-13\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"annotation\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" class\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" Service\"}]]}],\"\\n\",[\"$\",\"span\",\"span-14\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-15\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// the exception when an implementation is not available\"}]}],\"\\n\",[\"$\",\"span\",\"span-16\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"class\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" NotProvidedException\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\": \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Exception\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",\"span-17\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-18\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// the container class\"}]}],\"\\n\",[\"$\",\"span\",\"span-19\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// `scanBase` is the base package that would be scanned\"}]}],\"\\n\",[\"$\",\"span\",\"span-20\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"@Suppress\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"UNCHECKED_CAST\\\"\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",\"span-21\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"class\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" CADiContainer\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(scanBase: \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"String\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-22\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-23\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"  // key as the Java Class object and value as its corresponding singleton instance\"}]}],\"\\n\",[\"$\",\"span\",\"span-24\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"  private\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" val\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" map \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" mutableMapOf\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Class\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c*\u003e, \"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Any\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"?\u003e()\"}]]}],\"\\n\",[\"$\",\"span\",\"span-25\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-26\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"  init\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-27\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"    // scan specified package\"}]}],\"\\n\",[\"$\",\"span\",\"span-28\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"    ClassGraph\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",\"span-29\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"      .\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"enableAllInfo\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",\"span-30\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"      .\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"whitelistPackages\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(scanBase)\"}]]}],\"\\n\",[\"$\",\"span\",\"span-31\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"      .\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"scan\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",\"span-32\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"      .\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"use\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" { scanResult \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"-\u003e\"}]]}],\"\\n\",[\"$\",\"span\",\"span-33\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-34\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"        // find out all interfaces annotated with Service\"}]}],\"\\n\",[\"$\",\"span\",\"span-35\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        val\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" services \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" scanResult.\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getClassesWithAnnotation\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(Service::\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"class\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".qualifiedName).\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"loadClasses\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",\"span-36\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-37\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"        // find out all implementation classes annotated with ServiceImpl\"}]}],\"\\n\",[\"$\",\"span\",\"span-38\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        val\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" impls \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" scanResult.\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getClassesWithAnnotation\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(ServiceImpl::\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"class\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".qualifiedName)\"}]]}],\"\\n\",[\"$\",\"span\",\"span-39\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-40\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"        // fill the instance map with service and service implementation\"}]}],\"\\n\",[\"$\",\"span\",\"span-41\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"        services.\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"forEach\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" { service \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"-\u003e\"}]]}],\"\\n\",[\"$\",\"span\",\"span-42\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"            map[service] \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" impls.\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"find\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" { it.\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"implementsInterface\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(service.name) }?.\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"loadClass\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()?.\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"newInstance\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",\"span-43\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"        }\"}]}],\"\\n\",[\"$\",\"span\",\"span-44\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"      }\"}]}],\"\\n\",[\"$\",\"span\",\"span-45\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",\"span-46\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-47\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"  // just look up the map and try to get the instance\"}]}],\"\\n\",[\"$\",\"span\",\"span-48\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"  fun\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" \u003c\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"T\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" : \"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Any\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003e \"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getInstance\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(type: \"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Class\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"T\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003e): \"}],[\"$\",\"span\",\"span-12\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"T\"}],[\"$\",\"span\",\"span-13\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-49\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" map[type] \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"as\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" T? ?: \"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"throw\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" NotProvidedException\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",\"span-50\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",\"span-51\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",\"span-52\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-53\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// instantiate a DI Container\"}]}],\"\\n\",[\"$\",\"span\",\"span-54\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"val\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" container \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" CADiContainer\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(scanBase)\"}]]}],\"\\n\",[\"$\",\"span\",\"span-55\",{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",\"span-56\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// Here is where magic is:\"}]}],\"\\n\",[\"$\",\"span\",\"span-57\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// define a inline function with reified type parameter\"}]}],\"\\n\",[\"$\",\"span\",\"span-58\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// and return an anonymous ReadOnlyProerty object to be used as a delegate\"}]}],\"\\n\",[\"$\",\"span\",\"span-59\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// which uses the reified type parameter\"}]}],\"\\n\",[\"$\",\"span\",\"span-60\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// to look up and return the instance in the container\"}]}],\"\\n\",[\"$\",\"span\",\"span-61\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"inline\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" fun\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" \u003c\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"reified\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\" T\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" : \"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Any\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003e \"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"di\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(): \"}],[\"$\",\"span\",\"span-10\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"ReadOnlyProperty\"}],[\"$\",\"span\",\"span-11\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"span-12\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Any\"}],[\"$\",\"span\",\"span-13\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\", \"}],[\"$\",\"span\",\"span-14\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"T\"}],[\"$\",\"span\",\"span-15\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003e {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-62\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"    return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" object\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" : \"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"ReadOnlyProperty\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Any\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\", \"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"T\"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003e {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-63\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"        override\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\" fun\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\" getValue\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(thisRef: \"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"Any\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\", property: \"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"KProperty\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c*\u003e): \"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"T\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-64\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"            return\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" container.\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"getInstance\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(T::\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"class\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\".java)\"}]]}],\"\\n\",[\"$\",\"span\",\"span-65\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"        }\"}]}],\"\\n\",[\"$\",\"span\",\"span-66\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",\"span-67\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"h1\",null,{\"id\":\"whats-good\",\"children\":[[\"$\",\"a\",\"whats-good\",{\"href\":\"#whats-good\",\"className\":\"mr-1\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 512 512\",\"className\":\"inline-block opacity-20 hover:opacity-60\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"$21\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":16,\"width\":16,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}],\"What's Good?\"]}],\"\\n\",[\"$\",\"ul\",\"ul-2\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"Singleton\"}],\" injection\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-11\",{\"children\":\"All injected instances are singleton, which is how DI is usually used.\"}],\"\\n\",[\"$\",\"ul\",\"ul-3\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"new\"}],\" support\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-12\",{\"children\":[\"You can also simply \",[\"$\",\"strong\",\"strong-0\",{\"children\":\"new\"}],\" an object (which should not be annotated with @ServiceImpl) if singleton injection is not enough, or context parameters are required when using a service. \",[\"$\",\"strong\",\"strong-1\",{\"children\":\"New-ed\"}],\" object can still use its dependencies. No extra learning needed.\"]}],\"\\n\",[\"$\",\"ul\",\"ul-4\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"Circular\"}],\" and \",[\"$\",\"strong\",\"strong-1\",{\"children\":\"hierarchy\"}],\" Dependency\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-13\",{\"children\":[\"Unlike commonly used \",[\"$\",\"strong\",\"strong-0\",{\"children\":\"constructor injection\"}],\" and \",[\"$\",\"strong\",\"strong-1\",{\"children\":\"setter injection\"}],\", dependent object are fetched \",[\"$\",\"strong\",\"strong-2\",{\"children\":\"dynamically\"}],\" from the container \",[\"$\",\"strong\",\"strong-3\",{\"children\":\"when the property is being accessed\"}],\". Nothing will be injected during the instantiation of objects. So there would be no problem to have circular and hierarchy dependency structure at all.\"]}],\"\\n\",[\"$\",\"ul\",\"ul-5\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[[\"$\",\"strong\",\"strong-0\",{\"children\":\"Structure\"}],\" your project as you wish\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-14\",{\"children\":[\"With other DI frameworks (like \",[\"$\",\"a\",\"a-0\",{\"href\":\"https://autofac.readthedocs.io/en/latest/getting-started/index.html#structuring-the-application\",\"children\":\"autofac\"}],\" and Spring), the whole application must be structured \",[\"$\",\"strong\",\"strong-0\",{\"children\":\"from the ground up\"}],\" and configured in guidance of the DI framework of your choice , which is time-wasting and totally a overkill if a simple application is all what you need.\"]}],\"\\n\",[\"$\",\"h1\",null,{\"id\":\"limitations\",\"children\":[[\"$\",\"a\",\"limitations\",{\"href\":\"#limitations\",\"className\":\"mr-1\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 512 512\",\"className\":\"inline-block opacity-20 hover:opacity-60\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"$22\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":16,\"width\":16,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}],\"Limitations\"]}],\"\\n\",[\"$\",\"ul\",\"ul-6\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"Can not use dependency in \",[\"$\",\"code\",\"code-0\",{\"children\":\"init\"}],\" block\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-15\",{\"children\":[\"All services are instantiated \",[\"$\",\"strong\",\"strong-0\",{\"children\":\"randomly\"}],\" (to be more precise, in the order of time when it is scanned), regardless of \",[\"$\",\"strong\",\"strong-1\",{\"children\":\"their dependency relationships\"}],\". For example, \",[\"$\",\"strong\",\"strong-2\",{\"children\":\"if A uses B, it is possible that B is instantiated earier than A\"}],\", in which case access to B inside A's \",[\"$\",\"code\",\"code-0\",{\"children\":\"init\"}],\" block would cause \",[\"$\",\"code\",\"code-1\",{\"children\":\"NotProvidedException\"}],\" since at that time A instance has not been in the container. This problem can be solved with \",[\"$\",\"strong\",\"strong-3\",{\"children\":\"prior dependency relationship analysis\"}],\" or \",[\"$\",\"strong\",\"strong-4\",{\"children\":\"custom after-instantiation hook\"}],\".\"]}],\"\\n\",[\"$\",\"ul\",\"ul-7\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"No advanced features like object lifetime control, scope, test...\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-16\",{\"children\":[\"It should be emphasized that our 50 lines of code only targets to \",[\"$\",\"strong\",\"strong-0\",{\"children\":\"small application\"}],\" and \",[\"$\",\"strong\",\"strong-1\",{\"children\":\"is not for production\"}],\", so advanced features are never considered. Use full blown DI framework if your application is serious.\"]}],\"\\n\",[\"$\",\"h1\",null,{\"id\":\"my-thoughts-on-kotlin\",\"children\":[[\"$\",\"a\",\"my-thoughts-on-kotlin\",{\"href\":\"#my-thoughts-on-kotlin\",\"className\":\"mr-1\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 512 512\",\"className\":\"inline-block opacity-20 hover:opacity-60\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"$23\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":16,\"width\":16,\"xmlns\":\"http://www.w3.org/2000/svg\"}]}],\"My Thoughts on Kotlin\"]}],\"\\n\",[\"$\",\"p\",\"p-17\",{\"children\":\"My first impression to Kotlin was a mixed bag:\"}],\"\\n\",[\"$\",\"p\",\"p-18\",{\"children\":[\"It had lots of features that C# and Java did't, which does improve coding experience a lot: \",[\"$\",\"strong\",\"strong-0\",{\"children\":\"strict nullity check\"}],\", \",[\"$\",\"strong\",\"strong-1\",{\"children\":\"pattern matching\"}],\"(which C# is introducing), \",[\"$\",\"strong\",\"strong-2\",{\"children\":\"delegation\"}],\", \",[\"$\",\"strong\",\"strong-3\",{\"children\":\"function type\"}],\" (\",[\"$\",\"span\",\"span-0\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"children\":[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(Int, String) \"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" String\"}]]}]}]}],\", which is more intuitive than \",[\"$\",\"code\",\"code-0\",{\"children\":\"Action\"}],\" delegations in C#, and various and differently named built-in functional interfaces (like \",[\"$\",\"code\",\"code-1\",{\"children\":\"Consumer\"}],\", \",[\"$\",\"code\",\"code-2\",{\"children\":\"Producer\"}],\") in Java which are hard to remember), \",[\"$\",\"strong\",\"strong-4\",{\"children\":\"inline functons\"}],\" and more;\"]}],\"\\n\",[\"$\",\"p\",\"p-19\",{\"children\":[\"Some parts of language seemed confusing at first, but later was proved to be excellent. For example \",[\"$\",\"strong\",\"strong-0\",{\"children\":[\"$\",\"a\",\"a-0\",{\"href\":\"https://kotlinlang.org/docs/reference/lambdas.html#lambda-expressions-and-anonymous-functions\",\"children\":\"lambda\"}]}],\" in Kotlin needs to be wrapped with a brace(\",[\"$\",\"code\",\"code-0\",{\"children\":\"{}\"}],\") pair  (like \",[\"$\",\"span\",\"span-0\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"children\":[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"func\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(arr, {a, b \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"  a \"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" b})\"}]]}]}]}],\" (just an example)), where Java doesn't (\",[\"$\",\"span\",\"span-1\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"java\",\"data-theme\":\"one-dark-pro\",\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"children\":[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"func\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\"(arr\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" (a\"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\",\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" b) \"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",\"span-7\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" a \"}],[\"$\",\"span\",\"span-8\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"span-9\",{\"style\":{\"color\":\"#E06C75\"},\"children\":\" b)\"}]]}]}]}],\"). However with the ability to \",[\"$\",\"a\",\"a-0\",{\"href\":\"https://kotlinlang.org/docs/reference/lambdas.html#lambda-expressions-and-anonymous-functions\",\"children\":\"write the last lambda parameter outside of parentheses\"}],\" (\",[\"$\",\"span\",\"span-2\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"children\":[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"func\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(arr) {a, b \"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#C678DD\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" x a \"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" b}\"}]]}]}]}],\"), the extra abilities it brings overweigh the disadvantages.\"]}],\"\\n\",[\"$\",\"p\",\"p-20\",{\"children\":[\"For example, with the help of \",[\"$\",\"a\",\"a-0\",{\"href\":\"https://tornadofx.io/\",\"children\":\"TornadoFX\"}],\", an excellent JavaFX framework for Kotlin, building JavaFX views can be done \",[\"$\",\"strong\",\"strong-0\",{\"children\":\"directly in Kotlin\"}],\" elegantly, which is even better than FXML, since \",[\"$\",\"em\",\"em-0\",{\"children\":\"strongly-typed-ness\"}],\" makes coding way less error-prone, verbose and intuitive than XML.\"]}],\"\\n\",[\"$\",\"figure\",\"figure-10\",{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",\"pre-0\",{\"style\":{\"backgroundColor\":\"#282c34\",\"color\":\"#abb2bf\"},\"tabIndex\":0,\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"children\":[\"$\",\"code\",\"code-0\",{\"data-language\":\"kotlin\",\"data-theme\":\"one-dark-pro\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",\"span-0\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"// define a vbox\"}]}],\"\\n\",[\"$\",\"span\",\"span-1\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"vbox\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-2\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"\\t// define a button as a child component, with \\\"Button\\\" as text, and an onAction function\"}]}],\"\\n\",[\"$\",\"span\",\"span-3\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"\\tbutton\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#98C379\"},\"children\":\"\\\"Button\\\"\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-4\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"\\t\\taction\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",\"span-5\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"\\t\\t\\treplaceWith\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003c\"}],[\"$\",\"span\",\"span-2\",{\"style\":{\"color\":\"#E5C07B\"},\"children\":\"StudentCheckinView\"}],[\"$\",\"span\",\"span-3\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\u003e(sizeToScene \"}],[\"$\",\"span\",\"span-4\",{\"style\":{\"color\":\"#56B6C2\"},\"children\":\"=\"}],[\"$\",\"span\",\"span-5\",{\"style\":{\"color\":\"#D19A66\"},\"children\":\" true\"}],[\"$\",\"span\",\"span-6\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",\"span-6\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\\t\\t}\"}]}],\"\\n\",[\"$\",\"span\",\"span-7\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"\\t}\"}]}],\"\\n\",[\"$\",\"span\",\"span-8\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#7F848E\",\"fontStyle\":\"italic\"},\"children\":\"\\t// a list view whose data source is aList\"}]}],\"\\n\",[\"$\",\"span\",\"span-9\",{\"data-line\":\"\",\"children\":[[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#61AFEF\"},\"children\":\"\\tlistview\"}],[\"$\",\"span\",\"span-1\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"(aList)\"}]]}],\"\\n\",[\"$\",\"span\",\"span-10\",{\"data-line\":\"\",\"children\":[\"$\",\"span\",\"span-0\",{\"style\":{\"color\":\"#ABB2BF\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",\"p-21\",{\"children\":[\"Gradle also \",[\"$\",\"a\",\"a-0\",{\"href\":\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\",\"children\":\"supports Kotlin as its DSL\"}],\" alongside Groovy, which also proves the benefits of this grammar are phenomenal.\"]}],\"\\n\",[\"$\",\"p\",\"p-22\",{\"children\":\"Of course Kotlin has some problems, like the grammar of anonymous object is more verbose than Java's (where just a lambda would be enough) and some type system related problems thanks to the type erasure of JVM.\"}],\"\\n\",[\"$\",\"p\",\"p-23\",{\"children\":\"But the defects cannot obscure the virtues.\"}],\"\\n\",[\"$\",\"p\",\"p-24\",{\"children\":[\"The features (including \",[\"$\",\"em\",\"em-0\",{\"children\":\"grammar sugars\"}],\") Kotlin has have opened my eyes, showing me how a programming language that is modern, well-designed and has no history burdens can be like, how these features and grammar sugars can make coding much more productive and enjoyful, and most importantly, \",[\"$\",\"strong\",\"strong-0\",{\"children\":\"how our ways of thinking a problem can be different\"}],\".\"]}],\"\\n\",[\"$\",\"p\",\"p-25\",{\"children\":[\"Everyone knows that programming languages are just tools: that's true, but \",[\"$\",\"strong\",\"strong-0\",{\"children\":\"tools can also influence how we look at problems\"}],\".\"]}],\"\\n\",[\"$\",\"p\",\"p-26\",{\"children\":\"A programmer who only knew procedural programming language would try to solve every problems procedurally, quickly being overwhelmed by exponentially growing complexity; A OOP only programmer would wrap everything into objects, resulting in piles of useless boilerplate codes and a class hierarchy so complicated that only god could understand it; A FP originalist would try to use FP on everything, ignoring the nature of the problem, the communities of selected technologies and his/her teammates, all leading to the failure of the project.\"}],\"\\n\",[\"$\",\"p\",\"p-27\",{\"children\":\"Learning different languages can bring different angles to view a problem and different tools to solve a problem, and that is valuable for any programmers.\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"hidden lg:block lg:w-[25%]\",\"children\":[\"$\",\"$L24\",null,{\"toc\":[{\"depth\":1,\"value\":\"Why\",\"id\":\"why\"},{\"depth\":1,\"value\":\"How It is Done?\",\"id\":\"how-it-is-done\"},{\"depth\":1,\"value\":\"What's Good?\",\"id\":\"whats-good\"},{\"depth\":1,\"value\":\"Limitations\",\"id\":\"limitations\"},{\"depth\":1,\"value\":\"My Thoughts on Kotlin\",\"id\":\"my-thoughts-on-kotlin\"}],\"hasSummary\":true}]}]]}]\n"])</script></body></html>