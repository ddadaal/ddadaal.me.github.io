(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[553],{393:(e,s,a)=>{"use strict";a.d(s,{ArticleSearchPage:()=>p});var r=a(9605),t=a(8170),n=a.n(t),l=a(1804),i=a(6762),c=a.n(i),d=a(5935),o=a(9585),h=a(9703),x=a(6700),m=a(1156),u=a(9876),j=a(6790);let g=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=parseInt(e);return isNaN(a)?s:a},b=["similarity","time","timeDesc"],f=(0,u.Pl)("search.order."),p=e=>{let{index:s,articleListInfos:a,articleCount:t,tagCounts:i}=e,p=(0,u.s9)(),[v]=(0,o.useState)(()=>l.A.loadJSON(s,{fields:["title","content","tags"]})),N=Object.fromEntries((0,d.useSearchParams)().entries()),y=(0,d.usePathname)(),w=N.query,S=g(N.page,1),_=N.order;_&&b.includes(_)||(_=b[0]);let C=v.search(w);C.sort((e,s)=>{if("similarity"===_)return e.score-s.score;let r=e=>{var s;let r=a.find(s=>s.id===e.id);if(!r)throw Error("Article not found: ".concat(e.id));return null!=(s=r.langVersions.find(e=>e.lang===p.currentLanguage.id))?s:r.langVersions[0]},t=r(e),n=r(s),l=(0,j.a)(t.date).toMillis()-(0,j.a)(n.date).toMillis();return"time"===_?l:-l});let k=Math.ceil(C.length/5);return(0,r.jsxs)("div",{className:"p-2",children:[(0,r.jsx)("div",{className:"lg:hidden max-w-full my-4",children:(0,r.jsx)(x.I,{showTags:!0,tagCounts:i,articleCount:t})}),(0,r.jsxs)("div",{className:"flex justify-between py-2",children:[(0,r.jsxs)("h1",{className:"text-3xl flex items-center",children:[(0,r.jsx)(u.Oj,{id:"search.title",args:[(0,r.jsx)("span",{className:"pr-2 font-bold",children:w},"query")]}),"(",C.length,")"]}),(0,r.jsxs)("div",{className:"dropdown dropdown-end",children:[(0,r.jsxs)("label",{tabIndex:0,className:"btn m-1",children:[(0,r.jsx)(h.MjW,{}),(0,r.jsx)(u.Oj,{id:f(_)})]}),(0,r.jsx)("ul",{tabIndex:0,className:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-52",children:b.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)(c(),{href:{pathname:y,query:{...N,order:e}},children:(0,r.jsx)(u.Oj,{id:f(e)})})},e))})]})]}),(0,r.jsx)("div",{className:"space-y-6",children:C.slice(5*(S-1),5*S).map(e=>{let s=a.find(s=>s.id===e.id);if(!s)throw Error("Article not found: ".concat(e.id));return(0,r.jsx)(m.k,{article:s},s.id)})}),(0,r.jsx)("div",{className:"flex justify-center w-full my-2",children:(0,r.jsx)("div",{className:"join flex-wrap",children:Array.from({length:k},(e,s)=>s+1).map(e=>(0,r.jsx)(c(),{href:{pathname:y,query:{...N,page:e}},children:(0,r.jsx)("button",{className:n()("join-item","btn",{"btn-active":e===S}),children:e})},e))})})]})}},745:(e,s,a)=>{Promise.resolve().then(a.bind(a,6700)),Promise.resolve().then(a.bind(a,393))},1156:(e,s,a)=>{"use strict";a.d(s,{k:()=>c});var r=a(9605),t=a(6762),n=a.n(t),l=a(1657),i=a(9876);let c=e=>{var s;let{article:a}=e,t=(0,i.s9)(),c=null!=(s=a.langVersions.find(e=>e.lang===t.currentLanguage.id))?s:a.langVersions[0];return(0,r.jsxs)("div",{children:[(0,r.jsx)(n(),{className:"text-3xl my-2 link link-hover block break-words",href:"/articles/".concat(a.id),children:c.title}),(0,r.jsx)(l.ArticleFrontmatter,{articleId:a.id,info:c,langVersions:a.langVersions.map(e=>e.lang)}),(0,r.jsx)("div",{className:"break-words",children:c.excerpt})]})}},1233:(e,s,a)=>{"use strict";a.d(s,{Z0:()=>n,bx:()=>r,eo:()=>t,q:()=>l});let r={"zh-CN":()=>a.e(394).then(a.t.bind(a,2394,19)).then(e=>e.default),"en-US":()=>a.e(740).then(a.t.bind(a,6740,19)).then(e=>e.default)},t={"zh-CN":{gitalkLangId:"zh-CN",simplified:"cn",langStrings:["cn","zh-CN","zh"],htmlLang:"zh-CN",name:"简体中文",icon:()=>"\uD83C\uDDE8\uD83C\uDDF3 "},"en-US":{gitalkLangId:"en",simplified:"en",langStrings:["en","en-US"],htmlLang:"en-US",name:"English",icon:()=>"\uD83C\uDDFA\uD83C\uDDF8 "}},n=e=>t[e],l="zh-CN";Object.keys(t)},1258:(e,s,a)=>{"use strict";a.d(s,{$:()=>r});let r=e=>{var s;return null!=(s=e.absolute_path)?s:"/articles/".concat(e.id)}},1657:(e,s,a)=>{"use strict";a.d(s,{ArticleFrontmatter:()=>u});var r=a(9605),t=a(8170),n=a.n(t),l=a(6762),i=a.n(l),c=a(8767),d=a(9703),o=a(1258),h=a(9394),x=a(9876),m=a(6790);let u=e=>{let{articleId:s,info:a,className:t,langVersions:l}=e,u=(0,x.s9)();return(0,r.jsxs)("div",{className:n()("flex flex-wrap gap-3 my-2 text-sm",t),children:[a.tags?(0,r.jsxs)("div",{className:"flex flex-wrap gap-1 items-center",children:[(0,r.jsx)(d.wJQ,{}),a.tags.map(e=>(0,r.jsx)(i(),{href:{pathname:"/articles/search",query:{query:e}},className:"badge badge-accent mx-0.5 text-accent-content",children:(0,h.Z)(u.currentLanguage.id,e)},e))]}):void 0,(0,r.jsxs)("div",{className:"flex items-center",title:u.translateToString("articleFrontmatter.date"),children:[(0,r.jsx)(d.itz,{}),(0,r.jsx)("span",{className:"mx-0.5",children:(0,m.r)((0,m.a)(a.date))})]}),a.last_updated?(0,r.jsxs)("div",{className:"flex items-center",title:u.translateToString("articleFrontmatter.lastUpdated"),children:[(0,r.jsx)(d.W5v,{}),(0,r.jsx)("span",{className:"mx-0.5",children:(0,m.r)((0,m.a)(a.last_updated))})]}):void 0,(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(d.WLb,{}),(0,r.jsx)("span",{className:"mx-0.5",children:(0,r.jsx)(x.Oj,{id:"articleFrontmatter.wordCount",args:[a.wordCount]})})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(d.w_X,{}),(0,r.jsx)("span",{className:"mx-0.5",children:(0,r.jsx)(x.Oj,{id:"articleFrontmatter.timeToRead",args:[Math.ceil(a.readingTime)]})})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(d.f35,{}),(0,r.jsx)("span",{className:"mx-0.5 space-x-1",children:l.map(e=>{var t,n;return(0,r.jsx)(i(),{className:"link link-hover",href:(0,c.join)((0,o.$)({id:s,absolute_path:a.absolute_path}),e),children:null!=(n=null==(t=Object.values(x.eo).find(s=>s.simplified===e))?void 0:t.name)?n:e},e)})})]})]})}},6173:e=>{e.exports={search_bar:"search_search_bar__maOH2",search_bar_tags:"search_search_bar_tags__SGuJt"}},6700:(e,s,a)=>{"use strict";a.d(s,{I:()=>N,SearchCard:()=>y,TagsCard:()=>f,WebsiteCard:()=>g});var r=a(9605),t=a(8170),n=a.n(t),l=a(6762),i=a.n(l),c=a(5935),d=a(9585),o=a(9703),h=a(9394),x=a(9876),m=a(6173),u=a.n(m);let j=e=>{let{href:s,children:a,target:t}=e;return(0,r.jsx)(i(),{className:"link link-hover flex items-center my-1 space-x-1",href:s,target:t,children:a})},g=()=>(0,r.jsx)("div",{className:"card card-bordered bg-base-100 shadow-xl",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("h2",{className:"card-title",children:[(0,r.jsx)(o.f35,{})," ","ddadaal.me |"," ",(0,r.jsx)(x.Oj,{id:"blogIntro.subtitle"})]}),(0,r.jsx)("p",{children:(0,r.jsx)(x.Oj,{id:"blogIntro.description2"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(j,{href:"https://github.com/ddadaal/ddadaal.me",target:"_blank",children:[(0,r.jsx)(o.FSj,{}),(0,r.jsx)("span",{children:(0,r.jsx)(x.Oj,{id:"blogIntro.sourceCode"})})]}),(0,r.jsxs)(j,{href:"/rss.xml",target:"_blank",children:[(0,r.jsx)(o.E5t,{})," ",(0,r.jsx)("span",{children:"RSS"})]}),(0,r.jsxs)(j,{href:"/feedback",children:[(0,r.jsx)(o.Nhu,{}),(0,r.jsx)("span",{children:(0,r.jsx)(x.Oj,{id:"blogIntro.feedback"})})]})]})]})}),b=e=>{let{tagCounts:s}=e,a=(0,x.s9)();return(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map(e=>{let{tag:s,count:t}=e;return(0,r.jsxs)(i(),{href:{pathname:"/articles/search",query:{query:s}},className:"rounded-box p-1 text-sm text-base-content bg-base-200 hover:bg-base-300 transition",children:[(0,h.Z)(a.currentLanguage.id,s),(0,r.jsx)("div",{className:"badge badge-outline badge-accent text-accent-content ml-1 p-1",children:t})]},s)})})},f=e=>{let{tagCounts:s}=e;return(0,r.jsx)("div",{className:"card card-bordered bg-base-100 shadow-xl",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("h2",{className:"card-title",children:[(0,r.jsx)(o.BuZ,{}),(0,r.jsx)(x.Oj,{id:"tagsCard.title"})]}),(0,r.jsx)(b,{tagCounts:s})]})})},p=e=>(0,r.jsx)("input",{type:"text",className:"input input-bordered flex-1",autoComplete:"off",...e}),v=e=>{var s;let{placeholder:a,name:t}=e,n=null!=(s=(0,c.useSearchParams)().get("query"))?s:void 0,[l,i]=(0,d.useState)(n);return(0,d.useEffect)(()=>{i(n)},[n]),(0,r.jsx)(p,{placeholder:a,value:l,name:t,onChange:e=>{i(e.target.value)}})},N=e=>{let{articleCount:s,showTags:a,tagCounts:t}=e,l=(0,x.s9)(),i=(0,c.useRouter)(),h=l.translateToString("search.inputPlaceholder",[s.toString()]);return(0,r.jsxs)("div",{className:n()("form-control my-2",{[u().search_bar]:a}),children:[(0,r.jsxs)("form",{className:"flex form-control flex-row",action:"/articles/search",method:"GET",onSubmit:e=>{e.preventDefault();let s=e.currentTarget;i.push("/articles/search?query="+encodeURIComponent(s.query.value))},children:[(0,r.jsx)(d.Suspense,{fallback:(0,r.jsx)(p,{placeholder:h}),children:(0,r.jsx)(v,{placeholder:h,name:"query"})}),(0,r.jsx)("button",{type:"submit",className:"btn btn-square ",children:(0,r.jsx)(o.KSO,{})})]}),a?(0,r.jsx)("div",{className:n()("hidden p-4 shadow",u().search_bar_tags),children:(0,r.jsx)(b,{tagCounts:t})}):void 0]})},y=e=>{let{articleCount:s,tagCounts:a,showTags:t}=e;return(0,r.jsx)("div",{className:"card card-bordered bg-base-100 shadow-xl",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("h2",{className:"card-title",children:[(0,r.jsx)(o.KSO,{}),(0,r.jsx)(x.Oj,{id:"search.cardTitle"})]}),(0,r.jsx)("div",{children:(0,r.jsx)(N,{articleCount:s,showTags:t,tagCounts:a})})]})})}},6790:(e,s,a)=>{"use strict";a.d(s,{a:()=>n,r:()=>t});var r=a(9207);function t(e){return e.toFormat("yyyy-MM-dd HH:mm:ss 'UTC'Z")}function n(e){return r.c9.fromSQL(e,{zone:"Asia/Shanghai"})}},8832:(e,s,a)=>{"use strict";a.r(s),a.d(s,{Localized:()=>l,Provider:()=>i,prefix:()=>d,useI18n:()=>c});var r=a(8052),t=a(1233);let n=(0,r.hU)(t.bx),l=n.Localized,i=n.Provider,c=n.useI18n,d=n.prefix},9394:(e,s,a)=>{"use strict";a.d(s,{Z:()=>n});var r=a(9876);let t=JSON.parse('[{"tag":"problem-investigation","cn":"问题探究","en":"Problem Investigation"},{"tag":"project","cn":"我的项目","en":"My Projects"},{"tag":"code-trick","cn":"代码技巧","en":"Code Tricks"},{"tag":"web-frontend","cn":"Web前端","en":"Web Front-end"},{"tag":"thoughts","cn":"看法","en":"Thoughts"},{"tag":"hands-on","cn":"上手","en":"Hands On"},{"tag":"blog","cn":"博客","en":"Blog"},{"tag":"math","cn":"数学","en":"Math"},{"tag":"interview-experiences","cn":"面试经验","en":"Interview Experiences"},{"tag":"annual-summary","cn":"年度总结","en":"Annual Summary"},{"tag":"in-class","cn":"课内","en":"In Class"},{"tag":"Microsoft","cn":"微软","en":"Microsoft"},{"tag":"life","cn":"生活","en":"Life"},{"tag":"editor","cn":"编辑器","en":"Editor"},{"tag":"wearables","cn":"可穿戴设备","en":"Wearables"}]');function n(e,s){var a;let n=t.find(e=>e.tag===s);return null!=(a=null==n?void 0:n[(0,r.Z0)(e).simplified])?a:s}},9876:(e,s,a)=>{"use strict";a.d(s,{Kq:()=>r.Provider,Oj:()=>r.Localized,Pl:()=>r.prefix,Z0:()=>t.Z0,eo:()=>t.eo,q:()=>t.q,s9:()=>r.useI18n});var r=a(8832),t=a(1233)}},e=>{var s=s=>e(e.s=s);e.O(0,[426,458,762,207,721,390,110,358],()=>s(745)),_N_E=e.O()}]);